1
00:00:00,089 --> 00:00:02,850
so well then welcome to another tutorial

2
00:00:02,850 --> 00:00:04,890
my name is Sam actually this time we're

3
00:00:04,890 --> 00:00:07,189
gonna be going over the Google or gmail

4
00:00:07,189 --> 00:00:11,639
ooofff 2.0 authentication API and also

5
00:00:11,639 --> 00:00:13,620
we're doing in iOS not any of the other

6
00:00:13,620 --> 00:00:16,109
languages of supporting or at least this

7
00:00:16,109 --> 00:00:19,470
time or such as PHP or Ruby but anyway

8
00:00:19,470 --> 00:00:22,710
before we get into that this video is

9
00:00:22,710 --> 00:00:25,289
going to be essentially a part two to my

10
00:00:25,289 --> 00:00:28,140
chatting app so there will be a link to

11
00:00:28,140 --> 00:00:32,279
in the description to that video now

12
00:00:32,279 --> 00:00:35,160
let's get Kent let's continue now what

13
00:00:35,160 --> 00:00:38,010
am i doing in this video essentially

14
00:00:38,010 --> 00:00:39,570
what I'm doing isn't what you telling

15
00:00:39,570 --> 00:00:42,149
you how you can take the old chatting

16
00:00:42,149 --> 00:00:45,629
app and you can instead of having to put

17
00:00:45,629 --> 00:00:47,430
in your own username and password into

18
00:00:47,430 --> 00:00:50,160
the app you can log into your gmail

19
00:00:50,160 --> 00:00:52,559
account which will act as authentication

20
00:00:52,559 --> 00:00:56,789
for the chatting app now the way we're

21
00:00:56,789 --> 00:00:59,670
going to be doing this is pretty simple

22
00:00:59,670 --> 00:01:02,219
but first of all let me just get out of

23
00:01:02,219 --> 00:01:03,960
the way what are some advantages of

24
00:01:03,960 --> 00:01:07,500
doing this well one main advantage is

25
00:01:07,500 --> 00:01:10,830
security and the next advantage is just

26
00:01:10,830 --> 00:01:13,560
overall relief I wrote the developer and

27
00:01:13,560 --> 00:01:17,880
the user so now security what does this

28
00:01:17,880 --> 00:01:21,810
mean in our old chatting app we're just

29
00:01:21,810 --> 00:01:23,610
taking the username and password of the

30
00:01:23,610 --> 00:01:26,909
user putting it straight into our parse

31
00:01:26,909 --> 00:01:30,659
database not encrypting it of any kind

32
00:01:30,659 --> 00:01:33,689
or anything so we're limited by parses

33
00:01:33,689 --> 00:01:36,360
security if someone were to get by Parsa

34
00:01:36,360 --> 00:01:39,390
security then they'd easily get into our

35
00:01:39,390 --> 00:01:41,600
database and hack all the chatting apps

36
00:01:41,600 --> 00:01:45,570
chatting app accounts however with Gmail

37
00:01:45,570 --> 00:01:49,860
we know that Gmail has one of the best

38
00:01:49,860 --> 00:01:53,430
security features in the world if you

39
00:01:53,430 --> 00:01:55,290
have Gmail in your account probably

40
00:01:55,290 --> 00:01:58,200
won't get packed and so we're utilizing

41
00:01:58,200 --> 00:02:01,469
the security of Gmail and also it's much

42
00:02:01,469 --> 00:02:03,299
better for the user because they have

43
00:02:03,299 --> 00:02:05,490
just one set of username and password

44
00:02:05,490 --> 00:02:07,350
that works with all of their Google

45
00:02:07,350 --> 00:02:10,560
stuff and all of their account stuff so

46
00:02:10,560 --> 00:02:11,730
they don't have like a billion different

47
00:02:11,730 --> 00:02:13,319
passwords going around but that

48
00:02:13,319 --> 00:02:16,980
remember each one and so those are the

49
00:02:16,980 --> 00:02:19,109
advantages out of the way now which APR

50
00:02:19,109 --> 00:02:19,980
we're going to be using

51
00:02:19,980 --> 00:02:22,819
it's called OAuth or open authentication

52
00:02:22,819 --> 00:02:27,239
2.0 because they've deprecated one and

53
00:02:27,239 --> 00:02:29,219
so we're going to be using the iOS

54
00:02:29,219 --> 00:02:30,810
version of this library which can

55
00:02:30,810 --> 00:02:32,629
sometimes be very hard and frustrating

56
00:02:32,629 --> 00:02:35,340
and this actually took me quite a while

57
00:02:35,340 --> 00:02:38,189
over maybe even a week to actually get

58
00:02:38,189 --> 00:02:40,500
set up and running because sometimes I

59
00:02:40,500 --> 00:02:42,299
would just get an error where the user

60
00:02:42,299 --> 00:02:45,060
header search paths wouldn't work or

61
00:02:45,060 --> 00:02:46,650
something like that but this video will

62
00:02:46,650 --> 00:02:48,269
make it very easy for you to be able to

63
00:02:48,269 --> 00:02:51,419
do that so now let's discuss how the

64
00:02:51,419 --> 00:02:54,209
algorithm of our authentication will

65
00:02:54,209 --> 00:02:57,000
change so let's get started with what

66
00:02:57,000 --> 00:02:58,680
was our old algorithm

67
00:02:58,680 --> 00:03:03,030
well what simply we would have usually a

68
00:03:03,030 --> 00:03:05,280
client on this end let's just say this

69
00:03:05,280 --> 00:03:11,760
is a client now client signs in or signs

70
00:03:11,760 --> 00:03:18,109
up for this app with a username as

71
00:03:18,439 --> 00:03:24,209
client three for two or something like

72
00:03:24,209 --> 00:03:29,329
that and his password is something like

73
00:03:29,329 --> 00:03:36,659
client is the best not the most secure

74
00:03:36,659 --> 00:03:40,109
password but anyway now what's going to

75
00:03:40,109 --> 00:03:42,120
happen is this or this is going to be

76
00:03:42,120 --> 00:03:47,489
nicknamed username and this is going to

77
00:03:47,489 --> 00:03:53,819
be named password by the app ok then

78
00:03:53,819 --> 00:03:55,590
we're going to have our parse database

79
00:03:55,590 --> 00:04:02,930
here and over here on our parse a debase

80
00:04:02,930 --> 00:04:08,269
no we're going to have our users

81
00:04:08,269 --> 00:04:12,959
database or a table sorry in which we

82
00:04:12,959 --> 00:04:16,699
will take this username and password and

83
00:04:16,699 --> 00:04:23,639
upload and to here and notice there's

84
00:04:23,639 --> 00:04:26,150
nothing going on why we'll up while

85
00:04:26,150 --> 00:04:29,150
uploading we're not encrypting it we're

86
00:04:29,150 --> 00:04:32,479
not putting in a secure place we're not

87
00:04:32,479 --> 00:04:34,580
doing anything would this username or

88
00:04:34,580 --> 00:04:36,860
password which would make it secure at

89
00:04:36,860 --> 00:04:41,570
all really and so this is named as an

90
00:04:41,570 --> 00:04:49,070
unsecured method or actually I once I

91
00:04:49,070 --> 00:04:50,960
highly unsecure because they're using

92
00:04:50,960 --> 00:04:53,540
parse a parse data base not a custom

93
00:04:53,540 --> 00:04:56,710
MySQL database but still this is

94
00:04:56,710 --> 00:04:59,660
potentially a security threat I'm not

95
00:04:59,660 --> 00:05:01,100
trying to say that parse isn't secure

96
00:05:01,100 --> 00:05:04,880
it's extremely secure but I'm I don't

97
00:05:04,880 --> 00:05:06,949
want to take any chances with extremely

98
00:05:06,949 --> 00:05:08,810
confidential information okay

99
00:05:08,810 --> 00:05:13,449
and so I would honestly label this

100
00:05:13,449 --> 00:05:18,229
unsecure however let's just jump over to

101
00:05:18,229 --> 00:05:22,039
a new method over here over here we see

102
00:05:22,039 --> 00:05:25,900
we have Gmail

103
00:05:26,830 --> 00:05:31,210
okay now gmail has a username and

104
00:05:31,210 --> 00:05:37,310
password as well you still have to use a

105
00:05:37,310 --> 00:05:40,280
username and password but guess what

106
00:05:40,280 --> 00:05:47,150
your Gmail account works with YouTube it

107
00:05:47,150 --> 00:05:48,020
works

108
00:05:48,020 --> 00:05:52,849
with a drive it works with pretty much

109
00:05:52,849 --> 00:05:55,300
everything else you have for Google and

110
00:05:55,300 --> 00:05:58,130
it also works with third-party apps such

111
00:05:58,130 --> 00:06:04,449
as Stack Overflow and so as you can see

112
00:06:04,449 --> 00:06:07,370
it's not going to come evident that once

113
00:06:07,370 --> 00:06:09,349
you have a username and password for a

114
00:06:09,349 --> 00:06:12,710
gmail account you can easily have it

115
00:06:12,710 --> 00:06:15,620
refer to literally every single other

116
00:06:15,620 --> 00:06:19,130
one of your accounts and the best part

117
00:06:19,130 --> 00:06:21,410
is let's say Stack Overflow security is

118
00:06:21,410 --> 00:06:24,560
breached not to worry your Gmail

119
00:06:24,560 --> 00:06:31,789
password is stored with Gmail not would

120
00:06:31,789 --> 00:06:34,330
stack overflow

121
00:06:34,330 --> 00:06:36,890
so if Stack Overflow security is

122
00:06:36,890 --> 00:06:39,670
breached your password is not linked

123
00:06:39,670 --> 00:06:42,640
your username however if Gmail

124
00:06:42,640 --> 00:06:44,920
securities leaked yeah your passwords

125
00:06:44,920 --> 00:06:46,390
out for pretty much everything but still

126
00:06:46,390 --> 00:06:50,350
that's a very very rare occurrence so

127
00:06:50,350 --> 00:06:52,240
that hasn't happened for almost two

128
00:06:52,240 --> 00:06:56,650
years now maybe even three so as you can

129
00:06:56,650 --> 00:06:59,590
see this is secure it's easy for the

130
00:06:59,590 --> 00:07:02,500
user and it's also very easy for the

131
00:07:02,500 --> 00:07:05,020
developer because instead of having to

132
00:07:05,020 --> 00:07:08,770
program all of this in all that they do

133
00:07:08,770 --> 00:07:13,360
is this now they have their app or let's

134
00:07:13,360 --> 00:07:17,230
just name this client again now client

135
00:07:17,230 --> 00:07:20,620
has all of these accounts every single

136
00:07:20,620 --> 00:07:28,420
one okay and then a client also uses the

137
00:07:28,420 --> 00:07:31,150
app so you know just to just so it

138
00:07:31,150 --> 00:07:33,790
doesn't confuse you these apps are not

139
00:07:33,790 --> 00:07:36,070
at all related with how we're going to

140
00:07:36,070 --> 00:07:40,300
be using Google authentication but now

141
00:07:40,300 --> 00:07:43,660
we can see that client uses this app and

142
00:07:43,660 --> 00:07:48,570
so our app in general will now be taking

143
00:07:48,570 --> 00:07:55,360
first of all Google authentication and

144
00:07:55,360 --> 00:07:57,970
so to put this really simply all that

145
00:07:57,970 --> 00:08:01,450
we're really doing this app we say to

146
00:08:01,450 --> 00:08:06,570
Google hey authenticate this guy called

147
00:08:06,570 --> 00:08:12,700
client now client will log into his

148
00:08:12,700 --> 00:08:15,520
gmail account and if he gets the right

149
00:08:15,520 --> 00:08:18,760
username and password then it'll be like

150
00:08:18,760 --> 00:08:24,670
yes sure to the app the authentication

151
00:08:24,670 --> 00:08:27,700
was correct you can let this guy have

152
00:08:27,700 --> 00:08:30,400
access to his account but let's say he's

153
00:08:30,400 --> 00:08:32,979
signing up how do we do something then

154
00:08:32,979 --> 00:08:36,250
well Google will give us the email

155
00:08:36,250 --> 00:08:38,640
address

156
00:08:42,649 --> 00:08:46,170
so that we can use that as his username

157
00:08:46,170 --> 00:08:48,420
so we don't need to store his password

158
00:08:48,420 --> 00:08:50,760
anywhere we just store his email address

159
00:08:50,760 --> 00:08:53,250
as his username and let Google do the

160
00:08:53,250 --> 00:08:55,050
rest of the authentication if he's able

161
00:08:55,050 --> 00:08:56,700
to get into Google with this email

162
00:08:56,700 --> 00:08:57,360
address

163
00:08:57,360 --> 00:08:59,519
we know that it's him and we can

164
00:08:59,519 --> 00:09:04,670
continue and give him access to chat and

165
00:09:04,670 --> 00:09:08,940
this is what makes him happy so that's

166
00:09:08,940 --> 00:09:12,540
what our final goal should be to get him

167
00:09:12,540 --> 00:09:17,339
to chat using Google authentication so

168
00:09:17,339 --> 00:09:19,230
as you can see there's a big jump from

169
00:09:19,230 --> 00:09:22,860
uploading an unencrypted username and

170
00:09:22,860 --> 00:09:27,149
password to a database or using one of

171
00:09:27,149 --> 00:09:28,980
the most secure forms of authentication

172
00:09:28,980 --> 00:09:33,630
in the world with your app and so that's

173
00:09:33,630 --> 00:09:35,630
going to be it for the whiteboard part

174
00:09:35,630 --> 00:09:37,529
next I'm going to be showing you how

175
00:09:37,529 --> 00:09:41,250
exactly you can use the api's on an iOS

176
00:09:41,250 --> 00:09:43,950
app so without further ado let's get

177
00:09:43,950 --> 00:09:48,630
straight to the Mac part so yeah I just

178
00:09:48,630 --> 00:09:51,690
started editing this video I was just

179
00:09:51,690 --> 00:09:53,940
stitching up the clips and stuff and I

180
00:09:53,940 --> 00:09:55,709
just found out the original subscribers

181
00:09:55,709 --> 00:09:58,560
I asked me the question irshad just sent

182
00:09:58,560 --> 00:10:01,079
in a picture of himself ah to feature in

183
00:10:01,079 --> 00:10:03,540
the video so yeah I'm gonna be showing

184
00:10:03,540 --> 00:10:05,790
his picture on screen now it's I believe

185
00:10:05,790 --> 00:10:09,180
it's already up but his question was how

186
00:10:09,180 --> 00:10:11,610
can I use instead of custom

187
00:10:11,610 --> 00:10:14,180
authentication something like Gmail

188
00:10:14,180 --> 00:10:18,360
authentication and that's at chatting up

189
00:10:18,360 --> 00:10:20,490
he also had a few more things to do with

190
00:10:20,490 --> 00:10:22,140
the chatting app but there will be later

191
00:10:22,140 --> 00:10:25,079
videos for those so yeah for now I'm

192
00:10:25,079 --> 00:10:26,630
gonna be telling you how you can use

193
00:10:26,630 --> 00:10:31,230
Gmail authentication or OS to log into

194
00:10:31,230 --> 00:10:34,860
apps so let's get straight into the Mac

195
00:10:34,860 --> 00:10:38,130
part now so welcome back to the Mac part

196
00:10:38,130 --> 00:10:39,449
and now we're going to be actually

197
00:10:39,449 --> 00:10:43,350
implementing this insolate so now let's

198
00:10:43,350 --> 00:10:46,230
just move my face smaller move it to the

199
00:10:46,230 --> 00:10:49,350
corner now I've opened up the Google

200
00:10:49,350 --> 00:10:52,079
QuickStart guide and there will be a

201
00:10:52,079 --> 00:10:53,880
link to this in the description so you

202
00:10:53,880 --> 00:10:55,520
can actually use

203
00:10:55,520 --> 00:10:58,580
now I'm not exactly going to be going

204
00:10:58,580 --> 00:11:01,310
going through step 1

205
00:11:01,310 --> 00:11:03,320
because that's just turning on the Gmail

206
00:11:03,320 --> 00:11:05,690
API there is a set of instructions that

207
00:11:05,690 --> 00:11:08,120
are extremely straightforward just a few

208
00:11:08,120 --> 00:11:11,180
button clicks for you to setup the Gmail

209
00:11:11,180 --> 00:11:14,980
API and then we'll be done

210
00:11:14,980 --> 00:11:17,990
so I'm just going to assume that you've

211
00:11:17,990 --> 00:11:23,300
already set the app up and so once

212
00:11:23,300 --> 00:11:24,050
you've set it up

213
00:11:24,050 --> 00:11:25,510
you should have credentials here and

214
00:11:25,510 --> 00:11:28,910
when you click on it it should show your

215
00:11:28,910 --> 00:11:33,140
real credentials so now what we're going

216
00:11:33,140 --> 00:11:34,310
to do is we're going to skip straight to

217
00:11:34,310 --> 00:11:40,600
step 2 now step 2 will include

218
00:11:40,870 --> 00:11:44,540
downloading the actual Gmail api's and

219
00:11:44,540 --> 00:11:48,350
using and setting them up etc etc so

220
00:11:48,350 --> 00:11:49,910
what you're going to do is go to step 2

221
00:11:49,910 --> 00:11:51,970
you see this little code block here

222
00:11:51,970 --> 00:11:54,410
hover your mouse over it and in the

223
00:11:54,410 --> 00:11:57,020
corner you'll see this little window

224
00:11:57,020 --> 00:11:59,959
over here that looks like two clipboards

225
00:11:59,959 --> 00:12:03,070
so just click on it and it shall copy

226
00:12:03,070 --> 00:12:06,860
all this code here all of this and now

227
00:12:06,860 --> 00:12:08,570
all you need to do is go to a terminal

228
00:12:08,570 --> 00:12:10,670
window type and I just like to do this

229
00:12:10,670 --> 00:12:15,529
mkdir let's say just Google App then I'm

230
00:12:15,529 --> 00:12:18,170
going to CD into Google App if you don't

231
00:12:18,170 --> 00:12:19,399
know what I'm doing I'm just creating a

232
00:12:19,399 --> 00:12:21,200
directory called Google app in my home

233
00:12:21,200 --> 00:12:24,110
directory and then I'm going into it

234
00:12:24,110 --> 00:12:26,959
then I just I mean we copied all that

235
00:12:26,959 --> 00:12:28,940
code so just click command V and it'll

236
00:12:28,940 --> 00:12:30,560
execute them all one by one by itself

237
00:12:30,560 --> 00:12:33,290
you don't need to do anything and once

238
00:12:33,290 --> 00:12:39,709
it's done perfect it's done so now we

239
00:12:39,709 --> 00:12:47,649
have if I go into my home folder we have

240
00:12:47,649 --> 00:12:51,800
this Google App over here and we have

241
00:12:51,800 --> 00:12:54,709
all the Google API s inside of this

242
00:12:54,709 --> 00:12:58,070
folder so now if I move my face up go

243
00:12:58,070 --> 00:13:04,640
into Xcode now if I type if I say ctrl

244
00:13:04,640 --> 00:13:08,300
command n it will create a new

245
00:13:08,300 --> 00:13:10,730
work space for me and I'm just going to

246
00:13:10,730 --> 00:13:13,610
put this inside of my home directory

247
00:13:13,610 --> 00:13:16,190
google app and I'm just going to name

248
00:13:16,190 --> 00:13:23,330
this app workspace because this is

249
00:13:23,330 --> 00:13:24,800
really a workspace if you don't know

250
00:13:24,800 --> 00:13:26,930
what a workspace is again it's actually

251
00:13:26,930 --> 00:13:29,060
just a collection of projects or

252
00:13:29,060 --> 00:13:32,870
multiple files which are for Xcode now

253
00:13:32,870 --> 00:13:36,080
let's just create this and that's going

254
00:13:36,080 --> 00:13:38,510
to be it so now let's continue with what

255
00:13:38,510 --> 00:13:40,970
the kik QuickStart says there are going

256
00:13:40,970 --> 00:13:42,920
to be some modifications at the end but

257
00:13:42,920 --> 00:13:45,020
now we really just need to follow what

258
00:13:45,020 --> 00:13:46,340
the QuickStart says so I'm going to

259
00:13:46,340 --> 00:13:49,130
actually no not scroll down I'm going to

260
00:13:49,130 --> 00:13:50,990
go into Mission Control really quickly

261
00:13:50,990 --> 00:13:53,390
and move Google Chrome beside my Xcode

262
00:13:53,390 --> 00:13:55,850
window so that it's a bit easier and

263
00:13:55,850 --> 00:13:57,980
then new finder beside it that's already

264
00:13:57,980 --> 00:14:01,100
there okay so now let's start with step

265
00:14:01,100 --> 00:14:01,640
3

266
00:14:01,640 --> 00:14:04,280
prepare the workspace first of all we've

267
00:14:04,280 --> 00:14:06,200
already created a workspace it's not

268
00:14:06,200 --> 00:14:07,990
named QuickStart but that doesn't matter

269
00:14:07,990 --> 00:14:11,360
then what it says is what I'm going to

270
00:14:11,360 --> 00:14:12,580
do is I'm going to go into the directory

271
00:14:12,580 --> 00:14:17,000
that we were in for the google app then

272
00:14:17,000 --> 00:14:19,880
double-click on GTM session fetcher go

273
00:14:19,880 --> 00:14:23,590
into that directory go into source and

274
00:14:23,590 --> 00:14:25,910
you'll see this little Xcode project

275
00:14:25,910 --> 00:14:29,450
here yet take this and drag it keep it

276
00:14:29,450 --> 00:14:31,160
on the edge of your screen and drag it

277
00:14:31,160 --> 00:14:32,540
into your xcode's

278
00:14:32,540 --> 00:14:37,730
file manager on the side then go back to

279
00:14:37,730 --> 00:14:40,340
directories and double-click on Google

280
00:14:40,340 --> 00:14:44,030
API objective-c client go into source

281
00:14:44,030 --> 00:14:47,450
and take this Xcode project GTL dot

282
00:14:47,450 --> 00:14:51,620
Xcode project again move it into your

283
00:14:51,620 --> 00:14:56,900
Xcode workspace note this this Xcode

284
00:14:56,900 --> 00:15:00,020
project should not be under GTM session

285
00:15:00,020 --> 00:15:02,330
petrichor no it should be above it

286
00:15:02,330 --> 00:15:05,090
meaning it shouldn't go inside of that

287
00:15:05,090 --> 00:15:10,310
Xcode project it should be separate now

288
00:15:10,310 --> 00:15:12,860
let's see what it tells us to do ok so

289
00:15:12,860 --> 00:15:15,290
now it says select the GTM session

290
00:15:15,290 --> 00:15:16,400
fetcher project

291
00:15:16,400 --> 00:15:20,540
I'm assuming it's this one the core and

292
00:15:20,540 --> 00:15:21,710
then it's say

293
00:15:21,710 --> 00:15:26,089
add a new target of iOS framework and

294
00:15:26,089 --> 00:15:29,210
library cocoa touch static library so

295
00:15:29,210 --> 00:15:32,420
iOS framework and library code of cocoa

296
00:15:32,420 --> 00:15:35,750
touch static library and it says to name

297
00:15:35,750 --> 00:15:38,360
it GTM session fetcher Lib I'm just

298
00:15:38,360 --> 00:15:40,520
going to copy this and paste it into

299
00:15:40,520 --> 00:15:44,720
Xcode click finish and it has created

300
00:15:44,720 --> 00:15:49,640
the target now what we need to do is go

301
00:15:49,640 --> 00:15:54,950
into build phases compile sources click

302
00:15:54,950 --> 00:15:57,260
on the plus button and you see this

303
00:15:57,260 --> 00:16:00,740
folder GTM session fetcher click command

304
00:16:00,740 --> 00:16:05,660
and select every single dot M file

305
00:16:05,660 --> 00:16:10,610
inside of this folder click enter or add

306
00:16:10,610 --> 00:16:13,520
and it has added these into the compile

307
00:16:13,520 --> 00:16:20,770
sources build phase then select the GTL

308
00:16:20,770 --> 00:16:25,250
project then what you'll want to do is

309
00:16:25,250 --> 00:16:28,100
go into build phases link binary with

310
00:16:28,100 --> 00:16:30,770
libraries it already has security and

311
00:16:30,770 --> 00:16:33,589
system configuration so all you need to

312
00:16:33,589 --> 00:16:39,459
do is add let's see right here

313
00:16:39,459 --> 00:16:45,260
Lib Lib GTM session fetcher Lib ok live

314
00:16:45,260 --> 00:16:49,490
GTM in this one now click Add and as you

315
00:16:49,490 --> 00:16:53,690
can see it's added it in now this is

316
00:16:53,690 --> 00:16:56,540
where I actually first got an error what

317
00:16:56,540 --> 00:16:58,640
you have to do is come over here and to

318
00:16:58,640 --> 00:17:03,050
build settings and say what was it

319
00:17:03,050 --> 00:17:07,939
called a user header a user header

320
00:17:07,939 --> 00:17:14,809
search paths in this little place double

321
00:17:14,809 --> 00:17:17,059
click and click the Add button and also

322
00:17:17,059 --> 00:17:22,189
just let me check to make sure yeah I

323
00:17:22,189 --> 00:17:24,170
made a really small mistake what you're

324
00:17:24,170 --> 00:17:26,920
supposed to do just remove this library

325
00:17:26,920 --> 00:17:30,650
just ignore that before you start doing

326
00:17:30,650 --> 00:17:33,500
any of this stuff you have to actually

327
00:17:33,500 --> 00:17:35,360
click over here

328
00:17:35,360 --> 00:17:39,039
and go into GTL touch state ecstatically

329
00:17:39,039 --> 00:17:44,210
then you need to ad-lib GTM session

330
00:17:44,210 --> 00:17:50,360
fetcher lib and then you need to add go

331
00:17:50,360 --> 00:17:52,669
into the build settings and go user

332
00:17:52,669 --> 00:17:57,559
header search paths double click on here

333
00:17:57,559 --> 00:18:00,529
click the Add button now what you need

334
00:18:00,529 --> 00:18:02,950
to do this is quite important so listen

335
00:18:02,950 --> 00:18:07,820
go over finder go back to directories

336
00:18:07,820 --> 00:18:09,919
again and go into your GTM session

337
00:18:09,919 --> 00:18:12,919
fetcher folder take the source folder

338
00:18:12,919 --> 00:18:16,389
don't go into it take it and drag it

339
00:18:16,389 --> 00:18:19,369
into this text field that xcode is

340
00:18:19,369 --> 00:18:23,960
giving you now Colet select this

341
00:18:23,960 --> 00:18:24,980
non-recursive

342
00:18:24,980 --> 00:18:28,850
text box or selector and change it to

343
00:18:28,850 --> 00:18:31,129
recursive so it gets all the header

344
00:18:31,129 --> 00:18:36,109
files and then you're done then all you

345
00:18:36,109 --> 00:18:39,999
need to do is copy this little flag here

346
00:18:41,169 --> 00:18:47,809
and go into other linker flags and add

347
00:18:47,809 --> 00:18:55,359
that in right there or sorry not there

348
00:18:55,359 --> 00:18:58,909
that's a little thing I get confused on

349
00:18:58,909 --> 00:19:00,499
it's actually supposed to go under a

350
00:19:00,499 --> 00:19:04,399
preprocessor macros over here as you can

351
00:19:04,399 --> 00:19:08,779
see Apple LLVM 7.0 pre-processing and

352
00:19:08,779 --> 00:19:11,809
under pre-processing macro macros double

353
00:19:11,809 --> 00:19:16,149
click over here add paste it in go

354
00:19:16,149 --> 00:19:21,649
perfect so now that you've done that go

355
00:19:21,649 --> 00:19:23,809
into GTL again and we're already here

356
00:19:23,809 --> 00:19:25,669
click on this little tab if it isn't

357
00:19:25,669 --> 00:19:27,820
already open if it's blue don't click it

358
00:19:27,820 --> 00:19:31,100
then as you can see you see this little

359
00:19:31,100 --> 00:19:36,409
GTL framework target remove it and click

360
00:19:36,409 --> 00:19:39,850
delete then in the project navigator

361
00:19:39,850 --> 00:19:43,159
open up GTL go to GTL source go to

362
00:19:43,159 --> 00:19:47,419
common and delete HTTP fetcher

363
00:19:47,419 --> 00:19:51,200
that's not required okay because I think

364
00:19:51,200 --> 00:19:55,549
that was deprecated in iOS 9 anyway okay

365
00:19:55,549 --> 00:19:58,339
so now what we're going to do is click

366
00:19:58,339 --> 00:19:59,589
on this little plus button over here

367
00:19:59,589 --> 00:20:03,289
click a new project iOS application

368
00:20:03,289 --> 00:20:08,570
single View application then make this

369
00:20:08,570 --> 00:20:13,849
project name something like main app ok

370
00:20:13,849 --> 00:20:15,950
make it four Swift make sure it's the

371
00:20:15,950 --> 00:20:17,989
iPhone you don't have to it could also

372
00:20:17,989 --> 00:20:19,789
be the iPad but I prefer iPhone in this

373
00:20:19,789 --> 00:20:24,919
case and then click Next again I'm just

374
00:20:24,919 --> 00:20:27,909
going to create inside of this directory

375
00:20:27,909 --> 00:20:31,549
then we have to go into main app build

376
00:20:31,549 --> 00:20:36,700
phases link binary with libraries add

377
00:20:36,700 --> 00:20:44,049
system configuration add security and

378
00:20:44,049 --> 00:20:48,049
also add what is it called live GTL

379
00:20:48,049 --> 00:20:53,989
touch let's just paste that in Lilly GTL

380
00:20:53,989 --> 00:20:57,190
touch static lib day that's a mouthful

381
00:20:57,190 --> 00:21:02,179
okay so now we're done that now what we

382
00:21:02,179 --> 00:21:05,749
should be able to do is copy this little

383
00:21:05,749 --> 00:21:09,169
link or flag now this time I'm actually

384
00:21:09,169 --> 00:21:11,179
correct this is a linker flags

385
00:21:11,179 --> 00:21:13,519
so go into build settings type in other

386
00:21:13,519 --> 00:21:17,119
linker flags and so double click over

387
00:21:17,119 --> 00:21:21,969
here then add in Objective C all load

388
00:21:21,969 --> 00:21:26,149
next we need to again listen carefully

389
00:21:26,149 --> 00:21:31,070
go into user header search pads click

390
00:21:31,070 --> 00:21:34,879
the Add button over here then go back

391
00:21:34,879 --> 00:21:39,190
into your main Google Apps directory

392
00:21:39,190 --> 00:21:42,259
then go back into GTM session fetcher

393
00:21:42,259 --> 00:21:47,679
and again take the source and drag it in

394
00:21:47,679 --> 00:21:52,249
to the little text box then make this

395
00:21:52,249 --> 00:21:53,539
from non-recursive

396
00:21:53,539 --> 00:21:59,640
to recursive add another one this time

397
00:21:59,640 --> 00:22:02,130
do it for Google API objective-c client

398
00:22:02,130 --> 00:22:09,240
yes take the source drag it in and make

399
00:22:09,240 --> 00:22:12,090
sure it's recursive there we go

400
00:22:12,090 --> 00:22:14,610
now that should be good and also one

401
00:22:14,610 --> 00:22:17,100
thing I've noted I usually get an error

402
00:22:17,100 --> 00:22:21,060
if always search user paths is no so I

403
00:22:21,060 --> 00:22:22,590
always make it yes even though the

404
00:22:22,590 --> 00:22:25,020
Google documentation does not tell me to

405
00:22:25,020 --> 00:22:27,840
do that I don't know why anyway

406
00:22:27,840 --> 00:22:30,120
now let's go into preprocessor macros

407
00:22:30,120 --> 00:22:36,780
macros then what I'm going to do is

408
00:22:36,780 --> 00:22:40,350
under debug I'm going to add the linker

409
00:22:40,350 --> 00:22:43,740
the preprocessor preprocessor macro and

410
00:22:43,740 --> 00:22:47,820
also under a release so that it works in

411
00:22:47,820 --> 00:22:51,270
both ways then what we're going to do is

412
00:22:51,270 --> 00:22:53,670
we're going to go into the Google API

413
00:22:53,670 --> 00:23:00,800
objective-c client source o auth to

414
00:23:00,800 --> 00:23:08,070
touch and then take this nib file and

415
00:23:08,070 --> 00:23:10,170
just drag it right in make sure it's

416
00:23:10,170 --> 00:23:15,030
copy and then finish then what we're

417
00:23:15,030 --> 00:23:17,220
going to do is we're going to go in back

418
00:23:17,220 --> 00:23:18,180
over here

419
00:23:18,180 --> 00:23:20,160
and then go into these services

420
00:23:20,160 --> 00:23:27,090
directory go into Gmail generated then

421
00:23:27,090 --> 00:23:32,820
get the GTL gmail dot H and GTL Gmail

422
00:23:32,820 --> 00:23:38,160
sources dot M files and drag them into

423
00:23:38,160 --> 00:23:44,790
our the app make sure it's copy finish

424
00:23:44,790 --> 00:23:46,140
make sure you create a bridging header

425
00:23:46,140 --> 00:23:50,030
make sure copy this code over here and

426
00:23:50,030 --> 00:23:53,970
paste it into your bridging header and I

427
00:23:53,970 --> 00:23:59,270
just like to move it up here okay so now

428
00:23:59,270 --> 00:24:02,460
what we're going to do is they have a

429
00:24:02,460 --> 00:24:04,950
step four in which you type in code or

430
00:24:04,950 --> 00:24:07,140
you copy this code and put it in and

431
00:24:07,140 --> 00:24:09,960
then it does something I'm not using

432
00:24:09,960 --> 00:24:12,880
their code I've modified out a bit

433
00:24:12,880 --> 00:24:19,440
and now if I just open up my other app

434
00:24:19,440 --> 00:24:24,220
where is it now specifically this file

435
00:24:24,220 --> 00:24:26,440
that I'm about to show you this one will

436
00:24:26,440 --> 00:24:28,270
be available for download in the

437
00:24:28,270 --> 00:24:31,570
description from github no other file

438
00:24:31,570 --> 00:24:35,410
because actually this file is special

439
00:24:35,410 --> 00:24:39,400
and the other files are very how do I

440
00:24:39,400 --> 00:24:43,390
say restricted to your setup for example

441
00:24:43,390 --> 00:24:46,300
I have to put in the absolute path like

442
00:24:46,300 --> 00:24:50,770
over here in user like this is the

443
00:24:50,770 --> 00:24:54,640
directory in my Mac to this file so I

444
00:24:54,640 --> 00:24:57,790
cannot give you this specific Xcode

445
00:24:57,790 --> 00:24:59,050
project or else you won't be able to

446
00:24:59,050 --> 00:25:00,760
build but if you follow all the steps

447
00:25:00,760 --> 00:25:03,520
that I'm doing in this video or I'm

448
00:25:03,520 --> 00:25:05,290
using in this video and you copy in the

449
00:25:05,290 --> 00:25:06,460
code that I do give you in the

450
00:25:06,460 --> 00:25:07,990
description this should work just fine

451
00:25:07,990 --> 00:25:08,560
for you

452
00:25:08,560 --> 00:25:11,230
now I've already gone ahead and done

453
00:25:11,230 --> 00:25:13,450
this but you need to fill in your client

454
00:25:13,450 --> 00:25:15,280
ID and your client secret if you don't

455
00:25:15,280 --> 00:25:17,080
know how to get that but you should at

456
00:25:17,080 --> 00:25:18,880
this point but it's okay go into your

457
00:25:18,880 --> 00:25:20,440
Google developers console go into

458
00:25:20,440 --> 00:25:24,280
credentials click on the credential name

459
00:25:24,280 --> 00:25:29,830
and get the client ID in the secret so

460
00:25:29,830 --> 00:25:31,690
now that you have these two just put

461
00:25:31,690 --> 00:25:33,310
them into these strings you can change

462
00:25:33,310 --> 00:25:35,020
this if you'd like to but I wouldn't

463
00:25:35,020 --> 00:25:37,180
recommend it I actually know what let's

464
00:25:37,180 --> 00:25:46,320
just do that 10 May testing Gmail API

465
00:25:46,320 --> 00:25:47,560
okay

466
00:25:47,560 --> 00:25:49,930
so now I'll show you exactly what this

467
00:25:49,930 --> 00:25:54,750
does but first we're going to have to

468
00:25:54,750 --> 00:25:57,550
run this app now make sure you don't

469
00:25:57,550 --> 00:26:00,070
have this iOS framework as the active

470
00:26:00,070 --> 00:26:03,130
scheme make sure its main app now run it

471
00:26:03,130 --> 00:26:07,150
till then just give me a minute

472
00:26:07,150 --> 00:26:12,730
do you remember okay

473
00:26:12,730 --> 00:26:15,130
so yeah I'm going to pause the video

474
00:26:15,130 --> 00:26:18,190
really quickly get the other gmail

475
00:26:18,190 --> 00:26:20,560
account that I don't really use the

476
00:26:20,560 --> 00:26:22,120
credentials for that one because I don't

477
00:26:22,120 --> 00:26:24,700
exactly remember them then I am going to

478
00:26:24,700 --> 00:26:25,670
be back

479
00:26:25,670 --> 00:26:28,910
is new tutorial we just really quickly

480
00:26:28,910 --> 00:26:32,570
see though if I can get it from here

481
00:26:32,570 --> 00:26:34,340
yeah so I'm going to be pausing the

482
00:26:34,340 --> 00:26:36,110
video and I'll be right back with my

483
00:26:36,110 --> 00:26:37,970
credentials and I won't touch the app or

484
00:26:37,970 --> 00:26:43,610
anything don't worry so welcome back as

485
00:26:43,610 --> 00:26:45,440
I said I have not really done anything

486
00:26:45,440 --> 00:26:47,330
to the code all I've done is I've

487
00:26:47,330 --> 00:26:49,280
changed my password for a gmail account

488
00:26:49,280 --> 00:26:51,170
I really don't use anymore

489
00:26:51,170 --> 00:26:53,570
and so as you can see this is the

490
00:26:53,570 --> 00:26:56,240
simulator now I didn't do anything on

491
00:26:56,240 --> 00:26:58,370
the simulator to a code or anything this

492
00:26:58,370 --> 00:27:01,310
is all the exact same so as you can see

493
00:27:01,310 --> 00:27:04,700
here we have this gmail account or this

494
00:27:04,700 --> 00:27:08,300
Gmail login window now I have not

495
00:27:08,300 --> 00:27:11,300
created this logo these labels this

496
00:27:11,300 --> 00:27:14,120
image these text boxes this button

497
00:27:14,120 --> 00:27:16,820
anything here this is nothing of mine

498
00:27:16,820 --> 00:27:19,370
this is all created by Google

499
00:27:19,370 --> 00:27:22,220
I'm not authenticating anything with

500
00:27:22,220 --> 00:27:25,310
this I just say to Google hello I need

501
00:27:25,310 --> 00:27:27,110
this person to enter his username and

502
00:27:27,110 --> 00:27:29,150
password and I want you to return his

503
00:27:29,150 --> 00:27:31,910
email address and Google's like sure and

504
00:27:31,910 --> 00:27:33,800
then shows up a little new controller

505
00:27:33,800 --> 00:27:38,020
asks them to login and then after that

506
00:27:38,020 --> 00:27:41,000
once they log in it returns the email

507
00:27:41,000 --> 00:27:44,870
address as I had requested so let me

508
00:27:44,870 --> 00:27:46,640
just log in really quickly ten we've

509
00:27:46,640 --> 00:27:48,350
actually demo one as you can see though

510
00:27:48,350 --> 00:27:49,820
I'm just gonna come over here to my

511
00:27:49,820 --> 00:27:50,840
Xcode

512
00:27:50,840 --> 00:27:52,820
there's nothing printed except for all

513
00:27:52,820 --> 00:27:55,760
of this stuff and so if we come back and

514
00:27:55,760 --> 00:28:03,620
we actually log in now password now if I

515
00:28:03,620 --> 00:28:05,840
sign in and I click on the allow button

516
00:28:05,840 --> 00:28:08,480
so it knows that I'm allowed to use all

517
00:28:08,480 --> 00:28:13,520
of these things here then as you can see

518
00:28:13,520 --> 00:28:15,620
it does absolutely nothing on the app I

519
00:28:15,620 --> 00:28:18,320
might be thinking why did I do all of

520
00:28:18,320 --> 00:28:21,710
this work for a blank screen but it

521
00:28:21,710 --> 00:28:24,500
actually requested the Google API for

522
00:28:24,500 --> 00:28:26,900
your email address and printed it out

523
00:28:26,900 --> 00:28:30,460
there might not be so impressive however

524
00:28:30,460 --> 00:28:34,850
think about it now you have used Google

525
00:28:34,850 --> 00:28:38,120
api's to authenticate a user to get

526
00:28:38,120 --> 00:28:39,470
their usernames that you can up

527
00:28:39,470 --> 00:28:41,990
to a parse database that will now be

528
00:28:41,990 --> 00:28:45,429
their single sign-on token basically

529
00:28:45,429 --> 00:28:48,020
that's just amazing I will be

530
00:28:48,020 --> 00:28:50,809
integrating this into a into the actual

531
00:28:50,809 --> 00:28:53,510
chatting app in a separate video but I

532
00:28:53,510 --> 00:28:56,510
hope you enjoyed that now let's just see

533
00:28:56,510 --> 00:29:03,530
what happens when I rerun my app as you

534
00:29:03,530 --> 00:29:06,620
can see blank screen again but it prints

535
00:29:06,620 --> 00:29:14,659
out my email address now why didn't it

536
00:29:14,659 --> 00:29:18,919
ask me to authenticate again this is

537
00:29:18,919 --> 00:29:21,830
because once you authenticate once it's

538
00:29:21,830 --> 00:29:26,600
storing that authentication the token

539
00:29:26,600 --> 00:29:30,830
basically in keychain keychain then

540
00:29:30,830 --> 00:29:33,530
stores that pretty much forever until

541
00:29:33,530 --> 00:29:36,049
you either delete it or don't make

542
00:29:36,049 --> 00:29:39,500
references to it anymore and as you can

543
00:29:39,500 --> 00:29:42,799
see and touches begin I'm doing just

544
00:29:42,799 --> 00:29:43,220
that

545
00:29:43,220 --> 00:29:46,600
I'm just deleting the keychain

546
00:29:46,600 --> 00:29:48,740
authentication method so if I run once

547
00:29:48,740 --> 00:29:50,659
more just so you know I'm not doing any

548
00:29:50,659 --> 00:29:54,140
trickery it's still a blank screen and

549
00:29:54,140 --> 00:29:57,260
it gets my email address however if I

550
00:29:57,260 --> 00:30:00,679
click on the screen this time and then I

551
00:30:00,679 --> 00:30:05,450
rerun as you can see it'll ask me to

552
00:30:05,450 --> 00:30:08,059
what through to authenticate again this

553
00:30:08,059 --> 00:30:09,740
is due to the fact that it deleted the

554
00:30:09,740 --> 00:30:22,400
keychain token now I'm going to login so

555
00:30:22,400 --> 00:30:24,169
as you can see I'm granting privileges

556
00:30:24,169 --> 00:30:30,350
right now and it gets my email address

557
00:30:30,350 --> 00:30:33,470
I'm going to run once more so as you can

558
00:30:33,470 --> 00:30:36,049
see it only happens once and it still

559
00:30:36,049 --> 00:30:38,240
gets my email address but there's one

560
00:30:38,240 --> 00:30:39,860
more thing that I can do as you can see

561
00:30:39,860 --> 00:30:43,070
I'm not clicking on the simulator but if

562
00:30:43,070 --> 00:30:45,919
I change the keychain item name that it

563
00:30:45,919 --> 00:30:51,970
refers to to something like this

564
00:30:52,429 --> 00:30:55,620
then as you can see it it doesn't find

565
00:30:55,620 --> 00:30:58,590
the credentials in that keychain item

566
00:30:58,590 --> 00:31:03,149
and it asks me to authenticate again or

567
00:31:03,149 --> 00:31:05,309
actually no it has to be something like

568
00:31:05,309 --> 00:31:07,470
three sorry this won't apply to you

569
00:31:07,470 --> 00:31:09,570
it'll only apply to me two already has

570
00:31:09,570 --> 00:31:12,210
credentials in it so three as you can

571
00:31:12,210 --> 00:31:14,399
see asks me to authentic authentic eight

572
00:31:14,399 --> 00:31:18,360
again so that's essentially how that

573
00:31:18,360 --> 00:31:20,580
works now again I'm not going to be

574
00:31:20,580 --> 00:31:23,429
going into any of this code just yet due

575
00:31:23,429 --> 00:31:27,360
to the fact that this is all just enough

576
00:31:27,360 --> 00:31:29,659
code for you to implement into your app

577
00:31:29,659 --> 00:31:33,120
and so this will allow you to make

578
00:31:33,120 --> 00:31:35,190
service calls now since this is

579
00:31:35,190 --> 00:31:39,659
technically a Gmail API you can do tons

580
00:31:39,659 --> 00:31:42,860
of stuff rather than just getting there

581
00:31:42,860 --> 00:31:47,669
you the email address you can if you

582
00:31:47,669 --> 00:31:49,590
want to see what you can do under French

583
00:31:49,590 --> 00:31:53,240
labels go to query and under GTL query

584
00:31:53,240 --> 00:31:58,919
Gmail do dot query for and you'll see

585
00:31:58,919 --> 00:32:02,460
these are all the queries you can do you

586
00:32:02,460 --> 00:32:06,679
can literally I think compose messages

587
00:32:08,899 --> 00:32:10,950
well I'm not exactly sure if you can

588
00:32:10,950 --> 00:32:12,539
compose messages but you can get the

589
00:32:12,539 --> 00:32:14,100
messages you can list messages you can

590
00:32:14,100 --> 00:32:15,929
modify messages you can send to trash

591
00:32:15,929 --> 00:32:19,440
you can do all these sorts of things yes

592
00:32:19,440 --> 00:32:21,840
you can also send so it's technically a

593
00:32:21,840 --> 00:32:23,700
Gmail API but you can also get their

594
00:32:23,700 --> 00:32:26,820
profile so it's quite interesting in

595
00:32:26,820 --> 00:32:31,049
that sense okay so that was actually

596
00:32:31,049 --> 00:32:32,519
pretty much it for this tutorial again

597
00:32:32,519 --> 00:32:33,990
if you have any more questions or you

598
00:32:33,990 --> 00:32:35,460
want me to elaborate on this at all

599
00:32:35,460 --> 00:32:37,200
please leave it in the comments or email

600
00:32:37,200 --> 00:32:39,600
me at tattoo mini at gmail.com or even

601
00:32:39,600 --> 00:32:42,000
contact me on twitter at add you many

602
00:32:42,000 --> 00:32:44,250
they'll all be in the description the

603
00:32:44,250 --> 00:32:45,750
viewcontroller will be in the this

604
00:32:45,750 --> 00:32:48,990
viewcontroller sorry the this file over

605
00:32:48,990 --> 00:32:52,230
here will be on github which will there

606
00:32:52,230 --> 00:32:53,759
will be a link to in the description and

607
00:32:53,759 --> 00:32:55,590
that was going to be it for this

608
00:32:55,590 --> 00:32:57,809
tutorial if you liked the video please

609
00:32:57,809 --> 00:33:00,120
like it and if you're new to my cotton

610
00:33:00,120 --> 00:33:01,590
you want to or you want to see more of

611
00:33:01,590 --> 00:33:04,139
it please actually subscribe to my

612
00:33:04,139 --> 00:33:04,850
channel

613
00:33:04,850 --> 00:33:07,020
also quickly you can send me a video

614
00:33:07,020 --> 00:33:09,210
question at @anjghie manage email calm

615
00:33:09,210 --> 00:33:10,440
and I might just be certain one of my

616
00:33:10,440 --> 00:33:12,000
next videos again everything will be in

617
00:33:12,000 --> 00:33:13,500
the description and that's going to be

618
00:33:13,500 --> 00:33:16,070
it goodbye
