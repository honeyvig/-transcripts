1
00:00:00,980 --> 00:00:05,610
[Music]

2
00:00:14,440 --> 00:00:16,560
so hello there and welcome to another

3
00:00:16,560 --> 00:00:19,520
tutorial my name is Tim Baki and this

4
00:00:19,520 --> 00:00:21,320
time we're going to be going over how

5
00:00:21,320 --> 00:00:24,560
you can use Swift in order to customize

6
00:00:24,560 --> 00:00:26,840
and take input from the touch bar and

7
00:00:26,840 --> 00:00:29,759
authenticate using Touch ID not using an

8
00:00:29,759 --> 00:00:33,160
i phone but instead using the new late

9
00:00:33,160 --> 00:00:36,840
2016 MacBook Pros so to begin now I'm

10
00:00:36,840 --> 00:00:39,280
very excited about this today so uh

11
00:00:39,280 --> 00:00:40,840
essentially now if you haven't already

12
00:00:40,840 --> 00:00:43,840
heard uh Apple has just released new

13
00:00:43,840 --> 00:00:47,280
Macbook Pros uh in October uh the 27th

14
00:00:47,280 --> 00:00:48,760
uh in fact I was live streaming their

15
00:00:48,760 --> 00:00:51,719
event uh and so what happened uh is the

16
00:00:51,719 --> 00:00:53,399
new of course the new Macbook Pros have

17
00:00:53,399 --> 00:00:56,320
Touch ID with them so of course the same

18
00:00:56,320 --> 00:00:58,000
feature that powers your iPhones and

19
00:00:58,000 --> 00:00:59,600
your iPads where you can scan your

20
00:00:59,600 --> 00:01:02,199
finger unlock and use you know for the

21
00:01:02,199 --> 00:01:04,559
App Store for apps generally apps can

22
00:01:04,559 --> 00:01:07,400
use Touch ID for you know securing data

23
00:01:07,400 --> 00:01:09,840
for example uh and of course you can use

24
00:01:09,840 --> 00:01:11,640
it for Apple pay that type of stuff with

25
00:01:11,640 --> 00:01:14,240
the iPhone and iPad has now come to the

26
00:01:14,240 --> 00:01:16,560
mac and now you can actually incorporate

27
00:01:16,560 --> 00:01:19,439
Touch ID in your Mac

28
00:01:19,439 --> 00:01:21,960
applications now apart from just touch

29
00:01:21,960 --> 00:01:24,600
ID Apple has actually released an entire

30
00:01:24,600 --> 00:01:26,840
new feature called The Touch bar which

31
00:01:26,840 --> 00:01:29,479
is exclusive to the new Macbook Pros at

32
00:01:29,479 --> 00:01:31,720
least at the the time of this video and

33
00:01:31,720 --> 00:01:34,320
so essentially this new touch bar will

34
00:01:34,320 --> 00:01:36,520
allow us to essentially have a dynamic

35
00:01:36,520 --> 00:01:39,200
function row on the top of our keyboard

36
00:01:39,200 --> 00:01:41,600
and so essentially what Apple decided is

37
00:01:41,600 --> 00:01:43,000
that instead of having something like a

38
00:01:43,000 --> 00:01:45,360
touch screen they wanted to have a touch

39
00:01:45,360 --> 00:01:46,799
keyboard so you had a lot of

40
00:01:46,799 --> 00:01:49,000
customizable functionality at your

41
00:01:49,000 --> 00:01:51,759
fingertips and so today I'm going to be

42
00:01:51,759 --> 00:01:55,240
showing you how we can Port uh my ti

43
00:01:55,240 --> 00:01:57,159
Vault application which is actually an

44
00:01:57,159 --> 00:01:59,920
application for iOS that can allow you

45
00:01:59,920 --> 00:02:01,399
to of course use your fingerprint to

46
00:02:01,399 --> 00:02:03,680
store data and we're going to be porting

47
00:02:03,680 --> 00:02:06,920
that over to Mac OS so that you can of

48
00:02:06,920 --> 00:02:09,679
course store your data securely with

49
00:02:09,679 --> 00:02:12,239
Touch ID and in fact this also shows you

50
00:02:12,239 --> 00:02:14,400
an example of how you can use the NS

51
00:02:14,400 --> 00:02:17,080
touch bar in order to customize the

52
00:02:17,080 --> 00:02:20,200
touch bar all right so now another thing

53
00:02:20,200 --> 00:02:23,080
here is that uh another quick note uh

54
00:02:23,080 --> 00:02:25,080
this video was mainly supposed to be a

55
00:02:25,080 --> 00:02:27,040
demo of how Touch ID and the touch bar

56
00:02:27,040 --> 00:02:29,680
actually work so this application isn't

57
00:02:29,680 --> 00:02:32,080
the most secure it takes the data that

58
00:02:32,080 --> 00:02:34,200
you put into the tid Vault and stores it

59
00:02:34,200 --> 00:02:36,920
in a text file in your home directory

60
00:02:36,920 --> 00:02:38,959
while that isn't the most secure in the

61
00:02:38,959 --> 00:02:41,040
next uh video where I show you how to

62
00:02:41,040 --> 00:02:42,920
improve this application you'll be

63
00:02:42,920 --> 00:02:45,400
seeing more features such as a much more

64
00:02:45,400 --> 00:02:48,680
secure way of storing this information

65
00:02:48,680 --> 00:02:50,720
but of course until then let's actually

66
00:02:50,720 --> 00:02:53,280
get into how you can use the touch bar

67
00:02:53,280 --> 00:02:55,840
and touch ID with the new Macbook Pros

68
00:02:55,840 --> 00:02:59,040
in order to create T Vault for Mac OS

69
00:02:59,040 --> 00:03:00,640
let's get right to the Mac part now

70
00:03:00,640 --> 00:03:03,400
shall we all right so welcome back to

71
00:03:03,400 --> 00:03:06,239
the Mac part and now just before I begin

72
00:03:06,239 --> 00:03:08,400
this video today I'd like to show you a

73
00:03:08,400 --> 00:03:11,239
quick demo of this Mac first of all and

74
00:03:11,239 --> 00:03:14,080
as well uh the ti Vault application in

75
00:03:14,080 --> 00:03:16,120
action so before we begin the coding I'm

76
00:03:16,120 --> 00:03:18,120
going to be showing you a quick demo of

77
00:03:18,120 --> 00:03:20,519
the application let's begin shall we so

78
00:03:20,519 --> 00:03:22,959
as you can see over here we have our new

79
00:03:22,959 --> 00:03:25,000
uh MacBook Pro here with the touch bar

80
00:03:25,000 --> 00:03:27,599
and touch ID right there uh of course

81
00:03:27,599 --> 00:03:30,040
new keyboard everything else so now to

82
00:03:30,040 --> 00:03:32,120
begin first of all of course uh as you

83
00:03:32,120 --> 00:03:33,959
can see if I want to unlock my Mac it

84
00:03:33,959 --> 00:03:35,640
allows me to use Touch ID for that as

85
00:03:35,640 --> 00:03:37,920
you can see it says unlock with Touch ID

86
00:03:37,920 --> 00:03:39,920
I just put my finger over it and it

87
00:03:39,920 --> 00:03:42,080
unlocks using Touch ID now as you can

88
00:03:42,080 --> 00:03:44,080
see this touch bar as well is very

89
00:03:44,080 --> 00:03:46,280
customizable and as you can see I have

90
00:03:46,280 --> 00:03:47,799
this little application running in the

91
00:03:47,799 --> 00:03:50,280
center here and this application is

92
00:03:50,280 --> 00:03:52,720
actually our tid Vault now as you can

93
00:03:52,720 --> 00:03:54,640
see in the middle we have our unlock

94
00:03:54,640 --> 00:03:57,120
Vault button but what I've also done is

95
00:03:57,120 --> 00:03:59,239
I've coded this in a way that we also

96
00:03:59,239 --> 00:04:00,920
have unlock Vault right here on our

97
00:04:00,920 --> 00:04:03,360
touch bar and so let's say we were you

98
00:04:03,360 --> 00:04:05,040
know in the flow using this application

99
00:04:05,040 --> 00:04:06,560
it was a bit more complex and we had a

100
00:04:06,560 --> 00:04:08,879
lot of functionality uh and some of that

101
00:04:08,879 --> 00:04:10,480
functionality was hidden down in you

102
00:04:10,480 --> 00:04:13,159
know menus and stuff well the touch bar

103
00:04:13,159 --> 00:04:15,200
wants to make that accessible and so

104
00:04:15,200 --> 00:04:16,759
let's just say unlock vault is right

105
00:04:16,759 --> 00:04:18,560
over there and let's say I'm just typing

106
00:04:18,560 --> 00:04:20,280
and I want to click unlock Vault so I

107
00:04:20,280 --> 00:04:22,320
click unlock Vault and as you can see

108
00:04:22,320 --> 00:04:23,199
what

109
00:04:23,199 --> 00:04:26,040
happens is it says that uh the touch ID

110
00:04:26,040 --> 00:04:28,120
Vault Mac application is trying to

111
00:04:28,120 --> 00:04:31,919
unlock tid vault okay uh and so of

112
00:04:31,919 --> 00:04:33,199
course it's saying you need to give your

113
00:04:33,199 --> 00:04:35,360
touch ID or enter your password to allow

114
00:04:35,360 --> 00:04:37,800
this so as you can see first of all on

115
00:04:37,800 --> 00:04:39,800
the touch bar it says Touch ID Vault Mac

116
00:04:39,800 --> 00:04:42,160
and my application logo Touch ID to

117
00:04:42,160 --> 00:04:45,160
unlock T Vault and if I put my finger on

118
00:04:45,160 --> 00:04:47,120
that touch ID

119
00:04:47,120 --> 00:04:50,039
sensor it lets me right into my Vault

120
00:04:50,039 --> 00:04:51,520
and as you can see we have a nice text

121
00:04:51,520 --> 00:04:53,160
field here where I can put in any of my

122
00:04:53,160 --> 00:04:54,479
information like I don't know a credit

123
00:04:54,479 --> 00:04:58,479
card information uh 1 2 3 4 5 6 7 8 uh

124
00:04:58,479 --> 00:05:03,000
9012 um um three four five uh six just

125
00:05:03,000 --> 00:05:05,360
random information you know my passwords

126
00:05:05,360 --> 00:05:09,520
really whatever uh this is a TI default

127
00:05:09,520 --> 00:05:12,039
test right and then right there once I'm

128
00:05:12,039 --> 00:05:14,320
done typing at my fingertips I have that

129
00:05:14,320 --> 00:05:17,080
functionality to click Lock vault and it

130
00:05:17,080 --> 00:05:19,720
locks that Vault and we're back into the

131
00:05:19,720 --> 00:05:22,400
unlock Vault page now if I want to

132
00:05:22,400 --> 00:05:24,280
unlock once more of course I can just

133
00:05:24,280 --> 00:05:26,479
you know click here for example and if I

134
00:05:26,479 --> 00:05:29,080
want I can also use my password my Mac

135
00:05:29,080 --> 00:05:31,800
OS password by clicking on use password

136
00:05:31,800 --> 00:05:35,479
and I can type in my Mac OS password and

137
00:05:35,479 --> 00:05:37,400
as you can see it lets me right into my

138
00:05:37,400 --> 00:05:40,000
touch ID Vault all right so that was a

139
00:05:40,000 --> 00:05:41,800
quick demo of first of all the touch bar

140
00:05:41,800 --> 00:05:43,600
and touch ID in action with this new

141
00:05:43,600 --> 00:05:45,840
Macbook Pro and how I was able to use

142
00:05:45,840 --> 00:05:48,639
that with ti Vault on the new Mac OS uh

143
00:05:48,639 --> 00:05:51,360
and MacBook Pro all right so now let's

144
00:05:51,360 --> 00:05:53,240
get right into how we can code in this

145
00:05:53,240 --> 00:05:54,800
application let's get to the screen

146
00:05:54,800 --> 00:05:57,479
recording now shall we all right so

147
00:05:57,479 --> 00:05:59,680
welcome back to the part where now we

148
00:05:59,680 --> 00:06:01,880
should start coding so before we begin

149
00:06:01,880 --> 00:06:03,240
as you can see again I have this touch

150
00:06:03,240 --> 00:06:05,520
ID Vault application open I can on I can

151
00:06:05,520 --> 00:06:07,960
click on unlock Vault I put my finger on

152
00:06:07,960 --> 00:06:10,120
the touch ID sensor right over there

153
00:06:10,120 --> 00:06:13,199
unlocks and there we go that is our text

154
00:06:13,199 --> 00:06:15,720
all right so now before we can begin uh

155
00:06:15,720 --> 00:06:18,000
more demos let's actually take a look at

156
00:06:18,000 --> 00:06:20,560
the code for this application so the way

157
00:06:20,560 --> 00:06:22,840
this works is just how this would work

158
00:06:22,840 --> 00:06:25,199
uh for an iOS application it works using

159
00:06:25,199 --> 00:06:27,720
the local authentication framework in

160
00:06:27,720 --> 00:06:30,039
Swift and so if I head back over to my

161
00:06:30,039 --> 00:06:32,440
xcode view here now let's begin with the

162
00:06:32,440 --> 00:06:35,720
uh actual storyboard shall we the UI so

163
00:06:35,720 --> 00:06:37,840
as you can see here I have you know just

164
00:06:37,840 --> 00:06:40,680
like a Mac AOA application uh I have our

165
00:06:40,680 --> 00:06:42,360
window controller over here just general

166
00:06:42,360 --> 00:06:45,000
window controller uh I also have a view

167
00:06:45,000 --> 00:06:46,720
controller this is our default view

168
00:06:46,720 --> 00:06:48,360
controller where I have an unlock Vault

169
00:06:48,360 --> 00:06:50,960
button uh and I also have a new view

170
00:06:50,960 --> 00:06:52,759
that I've created called The Vault

171
00:06:52,759 --> 00:06:54,880
controller now the Vault controller

172
00:06:54,880 --> 00:06:57,280
essentially is the view that I mean it's

173
00:06:57,280 --> 00:06:59,599
this view over here uh that comes up

174
00:06:59,599 --> 00:07:01,160
once you have unlocked your Vault and

175
00:07:01,160 --> 00:07:02,919
you are ready to start typing some text

176
00:07:02,919 --> 00:07:06,680
into it so next as you can see this was

177
00:07:06,680 --> 00:07:08,280
a very simple UI and of course I've

178
00:07:08,280 --> 00:07:10,280
created a new class for this Vault

179
00:07:10,280 --> 00:07:12,520
controller view called well Vault

180
00:07:12,520 --> 00:07:14,639
controller now another thing that I've

181
00:07:14,639 --> 00:07:16,960
done is in order to actually have touch

182
00:07:16,960 --> 00:07:19,840
bar support we need to actually have uh

183
00:07:19,840 --> 00:07:22,160
some some functions uh implemented in

184
00:07:22,160 --> 00:07:24,639
the uh in the window controller uh of

185
00:07:24,639 --> 00:07:27,000
our views so that it knows what to put

186
00:07:27,000 --> 00:07:29,639
on the touch bar and so in order to

187
00:07:29,639 --> 00:07:31,440
actually Implement that I had to create

188
00:07:31,440 --> 00:07:34,039
a new class for that window controller

189
00:07:34,039 --> 00:07:36,479
uh called well window controller uh

190
00:07:36,479 --> 00:07:38,800
which inherits from NS window controller

191
00:07:38,800 --> 00:07:41,240
and as you can see this is the function

192
00:07:41,240 --> 00:07:43,080
or this is the class okay so this is a

193
00:07:43,080 --> 00:07:44,879
class called window controller inherits

194
00:07:44,879 --> 00:07:47,639
from NS window controller uh and so of

195
00:07:47,639 --> 00:07:49,080
course we have our window did load

196
00:07:49,080 --> 00:07:50,879
function uh this isn't anything we need

197
00:07:50,879 --> 00:07:52,879
to worry about right now but the

198
00:07:52,879 --> 00:07:55,759
function that we had to implement in our

199
00:07:55,759 --> 00:07:58,319
uh project is the make touch bar

200
00:07:58,319 --> 00:08:00,879
function now the main touch bar function

201
00:08:00,879 --> 00:08:04,159
essentially allows us to tell Mac OS

202
00:08:04,159 --> 00:08:06,400
that yes we are creating a touch bar and

203
00:08:06,400 --> 00:08:08,080
here is what is going to be in that

204
00:08:08,080 --> 00:08:12,280
touch bar now uh of course uh this has a

205
00:08:12,280 --> 00:08:15,240
few uh sort of uh this will now the way

206
00:08:15,240 --> 00:08:17,520
this works is it'll return an NS touch

207
00:08:17,520 --> 00:08:19,639
bar okay and this is optional because we

208
00:08:19,639 --> 00:08:21,599
could or could not actually have a touch

209
00:08:21,599 --> 00:08:23,879
bar to use at the moment if we return

210
00:08:23,879 --> 00:08:25,599
nil then there'll just be nothing on the

211
00:08:25,599 --> 00:08:27,400
touch bar just you know the escape and

212
00:08:27,400 --> 00:08:29,879
our system controls uh but if we return

213
00:08:29,879 --> 00:08:31,479
and then that's touch bar then in the

214
00:08:31,479 --> 00:08:33,399
middle there between the escape and

215
00:08:33,399 --> 00:08:35,120
between those system controls you'll

216
00:08:35,120 --> 00:08:36,640
have an application space where you can

217
00:08:36,640 --> 00:08:39,800
put in any of your objects and so as you

218
00:08:39,800 --> 00:08:42,919
can see in our window controller now did

219
00:08:42,919 --> 00:08:45,800
what we display on the touch bar depends

220
00:08:45,800 --> 00:08:48,720
on what view we're on right and so what

221
00:08:48,720 --> 00:08:51,360
happens is if we're in if we haven't

222
00:08:51,360 --> 00:08:54,440
unlocked our vault and we want to then

223
00:08:54,440 --> 00:08:56,120
on our touch bar we want to say unlock

224
00:08:56,120 --> 00:08:57,959
Vault so we can ask the user for their

225
00:08:57,959 --> 00:09:00,079
fingerprint but if we're inside of the

226
00:09:00,079 --> 00:09:02,120
Vault and we want to lock it now then

227
00:09:02,120 --> 00:09:03,720
that means that we want to click on

228
00:09:03,720 --> 00:09:05,959
touch bar Lock vault and so we need to

229
00:09:05,959 --> 00:09:08,640
change button text accordingly and so in

230
00:09:08,640 --> 00:09:10,399
the main touch bar function what I've

231
00:09:10,399 --> 00:09:13,240
done is I've checked if uh let view

232
00:09:13,240 --> 00:09:15,600
controller is equal to the content view

233
00:09:15,600 --> 00:09:18,120
controller self. content content view

234
00:09:18,120 --> 00:09:20,440
controller as view controller so what

235
00:09:20,440 --> 00:09:23,920
this is doing is we're saying okay we're

236
00:09:23,920 --> 00:09:27,320
taking this Windows content uh we I mean

237
00:09:27,320 --> 00:09:29,800
self is an NS window controller and

238
00:09:29,800 --> 00:09:33,200
we're taking the view content okay and

239
00:09:33,200 --> 00:09:34,880
we're checking if that view content can

240
00:09:34,880 --> 00:09:36,440
be made as a view

241
00:09:36,440 --> 00:09:38,560
controller now keep in mind that view

242
00:09:38,560 --> 00:09:40,959
controller is this view right over here

243
00:09:40,959 --> 00:09:44,160
okay this is view controller and so uh

244
00:09:44,160 --> 00:09:46,760
if it is then we call that view

245
00:09:46,760 --> 00:09:49,160
controller make touch bar function if

246
00:09:49,160 --> 00:09:51,200
it's a vault controller then of course

247
00:09:51,200 --> 00:09:53,160
we still call that make touch bar

248
00:09:53,160 --> 00:09:56,200
function and so uh inside of the view

249
00:09:56,200 --> 00:09:58,240
controller class and the Vault uh

250
00:09:58,240 --> 00:10:00,680
controller class and both of those have

251
00:10:00,680 --> 00:10:02,560
their own functions called make touch

252
00:10:02,560 --> 00:10:04,680
bar now each one will create their own

253
00:10:04,680 --> 00:10:06,519
touch bar you know their own customized

254
00:10:06,519 --> 00:10:07,959
touch bar whatever they want to have in

255
00:10:07,959 --> 00:10:11,440
it and so essentially what happens is if

256
00:10:11,440 --> 00:10:13,680
we call let's say this one's make touch

257
00:10:13,680 --> 00:10:16,120
bar so again this is the make touch bar

258
00:10:16,120 --> 00:10:18,079
for this view over here that wants us to

259
00:10:18,079 --> 00:10:20,519
unlock the Vault and so as you can see

260
00:10:20,519 --> 00:10:22,200
in this function we are creating a new

261
00:10:22,200 --> 00:10:24,240
touch bar we're setting the delegate to

262
00:10:24,240 --> 00:10:26,279
self we're setting the customization

263
00:10:26,279 --> 00:10:28,399
identifier to an unlock bar I'll talk

264
00:10:28,399 --> 00:10:30,240
about this in just a little a little bit

265
00:10:30,240 --> 00:10:32,519
I'm setting the default item identifiers

266
00:10:32,519 --> 00:10:34,920
as unlock button and I'm setting the

267
00:10:34,920 --> 00:10:37,600
allowed item identifiers as unlock

268
00:10:37,600 --> 00:10:39,399
button and of course then I'm returning

269
00:10:39,399 --> 00:10:43,040
the touch bar now what is unlock bar

270
00:10:43,040 --> 00:10:45,639
unlock button well essentially what this

271
00:10:45,639 --> 00:10:48,079
is is if I go to touchbar identifiers.

272
00:10:48,079 --> 00:10:50,480
Swift over here on my side as you can

273
00:10:50,480 --> 00:10:53,120
see I have an extension to the NS

274
00:10:53,120 --> 00:10:56,440
touchbar item identifier uh class which

275
00:10:56,440 --> 00:10:58,639
essentially allows me to create two new

276
00:10:58,639 --> 00:11:01,480
constants the unlock button and the lock

277
00:11:01,480 --> 00:11:03,560
button and so these are the two types of

278
00:11:03,560 --> 00:11:05,920
elements that I that I'm creating for my

279
00:11:05,920 --> 00:11:08,639
touch bar now again if you had many more

280
00:11:08,639 --> 00:11:10,200
elements to put on your touch bar you

281
00:11:10,200 --> 00:11:13,680
would have many more in these list okay

282
00:11:13,680 --> 00:11:15,880
now another thing to keep in mind here

283
00:11:15,880 --> 00:11:17,920
is that this isn't your average sort of

284
00:11:17,920 --> 00:11:19,480
hey I'm going to create a label element

285
00:11:19,480 --> 00:11:20,800
I'm going to create a button element I'm

286
00:11:20,800 --> 00:11:23,480
going to create etc etc uh in this case

287
00:11:23,480 --> 00:11:25,279
what you want to do is create very

288
00:11:25,279 --> 00:11:27,680
specific types for example I didn't just

289
00:11:27,680 --> 00:11:30,720
create button like stat let button and

290
00:11:30,720 --> 00:11:32,720
and then just say okay then in the code

291
00:11:32,720 --> 00:11:35,120
I set one of the buttons texts to unlock

292
00:11:35,120 --> 00:11:36,920
button and one of the buttons text to

293
00:11:36,920 --> 00:11:39,399
lock button what I did is I created the

294
00:11:39,399 --> 00:11:41,360
unlock button and lock button as

295
00:11:41,360 --> 00:11:43,279
separate types and that's what you want

296
00:11:43,279 --> 00:11:45,320
to do be very specific with each and

297
00:11:45,320 --> 00:11:47,839
every item that will be on your touch

298
00:11:47,839 --> 00:11:50,800
bar now after that I've set these

299
00:11:50,800 --> 00:11:53,320
constants to NS touch bar item

300
00:11:53,320 --> 00:11:55,160
identifier uh and then I've just given

301
00:11:55,160 --> 00:11:58,279
it some random identifier like com. tbss

302
00:11:58,279 --> 00:12:01,120
touchbar do un lock button and then lock

303
00:12:01,120 --> 00:12:04,040
button for the lock button now I've also

304
00:12:04,040 --> 00:12:06,279
extended the NS touch bar customization

305
00:12:06,279 --> 00:12:08,560
identifier class and this allows me to

306
00:12:08,560 --> 00:12:12,160
create an unlock bar and a lock bar uh

307
00:12:12,160 --> 00:12:14,279
and so essentially this tells me whether

308
00:12:14,279 --> 00:12:16,720
this this um this touch bar that we're

309
00:12:16,720 --> 00:12:19,360
currently creating will be will will be

310
00:12:19,360 --> 00:12:22,199
the one with an unlock button or a lock

311
00:12:22,199 --> 00:12:25,680
button all right and so that essentially

312
00:12:25,680 --> 00:12:27,600
allows me to of course know what I'm

313
00:12:27,600 --> 00:12:29,279
currently doing with the touch bar and

314
00:12:29,279 --> 00:12:30,680
allow the system to know what I'm doing

315
00:12:30,680 --> 00:12:33,560
with the touch bar as well so now if I

316
00:12:33,560 --> 00:12:35,240
head back over here uh so that's

317
00:12:35,240 --> 00:12:36,519
essentially what we're doing in the view

318
00:12:36,519 --> 00:12:39,160
controller for make touch bar in the

319
00:12:39,160 --> 00:12:40,800
vault controller for make touch bar

320
00:12:40,800 --> 00:12:42,639
we're doing the exact same thing except

321
00:12:42,639 --> 00:12:44,600
instead we're giving it the lock bar

322
00:12:44,600 --> 00:12:47,079
lock button and of course lock button

323
00:12:47,079 --> 00:12:49,639
once more now heading back the to the

324
00:12:49,639 --> 00:12:52,000
view controller class uh now of course

325
00:12:52,000 --> 00:12:53,839
the view controller class also inherits

326
00:12:53,839 --> 00:12:55,760
from another class called NS touch bar

327
00:12:55,760 --> 00:12:57,560
delegate or in this case it's a protocol

328
00:12:57,560 --> 00:13:01,120
not a class sorry so of course uh from

329
00:13:01,120 --> 00:13:04,160
this protocol we are uh implementing a

330
00:13:04,160 --> 00:13:07,040
function called touch bar make item for

331
00:13:07,040 --> 00:13:09,760
identifier and which returns an NS touch

332
00:13:09,760 --> 00:13:12,880
bar item okay and so what I'm checking

333
00:13:12,880 --> 00:13:16,839
here is if the identifier is a do unlock

334
00:13:16,839 --> 00:13:19,399
button then we return an unlock button

335
00:13:19,399 --> 00:13:21,399
what this means is that if the touch bar

336
00:13:21,399 --> 00:13:23,880
API is saying hey what does an unlock

337
00:13:23,880 --> 00:13:25,560
button look like you told me that we're

338
00:13:25,560 --> 00:13:27,320
going to create an unlock button but

339
00:13:27,320 --> 00:13:29,480
what does that look like and so if it's

340
00:13:29,480 --> 00:13:31,519
asking for an unlock button which in

341
00:13:31,519 --> 00:13:33,720
this case it most probably is then we're

342
00:13:33,720 --> 00:13:36,040
going to create a new unlock button item

343
00:13:36,040 --> 00:13:38,000
we're going to create a new NS button

344
00:13:38,000 --> 00:13:39,959
for this unlock Vault uh and of course

345
00:13:39,959 --> 00:13:41,639
we're going to give it a selector and a

346
00:13:41,639 --> 00:13:44,079
Target we're going to set the unlock

347
00:13:44,079 --> 00:13:46,720
button items view to that button because

348
00:13:46,720 --> 00:13:48,760
of course NS button uh inherits from

349
00:13:48,760 --> 00:13:52,199
that view uh and then we can return that

350
00:13:52,199 --> 00:13:54,160
item and so the touch bar is then able

351
00:13:54,160 --> 00:13:56,880
to put essentially an NS button onto

352
00:13:56,880 --> 00:13:59,160
your touch bar that you can then control

353
00:13:59,160 --> 00:14:01,320
and right as you click that uh little

354
00:14:01,320 --> 00:14:03,639
button over there it'll call that action

355
00:14:03,639 --> 00:14:06,399
in the selector that you put in your NS

356
00:14:06,399 --> 00:14:09,839
button all right and so of course if we

357
00:14:09,839 --> 00:14:11,800
aren't asking for unlock button then

358
00:14:11,800 --> 00:14:13,079
we're going to return nil because we

359
00:14:13,079 --> 00:14:16,920
don't know how to do this all right so

360
00:14:16,920 --> 00:14:19,040
next in the vault controller let's talk

361
00:14:19,040 --> 00:14:21,120
about the Vault controllers touch bar

362
00:14:21,120 --> 00:14:23,759
make item for identifier function again

363
00:14:23,759 --> 00:14:25,720
exact same thing as view controller

364
00:14:25,720 --> 00:14:28,199
except instead of unlock Vault it is

365
00:14:28,199 --> 00:14:30,320
Lock vault and of course a different

366
00:14:30,320 --> 00:14:31,600
selector as

367
00:14:31,600 --> 00:14:34,680
well but now let's talk about the logic

368
00:14:34,680 --> 00:14:36,720
where we can actually use Touch ID to

369
00:14:36,720 --> 00:14:39,600
authenticate our users so now in order

370
00:14:39,600 --> 00:14:41,440
to do that we actually need a special

371
00:14:41,440 --> 00:14:43,120
framework that Apple's written called

372
00:14:43,120 --> 00:14:45,560
local authentication now of course you

373
00:14:45,560 --> 00:14:47,040
can just write in import local

374
00:14:47,040 --> 00:14:48,720
authentication Swift will import that

375
00:14:48,720 --> 00:14:51,160
automatically into your project and of

376
00:14:51,160 --> 00:14:53,120
course what we can do now is sort of uh

377
00:14:53,120 --> 00:14:55,800
also we don't exactly need this okay so

378
00:14:55,800 --> 00:14:57,560
that was an uh that was something from

379
00:14:57,560 --> 00:15:00,480
my older version but never mind uh so

380
00:15:00,480 --> 00:15:03,360
what we can do now uh is essentially see

381
00:15:03,360 --> 00:15:05,720
this unlock function here uh is

382
00:15:05,720 --> 00:15:08,120
essentially going to allow us to unlock

383
00:15:08,120 --> 00:15:11,000
the ti Vault so of course just like an

384
00:15:11,000 --> 00:15:12,920
iOS application just like I've explained

385
00:15:12,920 --> 00:15:15,240
in my previous tutorial which by the way

386
00:15:15,240 --> 00:15:16,880
if you haven't watched there will be a

387
00:15:16,880 --> 00:15:19,279
link to in the description that video

388
00:15:19,279 --> 00:15:21,079
sort of explains how you can use Touch

389
00:15:21,079 --> 00:15:23,959
ID with the iPhone and the same thing

390
00:15:23,959 --> 00:15:25,560
over here we're creating a new La

391
00:15:25,560 --> 00:15:28,240
context local authentication context

392
00:15:28,240 --> 00:15:31,000
we're giving the reason as unlock TI

393
00:15:31,000 --> 00:15:33,319
Vault we're giving an authentication

394
00:15:33,319 --> 00:15:35,399
error currently as nil but if it gets an

395
00:15:35,399 --> 00:15:37,000
authentication error it'll put that

396
00:15:37,000 --> 00:15:40,040
error into this variable and then we're

397
00:15:40,040 --> 00:15:43,600
checking if this context can actually uh

398
00:15:43,600 --> 00:15:45,800
can actually you know um you know

399
00:15:45,800 --> 00:15:48,560
actually ask the user for their Touch ID

400
00:15:48,560 --> 00:15:50,199
uh and but we're doing that by saying

401
00:15:50,199 --> 00:15:53,000
can evaluate policy that checks if the

402
00:15:53,000 --> 00:15:55,079
user actually has Touch ID on their

403
00:15:55,079 --> 00:15:58,480
device and so in this case if they do

404
00:15:58,480 --> 00:16:01,040
then it'll call another block of code

405
00:16:01,040 --> 00:16:03,839
which will actually evaluate that policy

406
00:16:03,839 --> 00:16:07,000
and ask the user for their Touch ID now

407
00:16:07,000 --> 00:16:09,519
another thing to note if I command click

408
00:16:09,519 --> 00:16:12,199
on device owner authentication here as

409
00:16:12,199 --> 00:16:14,000
you can see there's another case here

410
00:16:14,000 --> 00:16:15,959
device owner authentication with

411
00:16:15,959 --> 00:16:18,199
Biometrics this means that we're only

412
00:16:18,199 --> 00:16:21,839
going to take a biometric scan okay we

413
00:16:21,839 --> 00:16:24,839
don't want any passwords nothing we only

414
00:16:24,839 --> 00:16:26,759
want that touch ID scan if they get the

415
00:16:26,759 --> 00:16:28,480
touch ID wrong we're not going to let

416
00:16:28,480 --> 00:16:29,519
them devolve

417
00:16:29,519 --> 00:16:30,920
but if they get the touch ID right we'll

418
00:16:30,920 --> 00:16:33,240
let them in but in this case we're using

419
00:16:33,240 --> 00:16:35,440
both Touch ID and the user system

420
00:16:35,440 --> 00:16:37,240
password and this allows us to

421
00:16:37,240 --> 00:16:39,800
essentially say hey if you want to use

422
00:16:39,800 --> 00:16:41,519
your touch ID use your touch ID is

423
00:16:41,519 --> 00:16:43,199
really convenient but if you don't want

424
00:16:43,199 --> 00:16:45,480
to use your touch ID or you don't have

425
00:16:45,480 --> 00:16:47,480
that finger right now you can of course

426
00:16:47,480 --> 00:16:49,319
use your

427
00:16:49,319 --> 00:16:52,160
password of course uh though since I

428
00:16:52,160 --> 00:16:53,519
wanted people to be able to use their

429
00:16:53,519 --> 00:16:56,319
password I did not tell it to specify

430
00:16:56,319 --> 00:16:59,160
Biometrics and so finally one once I

431
00:16:59,160 --> 00:17:00,920
evaluate that policy and once it gets

432
00:17:00,920 --> 00:17:03,240
back to me I check if it was a success

433
00:17:03,240 --> 00:17:04,799
and if it was a success we were

434
00:17:04,799 --> 00:17:07,039
successfully able to authenticate that

435
00:17:07,039 --> 00:17:09,319
user that yes it is indeed the user of

436
00:17:09,319 --> 00:17:10,919
this Mac that we want to let into the

437
00:17:10,919 --> 00:17:13,839
Vault then we can perform a segue called

438
00:17:13,839 --> 00:17:16,199
the unlocked Segway now let me tell you

439
00:17:16,199 --> 00:17:17,959
a bit more about that so if I go to my

440
00:17:17,959 --> 00:17:20,280
main. storyboard as you can see I have a

441
00:17:20,280 --> 00:17:22,520
little segue here uh between these two

442
00:17:22,520 --> 00:17:25,839
views uh and this segue is uh a sheet

443
00:17:25,839 --> 00:17:28,160
segue uh and the identifier is unlocked

444
00:17:28,160 --> 00:17:30,480
segue okay okay now the sheet seg

445
00:17:30,480 --> 00:17:32,320
essentially now if I unlock my Vault

446
00:17:32,320 --> 00:17:35,240
here as you can see uh it sort of just

447
00:17:35,240 --> 00:17:37,760
dropped down like a sheet onto this view

448
00:17:37,760 --> 00:17:39,080
uh and so that's essentially a sheet

449
00:17:39,080 --> 00:17:42,440
segue okay it it just drops down uh and

450
00:17:42,440 --> 00:17:44,600
then when I click on Lock vault it

451
00:17:44,600 --> 00:17:47,120
slides back up again okay and so that's

452
00:17:47,120 --> 00:17:48,440
essentially what that is it's one of the

453
00:17:48,440 --> 00:17:50,039
simplest Segways I could find to

454
00:17:50,039 --> 00:17:52,320
actually Implement because uh as you

455
00:17:52,320 --> 00:17:54,760
probably know uh Segway with kakoa

456
00:17:54,760 --> 00:17:57,679
aren't exactly fun to work with uh but

457
00:17:57,679 --> 00:17:59,000
of course I was able to get that that

458
00:17:59,000 --> 00:18:01,720
working uh and in order to actually

459
00:18:01,720 --> 00:18:03,679
dismiss this Lock vault controller You

460
00:18:03,679 --> 00:18:05,679
Must Be Wondering well we don't have a

461
00:18:05,679 --> 00:18:07,880
segue from Lock vault back to unlock

462
00:18:07,880 --> 00:18:10,760
Vault uh well actually what happens is

463
00:18:10,760 --> 00:18:13,039
what I can do if I show you here uh all

464
00:18:13,039 --> 00:18:16,400
I need to do is call self. dismiss self

465
00:18:16,400 --> 00:18:18,559
and what this does it'll just dismiss

466
00:18:18,559 --> 00:18:21,039
self okay it'll just go right back up

467
00:18:21,039 --> 00:18:22,400
because this is essentially like a

468
00:18:22,400 --> 00:18:24,960
message view or an alert view uh and it

469
00:18:24,960 --> 00:18:27,320
will allow us to dismiss it

470
00:18:27,320 --> 00:18:29,720
automatically all right so apart from

471
00:18:29,720 --> 00:18:31,480
that we of course have our save and load

472
00:18:31,480 --> 00:18:32,440
functions these are very

473
00:18:32,440 --> 00:18:35,039
self-explanatory again mostly inherited

474
00:18:35,039 --> 00:18:37,840
from our iPhone application and this

475
00:18:37,840 --> 00:18:40,360
will allow us to of course first of all

476
00:18:40,360 --> 00:18:42,600
save our text that we've put in our tid

477
00:18:42,600 --> 00:18:45,159
Vault and load text from the tid Vault

478
00:18:45,159 --> 00:18:47,760
when the application begins and of

479
00:18:47,760 --> 00:18:49,240
course when you click lock we call a

480
00:18:49,240 --> 00:18:50,880
lock function and the lock function will

481
00:18:50,880 --> 00:18:53,000
automatically save what you put in the T

482
00:18:53,000 --> 00:18:55,400
Vault and it'll dismiss self and of

483
00:18:55,400 --> 00:18:57,280
course in viewed load we will try to

484
00:18:57,280 --> 00:18:59,840
load in some new text and we will tell

485
00:18:59,840 --> 00:19:02,200
the touch bar that hey now essentially

486
00:19:02,200 --> 00:19:04,960
what this is that uh this input field if

487
00:19:04,960 --> 00:19:07,000
I unlock the Vault again this input

488
00:19:07,000 --> 00:19:11,640
field um now when with what happened is

489
00:19:11,640 --> 00:19:13,000
the touch bar actually has another

490
00:19:13,000 --> 00:19:14,600
feature where when you start to type in

491
00:19:14,600 --> 00:19:16,520
text uh it'll actually give you those

492
00:19:16,520 --> 00:19:18,240
quick type suggestions just like just

493
00:19:18,240 --> 00:19:21,120
like it does on iOS very convenient but

494
00:19:21,120 --> 00:19:23,760
not for a tid Vault the reason being

495
00:19:23,760 --> 00:19:25,799
that well our Lock vault button gets

496
00:19:25,799 --> 00:19:28,200
hidden due to that keyboard uh those

497
00:19:28,200 --> 00:19:31,039
quick type suggestions and so of course

498
00:19:31,039 --> 00:19:33,559
I told it that is automatic text

499
00:19:33,559 --> 00:19:35,760
completion enabled is equal to false and

500
00:19:35,760 --> 00:19:37,240
this means that it will not give us

501
00:19:37,240 --> 00:19:39,159
those quick type suggestions so that the

502
00:19:39,159 --> 00:19:41,720
Lock vault button can stay there and of

503
00:19:41,720 --> 00:19:43,919
course can be very accessible and easy

504
00:19:43,919 --> 00:19:45,960
to access by the

505
00:19:45,960 --> 00:19:48,440
user and that is essentially a quick

506
00:19:48,440 --> 00:19:51,039
rundown of the code for this

507
00:19:51,039 --> 00:19:53,600
application now again as I said if you

508
00:19:53,600 --> 00:19:55,280
look in the save function this isn't the

509
00:19:55,280 --> 00:19:57,640
most secure save function then again

510
00:19:57,640 --> 00:19:59,559
today I wanted to teach you how you can

511
00:19:59,559 --> 00:20:01,960
use Touch ID and the NS touch bar in

512
00:20:01,960 --> 00:20:04,080
order to control these new features that

513
00:20:04,080 --> 00:20:06,840
the Mac has brought to us but of course

514
00:20:06,840 --> 00:20:08,919
a new feature or a new version of this

515
00:20:08,919 --> 00:20:11,000
video will be coming out very soon which

516
00:20:11,000 --> 00:20:13,480
tells you exactly how you can of course

517
00:20:13,480 --> 00:20:15,280
improve on this and make it more secure

518
00:20:15,280 --> 00:20:16,919
and of course an actual Mac up soon

519
00:20:16,919 --> 00:20:19,960
maybe as well all right then so of

520
00:20:19,960 --> 00:20:22,200
course this code will be open sourced on

521
00:20:22,200 --> 00:20:23,840
GitHub and the link will be down in the

522
00:20:23,840 --> 00:20:26,000
description for you to download and use

523
00:20:26,000 --> 00:20:27,960
and learn from uh and if you have any

524
00:20:27,960 --> 00:20:30,159
more questions suggestions or feedback

525
00:20:30,159 --> 00:20:31,480
you can leave them down in the comment

526
00:20:31,480 --> 00:20:33,799
section below email them to me or tweet

527
00:20:33,799 --> 00:20:36,400
them to me at tajim Manny and of course

528
00:20:36,400 --> 00:20:37,799
if you really like my content and you

529
00:20:37,799 --> 00:20:39,000
want to see more of it please do

530
00:20:39,000 --> 00:20:40,559
consider subscribing to this YouTube

531
00:20:40,559 --> 00:20:42,799
channel or maybe just liking the video

532
00:20:42,799 --> 00:20:44,320
and if you think this video could help

533
00:20:44,320 --> 00:20:46,200
anyone else you know please do consider

534
00:20:46,200 --> 00:20:48,520
sharing it as well again once again

535
00:20:48,520 --> 00:20:50,080
thank you that's going to be it for this

536
00:20:50,080 --> 00:20:53,960
tutorial today goodbye
