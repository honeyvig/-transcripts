1
00:00:00,650 --> 00:00:02,790
so hello there and welcome to this

2
00:00:02,790 --> 00:00:04,770
tutorial my name is Tanya Bakshi and

3
00:00:04,770 --> 00:00:05,730
this time we're gonna be going over

4
00:00:05,730 --> 00:00:07,799
something quite interesting which is

5
00:00:07,799 --> 00:00:10,590
Swift databases and not just any Swift

6
00:00:10,590 --> 00:00:12,809
databases I'm going to be revisiting my

7
00:00:12,809 --> 00:00:15,150
most popular edition of it which is part

8
00:00:15,150 --> 00:00:17,850
one and I'm going to creating part one

9
00:00:17,850 --> 00:00:21,420
point one so you might be thinking 10-8

10
00:00:21,420 --> 00:00:23,369
what is there to improve in switch

11
00:00:23,369 --> 00:00:25,380
devices now you even gone to the extent

12
00:00:25,380 --> 00:00:27,660
of images what else could even improve

13
00:00:27,660 --> 00:00:30,539
now there is still one thing that's

14
00:00:30,539 --> 00:00:34,680
missing a library now you might be

15
00:00:34,680 --> 00:00:37,380
thinking why exactly would I need a

16
00:00:37,380 --> 00:00:40,440
library well think about this in Swift

17
00:00:40,440 --> 00:00:42,629
too when you have to use the do and

18
00:00:42,629 --> 00:00:47,100
catch your your JSON serialization first

19
00:00:47,100 --> 00:00:48,690
of all it's already really complicated

20
00:00:48,690 --> 00:00:50,730
even without Swift - but then adding in

21
00:00:50,730 --> 00:00:52,949
all those extra lines of code it's just

22
00:00:52,949 --> 00:00:56,460
too much for you to handle it's it's

23
00:00:56,460 --> 00:00:58,590
amazing that you even know how to write

24
00:00:58,590 --> 00:01:01,500
that code so I decided to take the

25
00:01:01,500 --> 00:01:04,619
liberty to make a team est me class

26
00:01:04,619 --> 00:01:06,720
which I'll explain in a minute which can

27
00:01:06,720 --> 00:01:10,260
essentially do all of the JSON reading

28
00:01:10,260 --> 00:01:13,320
from a web server for you so this stands

29
00:01:13,320 --> 00:01:16,920
for Tanmay Bakshi Swift databases now in

30
00:01:16,920 --> 00:01:20,250
case you were wondering and so basically

31
00:01:20,250 --> 00:01:22,110
what this will do is it will have a few

32
00:01:22,110 --> 00:01:24,450
functions and a few variables which will

33
00:01:24,450 --> 00:01:27,960
allow you to get the dictionary value or

34
00:01:27,960 --> 00:01:31,439
array value from any JSON API that's

35
00:01:31,439 --> 00:01:33,990
available online right now this does not

36
00:01:33,990 --> 00:01:36,210
work with JSON P or xml just quite yet

37
00:01:36,210 --> 00:01:38,840
but I will be adding that in quite soon

38
00:01:38,840 --> 00:01:42,000
so yeah I guess we'll go to the Mac part

39
00:01:42,000 --> 00:01:43,950
now and I'll explain exactly how I've

40
00:01:43,950 --> 00:01:48,810
implemented this app so just one last

41
00:01:48,810 --> 00:01:50,280
thing before I actually get to the Mac

42
00:01:50,280 --> 00:01:53,100
part is that I'd like to clarify this

43
00:01:53,100 --> 00:01:55,380
book database tutorial was actually

44
00:01:55,380 --> 00:01:58,170
inspired by someone called Amrit he's

45
00:01:58,170 --> 00:02:00,200
one of my subscribers he mailed me

46
00:02:00,200 --> 00:02:02,070
having a little problem with such

47
00:02:02,070 --> 00:02:04,979
databases he mailed me he had a little

48
00:02:04,979 --> 00:02:07,590
school project I helped him with it but

49
00:02:07,590 --> 00:02:10,170
then after that he also asked me to

50
00:02:10,170 --> 00:02:11,740
create a little API

51
00:02:11,740 --> 00:02:14,050
a class which will allow us to do such a

52
00:02:14,050 --> 00:02:16,120
thing with like really easy JSON

53
00:02:16,120 --> 00:02:19,630
interaction online so I created a TBS VB

54
00:02:19,630 --> 00:02:22,780
class and so yeah I'm going to be using

55
00:02:22,780 --> 00:02:27,040
Emirates API with his list of users and

56
00:02:27,040 --> 00:02:29,650
their images so yeah I'm gonna get

57
00:02:29,650 --> 00:02:32,650
started now and let's see the code well

58
00:02:32,650 --> 00:02:33,790
actually first I'll show you a little

59
00:02:33,790 --> 00:02:37,840
demo and as you can see here I have all

60
00:02:37,840 --> 00:02:42,000
of I still have my other tutorials open

61
00:02:42,000 --> 00:02:47,890
but I can open up Emirates thing too so

62
00:02:47,890 --> 00:02:51,100
fine what's up so you can see we are

63
00:02:51,100 --> 00:02:54,520
inside the code for Emirates app this

64
00:02:54,520 --> 00:02:57,010
most of this code I've already taught

65
00:02:57,010 --> 00:03:01,390
you how to do and yeah so I'm just gonna

66
00:03:01,390 --> 00:03:03,360
get started with a really simple

67
00:03:03,360 --> 00:03:05,830
explanation because I'm just gonna skim

68
00:03:05,830 --> 00:03:07,150
through this because you've already

69
00:03:07,150 --> 00:03:09,130
learned this in Swift database part 1

70
00:03:09,130 --> 00:03:12,010
this is just going to be the API that I

71
00:03:12,010 --> 00:03:14,320
explained to you so I'm just gonna go

72
00:03:14,320 --> 00:03:16,330
over this and as you can see we have the

73
00:03:16,330 --> 00:03:17,890
class review controller that conforms to

74
00:03:17,890 --> 00:03:19,780
UI view controller UI tableview

75
00:03:19,780 --> 00:03:21,550
datasource and UI tableview delegate

76
00:03:21,550 --> 00:03:24,520
after that we have our table view which

77
00:03:24,520 --> 00:03:26,080
is thank you my table view and this

78
00:03:26,080 --> 00:03:27,730
unfortunately has to be an optional do

79
00:03:27,730 --> 00:03:30,640
to swift telling us that we have to then

80
00:03:30,640 --> 00:03:33,280
we have the data as an NS array which we

81
00:03:33,280 --> 00:03:35,110
are not currently using yet but we will

82
00:03:35,110 --> 00:03:37,060
in our view did load function in our

83
00:03:37,060 --> 00:03:38,920
view did load function we set the data

84
00:03:38,920 --> 00:03:42,210
to the date of JSON and then his API

85
00:03:42,210 --> 00:03:45,580
Emirates API if I open this up in Google

86
00:03:45,580 --> 00:03:49,570
Chrome you will see that as you can see

87
00:03:49,570 --> 00:03:52,090
it gives you a lots of JSON again I came

88
00:03:52,090 --> 00:03:54,190
to understand this I copy this into a

89
00:03:54,190 --> 00:03:57,970
JSON viewer okay I format first of all

90
00:03:57,970 --> 00:03:59,800
so it's a little bit easier then I go

91
00:03:59,800 --> 00:04:01,330
into the viewer and then it tells me

92
00:04:01,330 --> 00:04:03,310
exactly what I need to do in order to

93
00:04:03,310 --> 00:04:06,520
parse this out okay so now let's get

94
00:04:06,520 --> 00:04:08,740
back to our code so now that we're back

95
00:04:08,740 --> 00:04:09,910
on our code I'm just going to make this

96
00:04:09,910 --> 00:04:13,480
full screen and as you can see we have

97
00:04:13,480 --> 00:04:16,270
the URL here and then this returns a

98
00:04:16,270 --> 00:04:18,580
nice dictionary so then I want to get

99
00:04:18,580 --> 00:04:20,350
the result out of that as you can see

100
00:04:20,350 --> 00:04:22,630
from our JSON viewer we want the result

101
00:04:22,630 --> 00:04:23,760
as an MS

102
00:04:23,760 --> 00:04:25,500
right and then I just want to print that

103
00:04:25,500 --> 00:04:28,050
data so if we need to bug something we

104
00:04:28,050 --> 00:04:30,660
always have that information then when

105
00:04:30,660 --> 00:04:32,190
we reload we just do the same thing

106
00:04:32,190 --> 00:04:33,990
except we also reload the table your

107
00:04:33,990 --> 00:04:37,140
data when touches begin we want to end

108
00:04:37,140 --> 00:04:39,030
our editing we actually don't need this

109
00:04:39,030 --> 00:04:41,400
since we don't use any text fields in

110
00:04:41,400 --> 00:04:43,800
this after that we just have our table

111
00:04:43,800 --> 00:04:45,570
view number of rows in section function

112
00:04:45,570 --> 00:04:47,970
that is required from UI tableview

113
00:04:47,970 --> 00:04:50,760
datasource and we are just returning

114
00:04:50,760 --> 00:04:53,550
data count here and in our data of JSON

115
00:04:53,550 --> 00:04:56,130
function we are just setting request to

116
00:04:56,130 --> 00:04:58,950
a new TBS DB which I will explain in

117
00:04:58,950 --> 00:05:01,170
just a second in it with URL and then

118
00:05:01,170 --> 00:05:03,750
the URL that I give it then I'm just

119
00:05:03,750 --> 00:05:06,540
returning the requests dictionary value

120
00:05:06,540 --> 00:05:08,400
and this will be nothing in the

121
00:05:08,400 --> 00:05:10,350
dictionary if there is nothing in the

122
00:05:10,350 --> 00:05:11,910
JSON that it can get the dictionary

123
00:05:11,910 --> 00:05:14,400
value of so it's pretty safe in that

124
00:05:14,400 --> 00:05:17,820
manner after that we have our table view

125
00:05:17,820 --> 00:05:20,250
cell for row index path index path

126
00:05:20,250 --> 00:05:22,410
function which is again required by the

127
00:05:22,410 --> 00:05:25,020
UN table in your data source class so

128
00:05:25,020 --> 00:05:26,730
basically this will create an additional

129
00:05:26,730 --> 00:05:28,920
info cell which you should already know

130
00:05:28,920 --> 00:05:31,320
how is used and then everything else is

131
00:05:31,320 --> 00:05:33,420
just classics with databases stuff which

132
00:05:33,420 --> 00:05:34,830
I don't want to go into too much depth

133
00:05:34,830 --> 00:05:37,380
with right now after that we just have

134
00:05:37,380 --> 00:05:39,720
our memory warning and now I will just

135
00:05:39,720 --> 00:05:41,250
give you a quick demo of the app just to

136
00:05:41,250 --> 00:05:43,740
show that it actually works and then

137
00:05:43,740 --> 00:05:45,620
right as you see that it actually works

138
00:05:45,620 --> 00:05:49,530
I will show you the API as you can see

139
00:05:49,530 --> 00:05:51,990
it shows all of these people their

140
00:05:51,990 --> 00:05:54,570
images their names and their IDs and

141
00:05:54,570 --> 00:05:57,750
their ages including Emirates and then I

142
00:05:57,750 --> 00:05:59,640
can always reload if I want to even

143
00:05:59,640 --> 00:06:00,990
though there's nothing new that'll come

144
00:06:00,990 --> 00:06:03,180
in and then of course I'm going to

145
00:06:03,180 --> 00:06:05,730
explain exactly how this API works I'm

146
00:06:05,730 --> 00:06:09,060
just gonna go into my API first so as

147
00:06:09,060 --> 00:06:12,150
you can see I have a swiftie networking

148
00:06:12,150 --> 00:06:13,830
not Swift file actually this is supposed

149
00:06:13,830 --> 00:06:19,740
to be TV SD me renamed it so then in

150
00:06:19,740 --> 00:06:20,340
this file

151
00:06:20,340 --> 00:06:22,830
I'm just importing foundation pretty

152
00:06:22,830 --> 00:06:25,050
simple then we are creating a global

153
00:06:25,050 --> 00:06:27,570
variable color request which is a blank

154
00:06:27,570 --> 00:06:29,190
TBS DB with no Ling

155
00:06:29,190 --> 00:06:31,350
in it currently and then we have our TBS

156
00:06:31,350 --> 00:06:33,420
DB class that's something I found a

157
00:06:33,420 --> 00:06:34,530
little bit weird about to it but

158
00:06:34,530 --> 00:06:36,720
sometimes it's pretty helpful you can

159
00:06:36,720 --> 00:06:38,730
declare this class before it's even been

160
00:06:38,730 --> 00:06:41,400
made but if this variable comes before

161
00:06:41,400 --> 00:06:45,060
the class declaration and it works so

162
00:06:45,060 --> 00:06:46,410
that's amazing

163
00:06:46,410 --> 00:06:49,190
so after that let's just get back to our

164
00:06:49,190 --> 00:06:53,010
coding so now we have a VAR URL inside

165
00:06:53,010 --> 00:06:56,250
of TBS DB and this is a string and we

166
00:06:56,250 --> 00:06:58,410
have no value in it currently whenever

167
00:06:58,410 --> 00:07:00,870
we initialize with no value we just want

168
00:07:00,870 --> 00:07:02,880
to set the URL to nothing so that we

169
00:07:02,880 --> 00:07:04,860
don't have an optional just laying

170
00:07:04,860 --> 00:07:07,200
around there and whenever we init with a

171
00:07:07,200 --> 00:07:10,980
URL just set it to the URL then when we

172
00:07:10,980 --> 00:07:13,770
get data we just return some NS data and

173
00:07:13,770 --> 00:07:15,150
this will be an optional since we don't

174
00:07:15,150 --> 00:07:17,850
want to handle optionals right now so we

175
00:07:17,850 --> 00:07:19,380
just return an estate our contents of

176
00:07:19,380 --> 00:07:23,220
URL nsurl the string URL however we do

177
00:07:23,220 --> 00:07:24,600
have forcefully unwrapped this and as

178
00:07:24,600 --> 00:07:26,250
URL because there's nothing that could

179
00:07:26,250 --> 00:07:28,950
possibly happen here then there's two

180
00:07:28,950 --> 00:07:30,870
functions dictionary value enter a value

181
00:07:30,870 --> 00:07:33,630
the action area value will return the

182
00:07:33,630 --> 00:07:35,820
diction of the JSON value for the link

183
00:07:35,820 --> 00:07:39,330
in a string any object manner and array

184
00:07:39,330 --> 00:07:41,970
value will just return an array of any

185
00:07:41,970 --> 00:07:45,720
objects and yeah this code will be in

186
00:07:45,720 --> 00:07:46,980
the description so if you want to

187
00:07:46,980 --> 00:07:50,340
improve it if you want to work on if you

188
00:07:50,340 --> 00:07:51,750
want to include it in your app you're

189
00:07:51,750 --> 00:07:53,669
completely free to do that just keep my

190
00:07:53,669 --> 00:07:56,730
name over here as you can see after that

191
00:07:56,730 --> 00:07:58,200
that's really it

192
00:07:58,200 --> 00:08:00,419
and so yeah that was it for Swift

193
00:08:00,419 --> 00:08:02,669
databases part 1.1 everything you to my

194
00:08:02,669 --> 00:08:04,200
channel and you like my content you want

195
00:08:04,200 --> 00:08:06,060
to see more of it like this video if you

196
00:08:06,060 --> 00:08:07,650
really liked it comment down below if

197
00:08:07,650 --> 00:08:09,360
you have any questions or maybe some

198
00:08:09,360 --> 00:08:11,370
suggestions for future videos I will get

199
00:08:11,370 --> 00:08:13,050
back to you as soon as possible

200
00:08:13,050 --> 00:08:14,610
you could even email me at Tai Chi mani

201
00:08:14,610 --> 00:08:17,280
at gmail.com if you didn't get that my

202
00:08:17,280 --> 00:08:18,750
email will be down in the description

203
00:08:18,750 --> 00:08:22,580
and yeah that's it good bye
