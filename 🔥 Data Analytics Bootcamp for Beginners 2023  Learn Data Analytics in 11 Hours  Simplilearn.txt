foreign
data is everywhere from social media
post to online transactions to iot
devices but with so much information
available how can businesses and
individual make sense of it all that's
why data analytics comes in data
analytics is the key to unlocking the
hidden insights in your data giving you
the power to make informed decisions and
drive business success from optimizing
your marketing companions to improving
your Supply Chain management data
analytics can help you stay ahead of the
curve and remain competitive in today's
fast-paced business environment data
analytics is a key driver of business
success making it one of the most
in-demand Professionals in the job
market which salary ranging from Dollar
60 000 to 120 000 annually data
analytics can earn a high income but
employers are looking for candidates
with proven expertise and certifications
simply learns data analytics bootcamp
offer a comprehensive curriculum that
covers everything from data analysis to
visualizations and interpretations with
hands-on experience using popular tools
like Excel SQL and tableau the program
includes a certification exam to help
you stand out in the job market and
showcase your skills to potential
employers whether you're just starting
out or looking to transition your career
simply learns data analytics bootcamp
can take your skills to the next level
and help you reach your full potential
enroll today and start your career
towards a rewarding career in data
analytics during the course of this boot
camp we will learn everything you need
to know about data analytics using
Python and SQL
we will start our journey with data
analytics Basics and applications then
we'll have numpy pandas and matplotlib
in Python then we'll check out several
data analysis reports including Spotify
World happiness Uber and Olympics then
we'll switch our Focus towards SQL and
learn what SQL is all about in details
we will discuss some SQL functions like
group by having and join then we'll dive
into advanced applications with SQL
finally we will wrap up this bootcamp by
integrating SQL with python welcome to
data analytics using python my name is
Richard kirschner with the simply
learned team that's
www.simplylearn.com get certified get
ahead
so we're going to cover data analytics
with python we're going to go over what
is data analytics applications of data
analytics types of data analytics
data analytics process steps why python
for data analytics and then we'll dive
into use case demo so you can actually
see some script and actually see what it
looks like in the python code
what is data analytics
data analytics is a process of exploring
and analyzing large data sets to make
predictions and help data-driven
decision making now the definition of
large data sets keeps changing and so
this can range really from just about
anything to anything but usually in
today's world we're talking
significantly larger amounts of data
that you can't just glance at and try to
figure it out yourself and the two steps
are analyze the data and then make
decisions based on the data
applications of data analytics now the
sky's the limit on this in today's world
almost every business Act of Life your
music on your Spotify are driven by data
analytics but some of the big players
when you go in there job hunting are
going to be your fraud analysis if you
want to go make a lot of money and
you're good at it and you like dealing
with numbers go join the banks and track
down the criminals who are stealing
money it's a lot of you know it's a big
thing to protect credit cards predict
sales purchases bad checks any of those
things when you can track them down is
huge
Healthcare exploding there is everything
from trying to find cures for the covet
virus or any of the viruses out there
using your cell phone to diagnose
different ailments that way you don't
have to go and see the doctor you can
actually just go in there and take a
picture of the funky growth on your arm
hopefully it's not too big and then they
send it in there and the data analytics
goes in there looks at it and says oh
this is what this is this is a
professional you need to go see or don't
need to see
and that's just one aspect of healthcare
the database is being generated by
Healthcare and getting the right doctors
and helping the doctors analyze whether
something is benign or malignant if it's
cancerous all those things are now part
of the ongoing Health Care growth in
data analytics
Inventory management
think one of those huge warehouses where
they're shipping out all the goods how
do you inventory that in such a way so
that you maximize the stuff that's being
purchased the most near the entrance and
all the other stuff towards the back or
even pre-ship it so it's huge to be able
to inventory the manager inventory and
pretty soon they'll just have a drone
come in there and start picking up some
of those boxes and move them around also
deliver your Logistics again this goes
from getting from point A to point B you
can combine it with our inventory so you
pre-ship stuff if you know a certain
area is more likely to purchase it how
do you get it the delivery to the most
destinations the quickest in the short
amount of time and then they even
pre-stack the trucks going out and
that's all done with data analytics how
do we stack all that stuff so it comes
out in the right order
targeted marketing huge industry any
kind of marketing whether you're
generating the right content for the
marketing who are you targeting with
that marketing researching the people
what they want so you know what products
to Market out there all those things are
huge
and these are just a few examples you
can probably go Way Beyond this from
tracking forest fires
to astrology and studying the stars all
of this is part of data analytics now
and plays a huge role in all these
different areas
City Planning is another one you know
you can see a nice organized City like
this one where you can get in and out of
the neighborhoods if you're a fire truck
police officers need to be able to get
in and out you want your tourists to be
able to come in you still want the place
to look nice and you have the right
commercial development the right
Industrial Development like enough
residents for people to stay all those
things are part of your City Planning
again huge in data analytics
so sky's the limit on what you use it
for let's take a look at types of data
analytics
and this can be broken up in so many
ways but we're going to start with
looking at the most basic questions that
you're going to be asking in data
analytics and the first one is you want
descriptive analytics what has happened
hindsight how many sales per call ratio
coming out of the call center if we have
500 tourists in a forest and they have a
certain temperature how many fires were
started how many times did the police
have to show up to certain houses all
that's descriptive the next one is
predictive Predictive Analytics is what
will happen next we want to predict this
is great if you have a ice cream store
and you want to predict how many people
to work at the ice cream store in a
certain day based on the temperature
coming up in the time of the year
and then one of the biggest growing and
most important parts of the industry is
now prescriptive analytics and you can
think of that as combining the first two
we have descriptive and we have
predictive then you get pre-scriptive
Analytics
how can we make it happen foresight what
can we change to make this work better
in all the industries we looked at
before we can start asking questions
especially in City development there's a
good one
if we want to have our city generate
more income and we want that income to
be commercial based what kind of
commercial buildings do we need to build
in that area that are going to bring
people over do we need huge Warehouse
cells Costco sales buildings or do we
need little mom pod joints that are
going to bring in people from the
country to come shop there or do you
want an industrial setup what do you
need to bring that industry in there is
our car industry available in that area
if it's not a car industry what other
Industries are in that area all those
things are prescriptive we're guessing
we're guessing what can we do to fix it
what can we do to fix crime and area
with education what kind of education
are we going to use to help people
understand what's going on so that we
lower the rate of crime and we help our
communities grow better that's all
prescriptive it's all guessing we went
foresight into how can we make it happen
how can we make this better
and we really can't not go into enough
detail on these three because a lot of
people stumble on this when they come in
and are doing analytics whether you're
the manager shareholder or the data
scientist coming in you really need to
understand the descriptive analytics
where you're studying the total units of
furniture sold and the profit that was
made in the past here we go into
Predictive Analytics predicting the
total units that would sell and the
profit we can expect in the future and
gear up for how many employees we need
how much money we're going to make and
prescriptive analytics finding ways to
improve the sales and the profit so we
can sell maybe a different kind of
furniture we're going to guess at what
the area is looking for and how that
marketing is going to change
data analytics process steps so let's
take a look at some of the basic
processing and what that looks like when
you're working with this data
so there's five basic steps the five
steps of processing and this changes and
then there's a lot of things that go on
when they talk about agile programming
the whole concept of agile is you take
some kind of framework like this and
then you build on it depending on what
your business needs
so the first step is data collection
and usually with a large company you
might have somebody who is responsible
for the database management you may have
another one where they're pulling apis
and they're pulling data off of maybe
the Census Bureau maybe something very
very specific domain specific so if
you're analyzing cancerous growths and
how to understand them then the data
collection is going to be those
measurements they take from the MRI or
it might be even the MRI images they've
used those also so there's a lot of
things with data collection and how to
control that and make sure it has what
you need and is clean and you don't have
misinformation coming in
once you have the data collected there's
a data preparation
so stage two is we take that data and we
format it into something we can use
probably one of the biggest formats that
you see is when you're processing text
how do you process text we'll use what
they call a one hot encoder and each
word is represented by a yes no kind of
setup so it'd be like a long array of
bits that's one way to prepare it and so
you know bit number one is the bit
number two is has or whatever it is
other preparations might be if you're
using neural networks you might be
taking integers or float numbers and
converting them to a value between 0 and
1. that way you don't have one of them
creating a bias in there so there's a
lot of different things that go into
Data preparation that is 80 percent of
data science so when we talk about the
data analytics which is a little bit
more on the math side and they usually
say talk about a data scientist kind of
being the overall prepare this stuff
you're going to spend eighty percent of
your data preparation
data exploration that's the fun part
this is where you're exploring things
and it is
maybe 10 to 15 percent of what you do
with the data you spend with the data
exploration it is probably the most
important step because this is where you
got to start asking questions if you ask
your questions wrong you're going to get
some wrong information if you're working
with a company and they want to know the
marketing values then you really got to
focus on hey how do we generate money
for this company or fraud how do we
lower the fraud rate while still
generating a profit for data modeling
this is where we start actually getting
into the data code which model to use
that predicts what's going to happen
uh and then result interpretation we
want to be able to interpret those
results usually see that in your matplot
library where you create nice beautiful
images so it shows up on their dashboard
for the marketing manager or for the CEO
so they can take a quick look and say
hey I can see what's going on there you
want to reduce it to something they can
easily read they don't want to hear the
scientific terms they want to see
something they can use and we'll talk
about that a little bit more when we
start looking at some of this in a demo
since this is data analysis with python
we've got to ask the question why python
for data analytics I mean there's C plus
plus there's Java there's dot net from
Microsoft why do people go to python for
it
so the number of reasons one it's easy
to learn with simple syntax you don't
have a very high type set like you do in
Java and other coding so it allows you
to kind of be a little lazy in your
programming that doesn't mean that it
can't be set that way and that you don't
have to be careful it just makes means
you can spin up a code much quicker in
Python the same amount of code to do
something in Python A lot of times is
one two or three or four lines where
when I did the same thing say in Java I
found myself with 10 12 13 20 lines
depending on what it was
it's very scalable and flexible so
there's our flexibility because you can
do a lot with it and you can easily
scale it up you can go from something on
your machine to using a pi spark under
the spark environment and spread that
across hundreds if not thousands of
servers across terabytes of data or
petabytes of data so it's very scalable
there's a huge collection of libraries
this one's always interesting because
Java has a huge collection of libraries
C has a huge collection of
libraries.net does and they're always in
competition to get those libraries out
Scala for your spark all those have huge
collection libraries this is always
changing but because Python's open
source you almost always have easy to
access libraries that anybody can use
you don't have to go check your
licensing and have special licensing
like you do in some packages
graphics and visualization they have a
really powerful package for that so it
makes it easy to create nice displays
for people to read
and community support because python is
open source it has a huge community that
supports it you can do a quick Google
and probably find a solution for almost
anything you're working on
python libraries let's bring it together
we have data analytics and we have
python so when we're talking data
analytics we're talking python libraries
for data analytics and the big five
players are numpy pandas matplot Library
scipy which is going to be in the
background so we're not going to talk
too much about the scientific formulas
inside pi and PSY kit
so numpy supports in dimensional arrays
provides numerical Computing tools
useful for linear algebra and Fourier
transform
and you can think of this as just a grid
of numbers and you can even have a grid
inside a grid or data it's not even
numbers because you can also put words
and characters and just about anything
into that array but you can think of a
grid and then you can have a grid inside
a grid and you end up with a nice
three-dimensional array
if you want to talk three-dimensional
array you can think of images you have
your three channels of color four if you
have an alpha and then you have your X Y
coordinates for the image we're looking
at so you can go x y and then what are
the three channels to generate that
color
and numpy isn't restricted to three
dimensions you could imagine uh watching
a movie well now you have your movie
clips and they each have their X number
of frames and each of those frames have
X number of X Y coordinates for the
pictures in each frame and then you have
your three dimensions for the colors so
numpy is just a great way to work within
dimensional arrays
now closely with numpy is pandas useful
for handling missing data perform
mathematical operations provides
functions to manipulate data
pandas is becoming huge because it is
basically a data frame and if you're
working with big data and you're working
in spark or any of the other major
packages out there you realize that the
data frame is very Central to a lot of
that and you can look at it as a Excel
spreadsheet you have your columns you
have your rows or indexes and you can do
all kinds of different manipulations of
the data within including filling in
missing data which is a big thing when
you're dealing with large pools or lakes
of data where they might be collected
differently from different locations
and matplot Library
we did kick over the sci Pi which is a
lot of mathematical computations which
usually runs in the background of the
for of numpy and pandas although you do
use them they're useful for a lot of
other things in there but the matplot
library that's the final part that's
what you want to show people and this is
your plotting library in Python several
toolkits extend matplot Library
functionality there's like a hundred
different toolkits to extend matplot
Library which range from how to properly
display star constellations from
astronomy there's a very specific one
built just for that all the way to some
very generic ones we'll actually add
Seabourn in when we do the labs in a
minute several tool kits extend matplot
Library functionality and it creates
interactive visualization so there's all
kinds of cool things you can do as far
as just displaying graphs and there's
even some that you can create
interactive graphs we won't do the
interactive graphs but you'll see you'll
get a pretty good grasp of some of the
different things you can do in matplot
library okay
now let's look at the company
so we have the e-commerce giant Amazon
then we have Accenture followed by the
American healthcare service organization
Cigna
then we have the American supplier of
Health Information Technology Solutions
Services devices and Hardware Cerner
followed by Target and Antivirus company
McAfee
next we have Rapido which is an Indian
bike rental company based in Bangalore
after that we have Flipkart and the
world's largest retail company Walmart
with that let's understand the case
study from Walmart and how it uses data
analytics to grow its business and serve
its customers better
Walmart is an American multinational
retail company
that has over 11 500 stores in 27
countries worldwide and it has
e-commerce websites in 10 different
countries
it has more than 5900 retail units
operating outside the United States with
55 banners in 26 countries with more
than 7 lakh Associates serving more than
100 million customers every week
it has over 2.2 million employees around
the world and 1.5 million employees in
the United States alone
Walmart's e-commerce Branch alone
employs more than 3000 Technologies from
Silicon Valley to India England and
South America
more than 240 million customers shop at
Walmart each week online and at its
Banner stores walmart.com sees up to 100
million unique visitors a month
according to comscore and is growing
every year
format collects over 2.5 petabytes of
data from 1 million customers every hour
that's really huge
now to make sense of all this
information Walmart has created data
Cafe a state-of-the-art analytics Hub
located within its Bentonville Arkansas
headquarters
here over 200 streams of internal and
external data including 40 petabytes of
recent transactional data can be modeled
manipulated and visualized
teams from any part of the business are
invited to bring their problems to the
analytics experts and then see a
solution appear before the rise on the
nerve centers touchscreen smart ports
Walmart also constantly analyzes over
100 million keywords to know what people
near each store are saying on social
media to understand the customer
behavior on what they like and dislike
Walmart uses modern tools and
Technologies to derive business insights
and improve customer satisfaction some
of these tools include python SAS nosql
databases such as Cassandra and Hadoop
using all these Technologies and data
analysis techniques Walmart can better
manage its supply chain optimize product
assortment personalize the shopping
experience give relevant product
recommendations and finally optimize and
analyze Transportation lanes and routes
for its Fleet of trucks
what's in it for you and we're going to
go over what is numpy installing an
importing numpy numpy array numpy array
versus python list basics of numpy
finding size and shape of any array
range and arrange functions numpy string
functions and then in part two we'll
move on to cover axes array manipulation
and much more
so let's start with what is numpy numpy
is the core library for scientific and
numerical Computing in Python it
provides high performance
multi-dimensional array object and tools
for working with arrays and I'll go a
step further and say there are so many
other modules in Python built on numpy
so the fundamentals of numpy are so
important to latch onto for the python
so you can understand the other modules
and what they're doing numbers main
object is a multi-dimensional array it
is a table of elements usually numbers
all of the same type indexed by a tuple
of position integers in numpy dimensions
are called axes take a one-dimensional
array or we have remember dimensions are
also called axes you can say this is the
first axis 0 1 2 3 4 5 and you can see
down here it has a shape of six why
because there's six different elements
in it in the one dimension array and
they usually denote that a six comma
with an empty node on there and then we
have a two dimensional array we can see
zero one two three four five six seven
and in here we have two axes or two
dimensions and the shape is two four so
if you were looking at this as a matrix
or another mathematical functions you
can see there's all kinds of importance
on shape we're not going to cover shape
today but we will cover that in part two
did you know that numpy's array class is
called ND array for numpy data array now
we're going to take a detour here
because we're working in Python and two
of my favorite Tools in Python is the
Jupiter notebook and then I like to use
that sitting on top of anaconda and if
you flip over to jupiter.org that's
j-u-p-y-t-e-r dot org you can go in here
you can install it off of here if you
don't want to use the Anaconda notebook
but this is the Jupiter setup the
documentation on the Jupiter Jupiter
opens up in your web browser that's what
makes it so nice is this portable the
files are saved on your computer they do
run in IPython or iron pi on and you can
create all kinds of different
environments in there which I'll show
you in just a minute I myself like to
use Anaconda that's
www.anaconda.com if you install Anaconda
it will install the jupyter notebook
with the Anaconda separate and you can
install jupyter notebook and it'll run
completely separate from anaconda's
Jupiter notebook and you can see here
I've now opened up my anaconda Navigator
what I like about the Navigator and this
is a fresh install on a new computer
which is always nice I can launch my
Jupiter notebook from in here I can
bring other tools so the Anaconda just a
lot more and under environments I only
have the one environment and I can open
up the terminal specific to this
environment this one happens to have
Python 3 7 in it the most current
version as of this tutorial and they
open a terminal if you're going to do
your pip installs and stuff like that
for different modules you can also
create different environments in here so
maybe you need a python36 python35 you
can see we're having a nice framework
like Anaconda really helps so you don't
have to track that on your own in the
Jupiter notebook in your different
Jupiter notebook setups we'll go ahead
and launch this jupyter notebook and
then I've set my browser window for a
deep fault of chrome so it's going to
open up in Chrome and you can see here
this opens up a folder on my computer we
have a couple different options on here
remember I set the environment up as
python 3.7 you would install any
additional modules that aren't already
installed in your python on this and it
keeps them separate so you do have to
for each environment install the
separate module so they match the
environment on there and in here we have
a couple things we can look up what's
running you have your different clusters
again this is I just installed this on a
new machine so I just have the one a
couple things in here that were run on
here recently and when we go on here is
we then have on the upper right new and
from the pull down menu you'll see
python3 and this will open up a new
window
and now we're in Jupiter python so this
is a python window and we'll just do a
print
and this of course is also hello world
and we'll run that and it prints out
hello world in the command line there's
a couple special things you have to know
we're not going to do today which is on
Graphics if you've never seen this
one of the things you can do you can
also do a equals hello world and if you
just put the a in there now if you do a
bunch of these we have a equals hello
world b equals goodbye world and you put
a b a then return B it'll only run the
last one but you can see here if you put
the variable down here it will show you
what's in that variable
and that has to do with the Jupiter
notebook inline coding so that's not
basic python that's just jupyter
notebook shorthand which you'll see in a
little bit so back to our numpy numpy
array versus python list python list
being the basic list in your python why
should we use numpy array when we have
python list well first it's fast the
numpy array has been optimized over
years and years by multiple programmers
and it's usually very quick compared to
the basic python list setup it's
convenient so it has a lot of
functionality in there that's not in the
basic python list and it also uses less
memory so it's optimized both for Speed
and memory use and let's go ahead and
jump into our Jupiter notebook since
we're coding best way to learn coding is
to code just like the best way to learn
how to write is write and the best way
to learn how to cook is cook so let's do
some coding here today and just like any
modules we have to import numpy we
almost always import it as in p that is
such a standard so you'll see that very
commonly we can just run that and now we
have access to our numpy module inside
our Python and then the most common
thing of course is to go ahead and
create a number array
and in here we can send it a regular
list
and so we'll go ahead and send this a
regular array let's go one two three to
make it simple and then I'm just going
to type in a and we'll run this
as you can see down here the output is
an array of one two three and we could
also do
print just a reminder that this is an
inline command so that wouldn't work if
you're using a different editor you can
see that it's an array123 but we'll go
and leave it as a
kind of a nice feature so you can see
what you're doing really quick in the
jupyter notebook and just like all your
other standard arrays I can go a of zero
which is going to be a value of one of
course we do a of one you go all the way
through this
a of one has a value of 2 in it so
whether using the numpy array or the
basic python list that's going to be the
same that should all look pretty
familiar and be pretty straightforward
remember the first value is always zero
and when we set on there so let's take a
look why we're using numpy because we
went over the slide a little bit but
let's just take a look and see what that
actually looks like and what we want to
look at is the fact that it's fast
convenient and uses less memory so let's
take a glance at that in code and see
what that actually looks like when we're
writing it in Python and what the
differences are
and to do this I'm going to go ahead and
import a couple other modules we're
going to import the time module so we
can time it and we're going to import
the system module so that we can take a
look at how much memory it uses and
we'll go and just run those so those are
imported so we'll do b equals a range of
one yeah 1000 is fine
and so that's going to create a list of
one thousand zero to 999 remember it
starts at zero and it stops right at the
1000 without actually going to the 1000.
and let's go ahead and print
and we want system dot get size of
and we'll pick any integer because we
have you know zero to a thousand we'll
just throw one in there five it doesn't
matter because it's gonna whatever
integer we put in there is going to
generate the same value because we're
looking the size of how how much memory
it stores an integer in and then we want
to have the link of the B that's how
many integers are in there
and if we go ahead and execute this and
run this little line we'll see Oops I
did that wrong comma if we multiply them
together
we'll see it generates 28 000. so that's
the size we're looking at is 28 000. I
believe that's bytes that sounds about
right
so let's go ahead and create this in
numpy and we'll go with C equals NP and
this is a range
so that's the numpy command to do the
same thing that we were just doing in a
list
and we'll also use the same value on
there the 1000
and then once we've created the C value
of C for NP dot a range let's go ahead
and print and we can do that by doing C
dot size
times C dot item size
well that's very similar we did before
we did get the size of so the C size is
the size of the array and each item size
just reversed so it's the size of an
integer five item size is going to be
the integers and C size and let's just
take a look and see what that generates
and wow okay we got 4 000 versus 28 000.
that's a significant difference in
memory how much memory we're using with
the array and then let's go ahead and
take a look at uh speed let's do um oh
let's do size we trade this with lower
values and it would happen so fast that
the npra kept coming up with zero
because I just rounded it off so size
and let's create an L1
Bulls range of size
and we'll do an L2
I'll just set up to the same thing it's
also range
of size on there there we go
and then we can do on A1 equals
NP dot a range size
and then let's do an A2 equals NP dot a
range
we'll keep it the same size
and what we're going to do is we're
going to take these two different arrays
and we're going to perform some basic
functions on them but let's go ahead
actually just load these up now we'll go
ahead and run this so those are all set
in memory
except for the typo here
quickly fix that
there we go so these are now all loaded
in here and let's do a start equals
time dot time
so it's just going to look at my clock
time and see what time it is and it will
do result equals and let's do oh let's
say we got an array and we're going to
say
let's do some addition here X Plus y
for X comma y
in
and we'll zip it up here
two different arrays so here's our two
different arrays we're going to multiply
each of the individual things on here L1
L2
there we go so that should add up each
value so L1 plus L2 each value in each
array
then we want to go ahead and print
and let's say python list took
and then we'll do
time
dot time
we'll just subtract the start out of
there so time whoops I messed up on some
of the quotation marks on there
okay there we go
time minus the start
and we'll convert that to seconds so
we'll go because in milliseconds or
times 1000.
and let's hit the run on there this is
kind of fun because you also get a view
while we're doing this
of some ways to manipulate the script
as you can see also my bad typing there
we go okay so we'll go ahead and run
this
and we can see here that the python list
took 34
actually I have to go back and look at
the conversion on there but you can see
it takes roughly 0.34 of a second and we
can go ahead and print the result in
here too
let's do that
and we'll run that just so you can see
what the what kind of data we're looking
at
and we have the zero two four six eight
so it's just adding them together it
looks pretty straightforward on there
and if we scroll down to the bottom of
the answer again we see python list took
46 a little different time on there
depending on what um core because I have
this is on an eight core computer so it
just depends on what course running on
what else is pulling on the computer at
the time and let's go back up here and
do our start time paste that into here
and this time we're going to do a result
equals and this is really cool notice
how elegant this is so straightforward
this is a lot of reason people started
using numpy is because it can add the
two arrays together by simply going A1
Plus A2 makes a lot of sense both
looking at it and it's just very
convenient remember this slide we're
looking at fast convenient and less
memory so look how convenient that is
really easy to read real easy to see and
I don't know if we don't need to print
the result again so let's just go ahead
and print the time on here and we'll
borrow this from the top part
because I really am a lazy type
and this isn't the python list this is
the numpy list or numpy array
and let's go ahead and see how that
comes out and we get 2.99 so let's take
a look at these two numbers 46 versus
2.99 so we'll just round this up to
three that's a huge difference that's
that's like more than 10 times faster
that's like 15 times roughly at a quick
glance I'd have to go do the math to
look at it and it's going to vary a
little bit depending on what's running
in the background the computer obviously
so we've looked at this and if we go
back here we found out it's much faster
yes there's different going to be
different speeds depending on what
you're doing with the array very
convenient easy to read and it uses less
memory so that's the core of the numpy
that's why a lot of people base so many
other modules on numpy and why it's so
widely used
so we did glance at a couple operations
when we were looking at speed and size
let's dive into a little bit more into
the basic operations
when these are always nice to see I mean
certainly you want to go get a cheat
sheet if you're using it for the first
time you know look things up Google is
your friend we did this we're the most
basic numpy dot array or np.array and
we'll go ahead and create an array let's
do pairs one comma two
and then let's do a three comma four and
if we're going to do that let's do five
comma six
we go and if we go ahead and take this
and run this I can go ahead and do our a
down here so it's in line and I'll print
that out you can see it makes a nice
array for us so we have a and if you
look at that we have three different
objects each with two values in them and
hopefully you're starting to think well
how many dimensions or indexes is that
and you'll see three by two so let's go
ahead and take a look and let's go how
about a dot in Dimensions speaking of
which we'll run that and we have two
dimensions for each object
and then we can do the item size so a
DOT we saw this earlier we looked up how
many items it was up here where we
wanted to multiply item size times the
actual size of the object so the memory
is being used versus the item size and
we should see four there
memory is compressed down that's always
a good thing
and then the shape the shape is so
important when you're working with data
science and you're moving it from one
format to another
so we have our shape we just talked
about that we have three by two three
rows by two objects in each one
generally I don't look too much at the
size but the dimensions I'm always
looking up this is nice you can automate
it so you might be converting something
you might need to know how many
dimensions are going into the next
machine learning package so that you can
automatically just have it send that
information over
so we looked at a shape let's go and
create a slightly different array in P
dot array let's go ahead and just do as
our original
setup here
and one of the features we can do which
is really important is we can do D type
equals in this case let's do NP
float 64. and so what we've done is
converting all of these into a float and
we type in a
and now instead of having one two three
four five six you see they're all float
values 1.0 there's no actual zero in
there just there's a one dot or the one
period two three period four period five
period six period
and this again data science I don't know
how many times they've had to convert
something from an integer to a float so
it's going to work correctly in the
model I'm using so very common features
to be aware of and to be able to get
around and use
and we'll also do let's just curiosity
item size
we'll go and run that
and we see that it doubled in size so
it's not a huge increase well doubling
is always a big increase in computers
but it's not a huge increase compared to
what it would be if you're running this
in the python list format
and then we did the shape earlier
without having it set to the float 64.
let's go ahead and do a shape with it
set to 64. and it should be the same
three comma two so it all matches so
we've gone through and remember if you
really if this is all brand new to you
according to the Cambridge study at the
Cambridge University if you're learning
a brand new word in a foreign language
the average person has to repeat it 163
times before it's memorized
so a lot of this you build off of it so
hopefully you don't have to repeat it
163 times but we did manage to repeat it
at least twice here if not a little bit
more and let's go ahead and take this
we're going to look at one more setup on
here and let me just take this last
statement here on the converting our
properties of our data and instead of
float 64
let's do complex let's just see what
that looks like and let's go ahead and
print that out
and so we now have a complex data set up
and you'll see it's denoted by the one
dot plus 0 dot j
and if we flip over here and do a basic
search for numpy data types better to go
to the original web page but pull up a
bunch of these you can see there's a
whole list of different numpy data types
shorthand complex we have complex
complex 64 complex 128 complex number
represented by 264-bit floats real and
imaginary components
one option on there float 16 float 32
float shorthand for float 64 most
commonly used and of course all the
different ones that you can possibly put
into your numpy array so we covered a
basic addition up there we're comparing
how fast it runs but some very basic
components how to set up an empty array
how many dimensions it has item size
data type item again we went to item
size and there's also the
shape probably one of the more used I
used a shape all the time very commonly
used
and then down here you can see where we
actually created a numpy complex data
type
so let's look at some other features in
numpy one of them is you could do numpy
Dot
zeros
and we're going to do three comma four
there we go and we'll go ahead and run
this and you can see if I do NP dot
zeros I create a numpy array of zeros
this is really important I was building
my own neural network and I needed to
create an array where I initialized the
weights and I want them all to be the
same weight in this case I want them to
start off as zero for the particular
project I was working on and there's
other options that you can do p1s
and we'll do the same thing three comma
four we'll run that
and you can see I've created a an array
of numpy ones in this case it comes out
as a float array
and this is an interesting to note
because we have let's go back to our
Python and do L Range Five
and we'll print the L so there's our
list and if I run that
it doesn't create the range and tell
after the fact until you actually
execute it that's an upgrade in python
python 27 actually created the array
zero one two three four this one
actually creates the script and then
once it's used it then actually
generates the array and if we do that in
numpy a Range remember that from before
and if we do a numpy a range 5
and let's do a
l or we can just leave it as numpy
that's fine there we go just run that
you can see there we actually get an
array 0 1 2 3 4 for the value of the
numpy arrange a range five generates the
actual array
and for part one we're going to do just
one more section on basic setup
and we're going to concatenation
concatenation example
there we go we're gonna do strings let's
take a look at strings and what's going
on with there and let's do
oh let's see print
Let's do an NP character something new
here and we're going to add and then
here's our brackets for what we're going
to add
all and let's say
um let's do
hello
comma High
and in the brackets on there let's
create another one
and this one's going to be
ABC and we'll do
x y z so we're just creating some
randomly making sum up on here and then
we'll go ahead and just print this
if we run that and come down here and of
course make sure all your brackets are
open and closed correctly and then you
can see in here when we concatenate the
example in numpy it takes the two
different arrays that we set up in there
and it combines the hello with the ABC
and the high with x y z
and if we can also do something like
print oh let's do NP character dot
multiply so there's a lot of different
functions in here again you can look
these up it's probably good to look them
all up and see what they are but it's
good to also just see them in action
let's do hello space comma three
and we'll run this one
and run that without the error and
you'll see it does hello hello hello so
we multiplied it by three and we can
also let's just take this whole thing
here instead of retyping it
and we can do character Center so
instead of multiply this to Center
and over here keep our hello going
to take the space out of there and let's
do Center it 20.
and fill character
equals and we'll fill it with dashes
so if we run this
you can see it prints out the hello with
dashes on each side and we keep going
um with that we can also in addition to
doing the fill function we can play with
capitalize we can title we can do
lowercase we can do uppercase we can
split split line strip join these are
all the most common ones and let's go
ahead and just look at those and see
what those look like each one of them
so we're going to do the hello world
all-time favorite of mine I would like
to say Hello Universe and you can see
here we do Capital H with the world but
so we want to capitalize so capitalize
is the first one in the array so we get
Hello World on there and we can also
take this and instead of capitalizing
another feature in here is title and
let's just change this to how are we
doing
how are you doing instead are we able to
do you and let's run that
and you can see here because we created
it as a title that capitalizes the first
letter in each word
and in this one we're going to do
character lower
two different examples here we have an
array we have Hello World all
capitalized and we have just hello and
you can see that one is an array and one
is just a string if we run that you get
a an array with Hello World lowercase
and hello lowercase and if we're going
to do it that way we can also do it the
opposite way there's also upper
and let's paste those in there and you
can see here we have character Dot Upper
opposite there
python.data and we'll do python is easy
hopefully you're starting to get the
picture that most of the Python and the
scripting is very simple it's when you
put the bigger picture together and
starts building these puzzles and
somebody asks you hey I need the first
letter capitalized unless it's the title
and then we have you start realizing
that this can get really complicated so
numpy just makes it simple and we like
that and so in this case we did python
data it's all uppercase python is easy
like shouting in your messenger python
is easy and then if you're ever a
processing text and tokenizing it a lot
of times the first thing you do is we
just split the text and we're just going
to run this in P dot character.split are
you coming to the party if we do that it
returns an array of each of the
individual words are you coming to the
party splitting it by the spaces
and then if you're going to split it by
spaces we also need to know how to split
it by lines
and just like we have the basic split
command we also have split lines hello
and you'll see here the scoop in for our
new line
and when we run that if you're following
the split part with the words you should
see hello how are you doing the two
different lines are now split apart
and let's just review three more before
we wrap this up commonly used string
variable manipulations we have strip and
in this case we have Nina admin Anita
and we're going to strip a off of there
let's see what that looks like and then
you end up with nin dominate it
basically takes up all leading and
trailing letters in this case we're
looking for a more common would be a
space in there but it might also be
punctuation or anything like that that
you need to remove from your letters and
words and if we're going to strip and
clean data we also need to be able to
reformat it or join it together so you
see here we have a character joined
we'll go ahead and run this
and it has on the first one it splits
east of letters up by the colon and the
second one by the dash and you can see
how this is really useful if you're
processing in this case a date we have
day month year year month date very
common things to have to always switch
around and manipulate depending on what
they're going into and what you're
working with
and finally let's look at one last
character string we're going to do
replace if you're doing misinformation
this is good pulling news articles
replacing is and what in this case we're
just doing he is a good dancer and we're
going to replace is with was
and you can see here he was a good
dancer hopefully that's not because he
had a bad fall he just was from like you
know 1920s and it's gotten old
so there we go we've covered a lot of
the basics in numpy as far as creating
an array very important stuff here when
you're feeding it in how do we know the
shape of it the size of it what happens
we convert it from a regular integer
into a float value as far as how much
space it takes we saw that that doubled
it item size you have your in dimensions
and probably the most used is shape
we'll cover more on shape in part two so
make sure you join us on part two
because there's a lot of important
things on shaping in there and just
setting them up we also saw that you can
create a zeros based array you can
create one with ones if we do a range
you can see how it is a lot easier to
use to create its own range or a range
as it is in numpy you saw how easy it
was to add two arrays we saw that
earlier just plus sign then we got into
doing strings and working with strings
and how to concatenate so if you have
two different arrays of strings you can
bring them together we also saw how you
can fill so you can add a nice headline
dash dash dash we saw about capitalize
the first letter we saw about turning it
into a title so all the first letters
are capitalized doing lowercase on all
the letters upper for all the letters
just lower and upper nice abbreviation
we also covered how to split the
character set how to strip it so if you
want to strip all the A's out from
leading A's and ending A's or spaces you
can do that very easily also how to join
the data sets so here's a character join
option for your strings and finally we
did the character replace now let's go
ahead and dive in there since we're
going right into part two which is
getting some coding going under our belt
and here in our Jupiter notebook we can
go under new and create a new folder
python3 I think I forgot to do this last
time but we could just do the control
plus plus which in any browser enlarges
a page makes it a lot easier to see
always a nice feature another beautiful
benefit of using jupyter notebook and
let me go ahead and show you a neat
thing we can do in Jupiter this is nice
if you're working with people and you're
doing this as a demo on a large screen
I'm going to do the hashtag or pound
symbol array manipulation kind of a
title that we're working on and then I'm
going to call this cell cell type
markdown as opposed to code and you'll
see it highlights it here and then if I
run it it just turns it into array
manipulation and then we're specifically
going to be working on array
manipulation changing shape to start
with and we'll go ahead and Mark this
cell also a markdown so has a nice
little look there and then it comes up
and you can see it just like I said it
just highlights it it makes it very bold
print just making it easier to read not
a python thing but a Jupiter thing
that's good to know about especially if
you're working with the shareholders
since they're investing money in you of
course the first thing you want to do is
import we're going to import numpy
as in p and that should be standard by
now by now you you start a Python
program you're doing some data science
numpy is just something you bring in
there and let's go ahead and create our
array and we're going to do that as the
NP dot a range remember that's uh zero
well we're going to do 0 to 9.
and we'll print
a little title on the original array
we'll just print that array a remember
from the first lesson so we have our
array which is 0 1 2 3 4 5 6 7 8 and
let's add a print space in between
let's create a second array B but we
want this to reshape array a and what
does that mean
and the command is simply reshape and
then we have nine items in here and this
is so important right now so be very
aware if I did some weird numbers in
here it's not going to work
and we want multiples of nine we know
that three times three is nine so we're
going to reshape our a array by 3 by 3
and then we're going to print let's give
it a title oops out it can be brackets
in there modified array and then let's
go ahead and print
RB and let's see what that looks like
and as we come down here you can see
we've taken this and it's gone from 0 1
2 3 4 5 6 7 8 to an array of arrays and
we have 0 1 2 3 4 5 6 7 8. and so we
split this into three by three and you
can guess that if I tried to reshape
this let's just do a five by three which
is 15. that's going to give me an error
so it's not going to work you're not
going to reshape something unless the
shape all the the data in there matches
correctly
so we can take this nine this flat nine
and we call it a flex it's just a single
array and we can reshape it into a three
by three array and first you might think
matrixes which this is used for that
definitely I use it a lot in graphing
because they'll come in that I have an
array that's X Y comma X Y one white one
comma X2 Y2 and so the shape of it might
be two by the length of the number of
points and I need to separate that into
uh X flat array and a y flat array and
you can see this can be very easy to
reshape the array doing that and we can
of course go back we can do B
print and we'll do B dot Latin remember
I said it's called a flatten array and
if we run that you'll see this goes back
to the original one it takes this zero
one two three four five six seven eight
and flattens it back to a single array
and then one other feature to be aware
of is if we flatten it one of the
commands we can put in there is order
let me just go ahead and do that order
equals
F strangely enough F stands for Fortran
they hold fourtran days I remember
actually studying Fortran programming
language
in this case you'll see that it uses the
first like zero three six is the order
so instead of flattening it like we had
before zero one two three four five six
seven eight it now does zero three six
one four seven two five eight and if you
go to the numpy array page you can see
here that they have the flatten and you
just open up the numpy and D array
flatten setup to look it up and they
have three different options they have c
f and a and it's whether to flatten in C
which was based on how the C code works
for flattening originally worked which
is row major Fortran which is column
major or preserve the column Fortran
ordering from a so whatever it was in
the default is the C version so the
default that you saw you could put
orders equals c and it'd have the same
effect as we saw there before you could
even do order equals a that would also
have the same effect because that's the
default so really the only other thing
you'll usually change on here is to
change it to see if you need it and you
can see right here or F I may not see
the only thing you really want to change
it to is to your f for the Fortran order
which then does it by column versus by
row and let's look at here we go reshape
so let's create a range of 12
and let's reshape it
I will do 4 comma 3 for this one and
remember this is numpy I forgot the NP
there
NP dot arrange
and we can type in just a for print or
you can do full print a and of course a
jupyter notebook you even have a little
extra print at the beginning if we run
this we'll see we create a nice array of
0 1 2 it's reshaped it so we have four
rows and three columns or you could call
that three columns and four rows zero
one two three four five six seven eight
nine ten eleven
but this one is so important we'll do NP
transpose
a let's go ahead and run that
and it helps if I get all the s's in
there and don't leave an S out and
you'll see here we've taken our array if
you remember correctly we had 0 1 2 3 4
5 6 7 8 9 10 11 and we've swapped it so
we've gone from a three by four or a
four by three to a three by four
and this really helps if you're looking
at like a huge number of rows and the
data all comes in like let's say this is
your features in row one your features
in row two and this is x y z well when
you go to plot it you send it all of X
in one array all of one another one
array and all Z in another array
so it's really important that we can
transpose this rather quickly
this is kind of a fun thing I can
highlight it and do brackets around it
if you remember correctly
because we're in Jupiter it doesn't
matter where we do the print or not
it'll automatically print it for us and
you see if I hit the Run button it comes
up at the same exact thing
and let's play with the reshape and you
don't want to zoom this up a little bit
here
make that even bigger so you can really
see what's going on now let's play with
the reshape just a little bit more we'll
do b equals
NP dot a range let's do eight
reshape
we'll do two comma four
let's go ahead and print B
and then run that
and you'll see we have now the two rows
this is a bit more like so we have four
maybe two rows of four things so this
might be all of our X components and our
y components so we can switch it back
and forth real easy important to know
here whether we do two comma four or in
the case of four comma three this has 12
elements and so however you split it up
it's got to equal 12. so 4 times 3
equals 12 that's pretty straightforward
same thing down here 2 times 4 equals
eight if I change this and let's say I
do two comma three let's just run that
in and you'll find we get an error
because you can't split 8 up into two
rows by three
we have to pick something that it can
split up and arrange it in so let's go
ahead and run that and just for fun
let's go um
reshape our B again if I can type
reshape our B again and what else goes
into eight well we could do two by two
by two
so we can take this out to three
different dimensions
and then if of course if we um because
this is going to come out you as a
variable we can just go ahead and run it
and it'll print it we can also do a
print statement on there just like we
did before and you'll see we have two
different groups of two variables of two
different dimensions so two by two by
two and let's go ahead and sign this to
a variable C equals B reshape and let's
do something a little different let's
roll the axes roll
axes
and we'll take our C do two comma one
and if we go ahead and run this it's
going to print that out whoops
hit a wrong button there let's do that
one again and you roll the axis and you
can see that we now have a set of zero
one two three four five six seven we now
have the zero two one three four six
five seven
so what's going on here we're taking and
we're rolling the numbers around and
let's just simplify this we'll just do
it with C comma 1 and run that and so if
we roll a single axis you get 0 1
and then it rolled the four five up and
then we have two three six seven and if
we do two let me see what happens there
and this is one of those things you
really have to play with and start
feeling what it's doing
we've now taken 0 2 4 6 1 3 5 7. so you
can see we've now rolled by two digits
instead of rolling the one set up we now
rolled two digits up there and so if we
go back and we do the one
so we've rolled it up zero one four five
and then we're going to take the two in
there and we've rolled the 0 1 2 3 4 5
and 6 7. so we start rolling these
things around on here there's a lot of
different things you can do on this
what's another way to manipulate the
numbers on your uh numpy and finally
let's go ahead and swap
axes we'll do c and let's just go ahead
and run that it's going to give me an
error on there
that's because it requires multiple
arguments left out the arguments so now
we can swap them we get the zero two one
three four six five seven so you can see
everything's been swapped around
so next thing we want to go over is we
want to go over numpy arithmetic
operations
how can we take these and use these let
me just go ahead and put this cell as a
markdown there we go we'll run that so
it has a nice thing all right nice title
on there that's always helpful
and let's start by creating two arrays
we'll do uh a is an EP NP
range a range nine and let's reshape
this
three by three so by now you should be
saying this reshape stuff and this
should all look pretty familiar we have
our zero one two three four five six
seven eight on there and let's create a
second one B okay this time instead of
doing a range let's do NP array we'll
just create a straight up array
and we'll do an array of three objects
so it's going to be three by one and if
we go ahead and print B out let me run
that this is actually pretty common to
have something like this where you have
a three by whatever it is in a three by
by three array when you're doing your
math you kind of have that kind of setup
on there
and what we can do is we can go
P dot add
a b don't forget we can always put a
print statement on there so if we add it
you'll see that it just comes in there
and it goes okay we're adding 10 to
everything and we could actually do
something more oh make it more
interesting 11 10 11 12. so it's change
B's now 10 11 12 and let's run that
and you can see that we have 10 and then
you had 1 plus 11 is 12. 2 plus 12 is 14
13 so 10 plus 3 is 13 11 plus 4 is 15
and 12 plus 5 is 17 and so on we'll put
this back since that's how the original
setup was let's do 10 by 10 by 10 and
run that and run that and get the
original answer and if you're going to
add them together we need to go ahead
and subtract
a b
and we run that
we get minus 10 minus 9 minus 8 just
like you would expect so we have our
subtraction 0 minus 10 is minus 10 and
so on and if you're going to add and
subtract you can guess what the next one
is we're going to multiply
and we'll multiply
a b
and this should be pretty
straightforward you should expect this
if we multiply 10 times 0 we got 0 10
times 10 is 10 and so on
and finally if you're going to multiply
what's
a layout is divided
by what happens when we do divide a by B
and we run this
we're going to get 0 and this is 0
divided by 10 is 0 1 divided by 10 is
0.1 2 divided by 10 is 0.2 and so on and
so on so the math is pretty
straightforward it just makes it very
easy to do the whole setup and again if
we went this and let's say let's change
this up up here instead of 10 we do a
hundred
and make this a thousand there we go if
we run that and then we do the add you
can see we got 10 plus 100 plus a
thousand same thing with the subtract
same thing with the multiply
and then you can also see the same thing
here with the Divide so a lot of control
there with your array and your math
again let's set this back to 10 oops
it's right up here wrong section
there we go 10 and we'll just go ahead
and run these and get back to where we
were
and this brings us to our next section
which is slicing and let's put in our
just make this a
of course it gives us a nice looking
slicing there and the slicing means
we're just going to take sections of the
array so let's create an array in p a
range
let's just do 20.
and if you remember if we do a we have a
0 to 19.
and then we can do a and remember we can
always print these this can always be
put in a print but because I'm in
Jupiter if you're doing a demo in
Jupiter that is it's just so great that
you have all these controls on here so
we can slice four on and this should
look familiar because this is the same
as a python and a lot of other different
scripting languages if we do four go
zero one two three it's the first four
in the thing and the skip summon starts
with this one the first four are skipped
then from there on you can also do the
opposite
and go till the fourth one if we run
that we get 0 1 2 3 quite the opposite
on there we can do a single item so we
can pick object number five on the list
run that and five happens to be five
because that's the order they're in and
then this one's interesting because I
can do s equals slice
and let's create a slice here and let's
do two comma 9 comma
yeah let's leave a 2 on there so we'll
create an S Slice on here and then if we
take our array and we do array of s
we're taking our slice in there and
let's go ahead and run that and let's
take a look and see what it generated
here first off we started with two so we
have two at the beginning we're going to
end at 9 which happens to be eight so it
stops before the 9. remember when we're
doing arrays in Python and then we step
two so two four six eight we could do
this as three let me run that and you
can see how that changes two five eight
and we could do this as let's leave this
at three and if we change this to 10
oops
12. there we go
and we run that we have 2 5 8 11. so
that's pretty straightforward it's a
very nice feature to have on here where
you can slice it and take different
parts of the series right out of the
middle so now that we've accessed the
different pieces of our array let's get
into iterating iteration and this is
interesting because my sister who runs a
college data science division
first question she asks is how do you go
through data and she's asking can you do
you know how to iterate through data do
you know how to do a basic for Loop do
you know how to go through each piece of
the data and in numpy they have some
cool controls for that this is a
markdown here we go and run it
it's called the nditter
sure what the ND stands for but ND it or
for iterator
so before we do that though let's create
an array or something we can actually
iterate through we'll call it a equals
NP a range let's do something a little
funny here or funky
and we'll do 0 45 5. I'm not sure why
the guys in the back pick this
particular one was kind of a fun one and
if I run that we do this you can see um
we get 0 5 10 15 20 25 30 35 40. that's
what this array looks like
and this is from our slice you could
this is just a slice that's all that is
is we created a slice of 0 45 0 to 45
step five and so we can do with that so
if we run that oops missed something
there that is the a that really helps so
if we do the a reshape and we'll go
ahead and print that out we get 0 5 10
15 20 25 30 35 40. and then we simply do
four x in
our numpy ND enter of a
colon and we'll just go ahead and print
X and let's see what happens here when
we run through this and we print each
one of those
it goes all the way through the whole
array so it's the same thing we just saw
before we got 0 5 10 15 20 25 30 35 40.
so it prints out each object in the
array so you can go through and view
each one of these
and certainly if you remember you could
also flatten the array and just do for a
in that also and get the same result
there's a lot of ways to do this but
this is the proper way with the ND
iterator because it'll minimize the
amount of resources needed to go through
each of the different objects in the
numpy array
and hopefully you asked this question
when I just did that
and the question is how can I change
this instead of doing each object so
first of all let's go ahead and take my
cell type and Mark that down run it and
so we're going to work on iteration
order C style and F style remember C
because it came from the C programming
and F because it came from the old
Fortran programming so let's give us a
reminder I will do a print a and we'll
do four x n n p iterate a but we also
want to do this in a specific order and
you know what I'm a really lazy typer so
let's go back up here
this is the ND iterator I mean missing
the ND part of a and let's do order
equals
C we'll print X on there and let's do
that again and this time order
equals
[Music]
f
iring an order equals F and let's go
ahead and run this
and see what happens here and the first
thing you're going to notice our
original array 0 5 10 15 20 25 30 35 40.
when we do order C that's the default 0
5 10 15 20 and so on and then when you
come down here
you'll see F order f is 0 15 30. so it
takes the first digit of each of the sub
arrays or the second dimension and then
it goes into the second one 520 35 10 25
40. so slightly different order for
iterating through it if you need to do
that so we've covered reshaping we
covered math we've covered iteration
we've covered a number of things the
next section we want to go ahead and go
over
I was going to be joining arrays so we
need to bring them together let me go
ahead and take the cell and make it a
markdown
self-type markdown there we go and run
that so let's work on joining arrays so
we can bring them together and with
different options we have
and let's do we'll do an NP array one
two comma three four
we'll go ahead and print let's do oops
first
these Rays aren't that big so let's just
go ahead and keep it all on one line a
so if we run this first array one two
three four whoops I forgot that it
automatically wraps it when you do it
this way so we'll go ahead and keep it
separate
print a a there we go and let's go ahead
and do a b
and we'll do five six seven eight and
notice I'm keeping the same shape on
these two arrays depending on what
you're doing those shapes have to match
and let's go ahead and print
second array
print
B I want to run that of
missed something up there let me fix
that real quick
and I was reformatting it to go in
separate lines I messed that up there we
go run all right so we have first array
one two three four secondary five six
seven eight and we'll put a carried
return on there
and the keyword we use is um concatenate
and if you're familiar with Linux it
usually means you're adding it to the
end on there and we're going to do what
they call a long axis zero so we have
concatenate a b along axis zero let's go
ahead and run that and see what that
looks like
so we have one two three four five six
seven eight so now we have an array that
is four by two has a nice shape of four
by two one here
and if we're going to do it along the
axis 0
you should guess what the next one is
we're going to do it along the one axes
and let's see how those differ from each
other let's just go ahead and run that
and again all we're doing is adding in
the axes equals one so we have our
concatenate we have a b and then axis
one remember a couple things one these
are the same shape so we have a two by
two same dimensions going in there
you're going to get an error if you're
concatenating and they're not if you
have something that instead of one two
is one two three four five six with a
five six seven eight they'll give you an
error on there in fact let's take a look
and see what happens when we do that let
me just take this
one two three three four five and let's
run that and if we come down here up we
got there it says all the input rate
Dimensions except for the concatenation
axes M must match exactly so it'll let
you know if you mess up that's always a
good thing let's go ahead and take this
back here and let's go ahead and run
that
and so we have our zero axes which is
one two three four five six seven eight
let me bring them together and you'll
see a very different setup here we do it
along the axis one we end up with
instead of four by two we end up with a
two by four one two five six three four
seven eight and this is changing which
axes we're going to go ahead and
concatenate on what I find is when
you're talking about the concatenate or
the joining arrays you really got to
play with these for a while to make sure
you understand what you mean by the axes
it looks very intuitive when you're
looking at it actually zero one two
three four five six seven eight axes one
is then splitting in a different way one
two five six three four seven eight
when you're actually using real data you
start to really get a feel for what this
means and what this does
so if we're going to do that let's go
ahead and look at splitting the array
and do that in a markdown and run it
there we go so you have a nice little
title there
and we'll go ahead and create an array
of nine let's do NP split
we'll do a and we're going to split it
by three
let's just see what that looks like so
if we split it we get an array 0 1 2 3 4
5 we get three separate arrays on here
now remember we're looking at I'm just
print a up here
so we're looking at zero one two three
four five six seven eight and then we
can split it into three separate arrays
and let's take this we're going to do
this again right down here let's move
the a split down here instead of the
three let's do four comma five put that
in Brackets
and so we do it this way we have 0 1 2 3
4 5 6 7 8. and that's kind of
interesting I wasn't sure what to expect
on that but we get when you split an a
by four comma five you get a totally
different setup on here as far as the
way it split the array
and to understand how this works I'm
going to change the five to a 7. and
this will visually make this a little
bit more clear
so we had four and five I went zero one
two three four five six seven eight and
you see the markers four and five when
we do four and seven I get zero one two
three four five six seven eight and so
what you're looking at here is the first
markers this is going to go to four
so there's our first split at the four
the marker of four and then the second
split is going to be at position seven
and this is the same thing here a four
position five that's why we're splitting
it in those two sections we could also
do it seven let's just see what that
looks like run and you can see I now
have zero one two three four five six
seven eight
so we can split in all kinds of
different ways and create a different
set of multiple arrays on here and split
it all kinds of different ways
and before we get into the graphs and
other
miscellaneous stuff
let's go ahead and look at resizing the
array I'm going to take the cell
it sells a markdown and run it
give us a nice title there and we'll do
an array an imperial of uh one two three
and four five six here I'm just going to
just print
let's go print a DOT shape then we'll go
ahead and run that whoops hit a wrong
button there
hit the comma instead of the dot so we
have a shape of two comma 3 here and
this is important to note because when
we start resizing it it's going to mess
with different aspects of the shape
and so we'll go ahead and do a print
scoop in for a blank line there we go
let's do b equals
NP dot resize
we're going to resize a
and let's resize it with three by two
and then we'll just go ahead and
print
B
and print the period shape not a comma
we'll run that
oops forgot the quotation marks around
the end we'll go ahead and run that and
let's just see what that looks like so
we have one two three four five six
original array with a shape of two three
and then we want to go ahead and resize
it by three two and we end up with one
two three four five six and we end up
with the shape of three two that
shouldn't be too much of a surprise you
know we got six elements in there we can
resize it by two three was the original
one and then we're actually just
reshaping is how that kind of comes out
as when you resize it like that
but what happens if we do something a
little different
and let's go ahead and just take this
whole thing and copy it down here so we
can see what that looks like
and instead of doing three two remember
last time I did the um to reshape it I
messed with the numbers and it gave me
an error but when you resize it you
don't have to match the numbers they
don't have to be the same dimensions so
we can instead of going from a 2 3 to a
3 2 we can resize it to a 3 3. so let's
take a look and see how it handles that
and we come down here to 3 3 we end up
with one two three four five six and it
repeats one two three so it actually
takes the data and just adds a whole
other Block in there based on the
original data repeating it
all right now at this point you know
we've been looking at tons of numbers
and moving stuff around we want to go
ahead and do is get a little visual here
because it um
certainly you can picture all the
different numbers on there but let's
look at histogram let's put this into a
histogram let me go ahead and run that
and to do that we're going to use the
matte plot Library so from matplot
library we're going to import pipelot as
PLT that's usually the notation you see
for pi plot so if you ever see PLT in a
code it's probably Pi plot in the
matplot library
and then the guys in the back did a nice
job and gals too guys and gals back
there our team over at simply learn put
together a nice array for me 2087 4 40
53 with a bunch of numbers that way we
had something to play with and what we
want to do is we want to do plot the
histogram now remember a histogram says
how many times different numbers come in
and then we're going to put them in bins
and we have been 0 to 20 to 40 to 60 to
80 to 100.
you might in here with the matplot
library they call them bins you might
heard the term buckets or they put them
in buckets as a really common term then
we want to give it a title so the way it
works is you do your plt.hist for
histogram your PLT title and your PLT
show and we're doing just a single array
in here in the numpy array of a and
let's go ahead and run this piece of
code
take it a moment to come out there's his
finger size so it's generating the graph
and you can see we have and let's just
take a look at this let me go down a
size there we go okay so now we can see
we're taking a look at here so between 0
and 20 we have three values so we have a
20 here we have a four and a 11 and a 15
0 1 2 3 it's actually Four values but
they start at zeros remember we always
count from zero up
and from 20 to 40 we got 20 this is 142.
3 4
5 6.
and so you can see in the histogram it
shows that the most common numbers
coming up is going to be between the 40
and 60 range least common between the 80
and 100 this looks like an age
demographics is what this looks like to
me and you can see where they would have
put it in the buckets of different age
groups which would be a nice way of
looking at this histograms are so
important and so powerful when you're
doing demos and explaining your data so
being able to quickly put a histogram up
that shows what's common and how it's
trending is really important and using
that with a numpy is really easy and you
know what let's take the same data and I
want to show you why we do bins or why
we have buckets of data I'm used to
calling it buckets why we have bins
let's do it instead of by 20 let's do it
by tens and see what happens
and what happens when you do it by tens
is you miss out on the you can see a
nice curve here on the first one and on
the second one it looks like a ladder
going up and a plummet a letter going up
and a plummet and a ladder going down
so the first would be more indicative of
an age group and the second one would be
what you would get if you divide it
incorrectly you wouldn't see the natural
trend
I don't know what this would be maybe
how much food they eat hopefully not
because I'm in 50 so I'm right in the
middle there that which means I eat a
ton of food compared to everybody else
but it's some kind of democrat maybe
it's mental maybe it's knowledge because
we we hit a certain point and we start
losing our marbles start leaking out or
something so you start off knowing
something and then as you get older you
grow more but you see here we lose that
you lose that continuity in the thing if
you split the histogram into too many
bins or too many buckets
and if you actually plotted this by the
individual numbers it would just be a
bunch of dots on the on the one made a
whole lot
and reflected graphs there are turns out
there are a ton of useful functions in
numpy
I'm sure there's even new ones that are
aren't going to be in here but let's
just cover some important ones you
really need to know about if you're
using the numpy framework
one of them is Lane space function this
is generating data so you have a line
space we have one three ten and when we
do that we end up with 10 numbers so if
you count them there's 10 numbers
they're between 1 and 3 and they're
evenly spaced we get 1 1.222 but these
are all there's a total of 10 here and
it's right between the one and three
range
that could be there's a lot of uses for
that but they're probably more obscure
than a lot of the other common numpy
arrays set up
but a real common one is to do summation
so we'll do summation where you do in
this case we create a numpy array of one
of
two different arrays One Two Three or
two different dimensions one two three
three four five and we're going to sum
them up under axes zero which is your
columns and if you remember correctly
columns is the one plus three two plus
four three plus five so we have three
columns and if we change this we'll just
flip this to one
we get two numbers so we get one two
three all added together which equals
six and three plus four plus five which
equals twelve we'll set this back to
zero
there we go since it said it was just
looking at zero
and these probably could have been some
of these could be used to start math
section square root and standard
deviation two very important tools we
use throughout the machine learning
process and data science and simply we
take the NP array we have again the one
two three four five six three four five
I don't know I need to keep recreating
it I probably could have just kept it
but we can take the square root of a so
it goes through and it takes a square
root of all the different terms in a and
we can also take the standard deviation
how much they deviate in value on there
and there's a ravel function we can run
that
and NP array is X we're going to do x
equals a we changed it from a to x x
equals Ravel and this sets it up as
columns so we have one two three four
five this is all columns on here very
similar to the flattened function
so they kind of look almost identical
but we also have the option of doing a
ravel by column and then another one is
log so you can do mathematical log on
your array in this case we have one two
three and we'll find the log base 10 for
each of those three numbers
there's a couple of them they don't you
can't just do any number here after log
but there is also log base 2. log base
10 is pretty commonly used on here I'm
going to run that there we go
before we go let's have a little fun
let's do a little practice session here
on some more challenging questions so
you start to think how this stuff fits
together right now we just looked at all
the basics and all the basic tools you
have so let's do some numpy practice
examples and let's start by figuring out
how do you plot say a sine wave in numpy
what would that look like and so in this
project we wouldn't have to do this
because I've already run these but we'd
want to go ahead and import our numpy as
NP and import our matplot library
pipelot as PLT so we get our tools going
here and then we'll break it into two
sections because we need our x Y
coordinates in here so first off let's
create our x coordinates and our x
coordinates we're going to set to an a
range
and we want this error a range since
we're doing sine and cosine it's going
to be between 0 and 0.1
and then we use our NP and we actually
can look up numpy stores Pi so you have
the option of just pulling Pi in there
directly from numpy it has a few other
variables that it stores in there that
you can pull from there but we have
numpy pi and we generate a nice range
here and let's go ahead and run this and
just out of curiosity let's see what x
looks like I always like to do that so
we have
0.1.2.3.4 so we're going 0 to in this
case 9.4 3 times numpy pi remember that
Pi is like three point something
something something that makes sense it
should be about nine and we're doing
intervals of 0.1 so we create a nice
range of data and then we need to create
our y variable and so Y is going to
Simply equal NP or numpy dot sine of X
and then once we have our X and Y and if
we print let's go and just print y see
all that we'll do this let's do this so
it looks print
X print y
so we basically have two arrays of data
so we have like our X axes and our y
axes going on there
and this is simply a
plt.plot because we're going to plot the
points and we'll do X comma Y and then
we want to actually see the graph so
we'll do plot dot show and we'll go
ahead and run that and you see we get a
nice sine wave and here's our number 0
through 9 and here's our sine value
which oscillates between -1 and 1 like
we'd expect it to
then for the next challenge let's create
a six by six two dimensional array and
let one and zero be placed alternatively
across the diagonals oh that's a little
confusing so let's think about that
we're going to create a six by six two
dimensional so the shape is six by six
two dimensional array and let one and
zero be placed alternatively across the
diagonals
now if you remember from lesson one we
can fill a whole numpy array with zeros
or ones or whatever so we're going to do
NP create a numpy zeros and we're going
to do a six by six and we'll go ahead
and make sure it knows it's an integer
even though it's usually the default and
just real quick let's take a look and
see what that looks like so if I run
this you can see I get six by six grid
so six by six zero zero zero zero zero
now if I understand this correctly when
they say ones and zero placed
alternatively across the diagonals they
want the center diagonal maybe that's
going to stay zero all the way down
and then the next diagonal would be ones
all the way across diagonally and then
the next one zeros the next one ones and
the next one zeros and so on hopefully
you can see my mouse lit up there and
highlighting it so let's take a little
piece of code here
and we'll do Z One colon colon two comma
colon colon 2 equals one and well that's
a mouthful right there so let's go ahead
and run this and see what that's doing
and so what we're doing is we're saying
hey let's look at in this case Row one
there's one and then we're going to go
every other row two so we're going to
skip a row so skip here skip here skip
here so we're going down
this way and we're going every other row
going this way it's hard to highlight
columns so you can see right here where
the that we're not touching each row is
like this row right here is not being
touched okay so we're going to start
with Row one and then we're going to
skip a row and another one and so we're
going every two rows and then in every
two rows we're looking at every two
starting with the beginning that's what
this thing blank means so we're going to
start with the beginning and we're going
to look at all of them but we're going
to skip every two so starting with Row
one
we look at all the rows but we do we do
it by two steps so we go one Skip One
you know one Skip One One skip one one
if you left this added do every one this
is just be ones in fact let's see what
this looks like if I go like this
and run it you can see that I guess get
ones
so
this notation allows us to go down
each row row by row and we're going to
do every other row set up on there and
so if we're going to start with Row one
we also
control Z
try that there we go we'll start with
row zero again we're going to go each
row step two so we'll start with row
zero and we'll go every other row and
this time we'll start with one column
one and again we go every other one
going down
step that's what that step two is
skipping every other one we're going to
set that equal to one so let's see what
that looks like and you can see here we
get our answer we get 0 1 0 0 but it has
the ones going in diagonals on every
other diagonal and zero on every other
one
a little bit of a brain teaser that one
trying to get that one to work out so
you can see how you can arrange your
rows and here's your step in your
different axis on there
and then the next one is find the total
number and locations of missing values
in the array the first challenge is to
create some missing numbers so let's
create our array Z we're going to do a
numpy DOT random dot Rand 10 comma 10.
and before we do the second part let me
just take the second part out
and let's just see what that looks like
so let's run that and there we go so we
have a 10 by 10 random array it randomly
is picking out numbers
and next we want to go ahead and take
our random integer size equals 5. and
then we're going to do a random random
10 size equals 5. so in the Z we're
going to select a number of random
spaces here and set them equal to null
value
now let's go ahead and run that so you
can see what that looks like and if we
look at the array
we've created one two
three four this should be a fifth one in
here my eyes may be failing me so we've
created a series of oh because zero zero
to five zero one two three four so we
got five there are different null values
on here and
this is kind of a neat notation to
notice that we can generate
random integers size equals five so this
generates five by five miniature grid
inside of this to tell it where to put
the nands at so that's kind of a cool
little thing you can do
and we want to look up and see how many
null values are in there
and this is simply just NP is net of Z
simple so if it is nand then we want to
sum it up so we're going to sum up all
of the different null values on there
now let's do one one more feature in
here which is really cool
let's go ahead and print the indexes so
NP arguire NP is
Nan of Z so we're going to create our
own another NP array and let's run this
and we'll see here that comes up with
the four indexes so we did Count four of
them up there
it tells you where they are one nine two
zero four six five four
and then let's go ahead and run this
again run run there we go this time I
got five let's get for random numbers
another fun one that I always like to do
it's very similar because we have NP is
nand z dot sum so we're summing the
number of nands and we can get the
indexes and you can reshape the indexes
but you can also just do we'll do an
inds where NP is Nan of Z
and let's just print let's print that
print inds let's see what that looks
like
and it's very similar we have we have
zero one three zero six three eight six
nine three if I have split it into two
different arrays
so we have our X and our y kind of
coordinates going there and what I can
now do is I can now do Z
inds
equals and at this point you can also
instead of getting the sum you can get
the means or the well the numbers and
that kind of thing you have or the
average as it is so be one thing you
could do and you could pick up the
average that's very common in data
science to get the average and just use
that for a value
but we'll go ahead and just set it to
zero and then let's go ahead and print
our Z and run that and you can see we
come down here we have wherever there
was a null value it is now zero and you
could set this whatever you want this is
another way to replace data or help
clean data depending on what it is
you're doing
so wow we covered a lot of stuff so
quick rehash going over everything we
went into there we looked at array
manipulation changing the shape
how to switch that around we even had
the flatten down there which remember we
have another command lower that's
similar we could change the order by F
remember F stands for Fortran very
strange connotation but there's C and F
C is the standard and F switches it to a
different order
to be honest I usually have to look it
up because I almost never use f but when
you need it you're like oh my gosh it
was the other order just do a quick
Google so we talked about reshape making
sure that the dimensions are the same
you don't want to have like something
that has 12 objects in it and reshape it
to C 11 and 5 because it doesn't work it
doesn't divide into 12. we can transpose
so we can switch them so we can go from
a four by three to a three by four Oops
I did that the other way around
three by four to four by three
we covered reshaping the array we did
the roll the axes you can do some weird
things with swapping and rolling axes
and transposing the numbers
we dug a little bit into the arithmetic
so we talked about adding we talked
about subtracting multiplying dividing
and you know at this point it's so
important we just look up the numpy
mathematics and you can see here they
have just about everything your
trigonometry
uh your hyperbolic functions rounding
sums products differences there are so
many all you different miscellaneous
mathematical connotations so you know
Google it go to the main numpy page and
look at the different setups you can do
on there so we covered that and we did
slicing I just break it apart we did
iterating over the array we covered
joining arrays and how to concatenate
remember concatenate just means add-on
to it so in this case how are you adding
B onto a is how you'd read that from
Linux you should catch the concatenate
because that's used regularly there
splitting the array we talked about how
to split the array in different ways so
you can split it in Array of arrays all
kinds of different ways to split the
array up how to resize it and remember
resize does not have to have the same
shape but if you resize it it will take
the data and begin at the beginning and
add new rows on if the size is bigger if
it's smaller it truncates it it just
cuts the end off
we looked at how to do a histogram and
how to plot that
we mentioned buying buckets or bins as
they call them in pi plot and then we
covered a lot of other useful functions
in numpy talked about the line space
setup for doing
um numbers in a series
how to sum the axes up again that's part
of the mathematical formulas there that
we looked at there's a sum there's also
means and median
all of those you can compute in numpy
and you can also do the square root and
standard deviation
the Ravel function very similar to the
flat
to be honest I almost always just use
the flat but you know the Revel has its
own kind of functionality that it does
and then we went into some numpy
practice examples we challenge you to
create a sine wave in numpy and how to
do that we're kind of looking for that a
range remember how we do the a range and
you can
have your beginning value your n value
which they did is three times Pi numpy
Pi and we're going to do intervals of
0.1 and then y just equals the numpy
sine of x there's our math from the math
page we were just looking at remember
that it's right at the top
and finally we went down here we had
this kind of a little brain teaser how
to do diagonal zeros and Ones playing
with the different connotations of Z of
the numpy array
and then we did a random size and we
played a little bit with how to with the
null values playing with null values
if you're doing any data science you
know null values are like a headache
what do you do with them big sets of
data you get rid of them small sets of
data you have to factor something in
there like figure out the average or the
median there and then replace it with
that
pandas really is a core python module
you need for doing data science and data
processing there's so many other modules
that come off of it there it actually
sits kind of on numpy so if you've
already had our numpy array hopefully
you've already gone through the numpy
tutorial one and two So today we're
going to cover what is pandas we'll
discuss series we'll discuss basic
operations on series and then we'll get
into a data frame itself basic
operations on the data frame file
related operations on a data frame
visualization and then some practice
examples roll up our sleeves and get
some coding underneath there and let's
start with just some real general what
is pandas pandas is a tool for data
processing which helps in data analysis
and provides functions and methods to
officially manipulate large data sets
now this is a step down from say using
spark or Hadoop in Big Data so we're not
talking about Big Data here but we are
talking about pandas when there is some
connections there's like an interface
going on with that so there is
availability but you really should know
your pandas because if you're working in
Big Data you'll know there's data frames
well pandas is a data frame primarily it
has a couple different pieces we'll look
at here and if you've never worked with
data frames before a data frame is
basically like an Excel spreadsheet you
have rows and columns you can access
your data either by the row or the
column and then you have an index in
different that kind of setup and we'll
dig more into that as we get deeper into
pandas but think of it as like a giant
Excel spreadsheet that's optimized to
run a larger data on your computer and
then I said it that it's a data frame so
the data structures in pandas are series
one-dimensional arrays and then we have
data frame two-dimensional array and it
really centers around the data frame the
series just happens to be part of that
data frame and here's a closer look at a
pandas series series is a
one-dimensional array with labels it can
contain any data type including integer
strings floats python objects and more
so it's very diverse if you remember
from numpy we studied they had to be all
uniform not in pandas and pandas we can
do a lot more and Penn is actually kind
of sits on numpy so you really need to
know both of those if you haven't done
the numpy tutorials and you can see here
we have our index one two three four
five and then our data a b c d and e
very straightforward it's just two
columns and we have a nice index label
and a column label for the data and then
a data frame is a two-dimensional data
structure with labels we can use labels
to locate data and you can see here we
had if we go back one we had our index
one two three four five so in each one
of these series they would share the
same index over there the row index so
you have your row index DF dot index and
then you have a column index DF dot
columns and this is like I said this
would be really familiar if you've done
any work with spreadsheets Excel so it
kind of resembles that this does make it
a lot easier to manipulate data and add
columns and delete columns move them
around same thing with the rows so you
have a lot of control over all of this
now we're of course going to do this in
our Jupiter notebook you can use any of
your python editors but I highly suggest
if you haven't installed Jupiter and
haven't worked with it it is probably
one of the best ways for easily
displaying a project you're working on I
skip between a lot of different user
interfaces or Ides for editing my Python
and it's just simply jupiter.org
j-u-p-y-t-e-r dot org and then I always
let mine sit on anaconda anaconda.com
and just real quick we'll open that up
for you oops offline mode don't show me
that again but you can see here that I
have different tools that I can actually
install in my anaconda including the
Jupiter notebook which comes by default
and then I have access to the
environments and again that's
anaconda.com named after the very large
one of the largest world's largest
snakes and then Jupiter notebook in this
case jupiter.org and when we're in are
let me go in here to our jupyter
notebook and we're going to go ahead and
just do new and a Python 3 and this will
open up a Python 3 Untitled folder so
diving right in let's go ahead and give
this a title pandas tutorial and we'll
go up to cell and we'll change the cell
type to mark down so it doesn't execute
it as actual code one of those wonderful
tools when you have jupyter notebooks
you can do demos with this and let's go
ahead and import pandas and usually
people just call it PD that has become
such a standard in the industry so we'll
go ahead and run that now we have our
pandas has been imported into our
jupyter notebook
and then oh we can go ahead and let me
do the Control Plus since it's Internet
Explorer I can enlarge it very easily so
you have a nice pretty view oops too big
there we go and whenever you're working
with the new modules good to check your
version of the module in pandas you just
use the in this case PD dot underscore
underscore version underscore underscore
that's actually pretty common in most of
our python modules there's different
ways to look up the version but that's
one of the more common ones and we'll go
ahead and run that we get
0.23.4 and if we go to the pandas site
we see
0.23.4 is the latest release and of
course a reminder that if you're going
to an environment you need to install it
so you'll need to do pip install pandas
if you're using the PIP installer we're
going to close out of that
and the first thing we want to do is
we're going to work with series a lot of
the stuff you do in series you can then
do on the whole data set we need to do
what create one we need to manipulate it
take pieces of it so query it query it
delete so you can delete different parts
of it so we want to do all those things
with the series and we'll start with the
series and then almost all the code in
fact all the code does transfer right
into
the actual data table so we go from a
series of a single list of one column
and then we'll take that and we'll
transfer that over to the whole table
and we'll start by creating let's put up
there we go creating a series from
list
and let's just call this ARR equals and
we'll do 0 1 2 3 4. if you remember from
our last one we could usually do R
equals range of five which would be zero
to four but we'll do R equals zero to
four and we'll call this S1 and we'll go
PD and series is capitalized this one
always throws me is which letters do you
capitalize on these modules they're
getting more and more uniform but you
got to watch that with python and we're
just going to go ahead and do ARR so
we're just going to take this python
list and we're going to turn it into a
series and then because we're in Jupiter
we don't have to put the print statement
we can just put S1 and it'll print out
this series for us now let's go ahead
and run that and take a look
and you'll see we have two rows of
numbers so the first one is the index
now it automatically creates the index
starting with zero unless you tell it to
do differently so we get 0 index row 0
is 0 1 1 2 2 3 3 4 4. and because it's a
series it doesn't need a title for the
column there's only one column so why
title it
and this also lets you know that it's a
data type of integer 64. so we print
this out this is our series our basic
series we've just created now let's do a
second series
PD and we'll use the same
data list and let's go ahead and do
order we'll give it an order equals oh
let's do it this way
let's go index equals order
and it helps if we actually give it an
order so we'll do order equals and let's
do one two three four five so instead of
starting with zero we're going to give
it an order starting with one we're
going to run that and we'll go ahead and
print it out down here S2
and we'll see that we now have an index
of one two three four five and that
represents zero one two three four in
the series and we're still data type
integer 64. and very common as you're
missing with numpy arrays is we can
import our number as NP remember that
from our numpy tutorials we can go ahead
and create a numpy at a random with the
random numbers of five and let's just
see what that end looks like so we can
see what our number looks like so we
have some nice random float values here
2.33 so on and that's from our last
tutorial the numpy tutorial one and two
and instead of calling it order let's
call it index and we're going to set our
index equal to a b c d and e I want to
show you that the index doesn't have to
be an integer so it can be something
very different here and then let's go
ahead and create our we'll just use S2
again and here's our NP for numpy
series capital s
and N is our NP for number
PD for pandas there we go switching my
anachronisms so we have pd.series of N
and we go and do our index equals our
index we just created
and then let's go ahead and see what
that looks like S2 is to print it and
let's run that and we can see here we
have a nice Series going on a b c d and
e for our indexes so instead of it being
0 1 2 3 or 4 we can make this index
whatever we want and you can see the
numbers here going down that we randomly
generated from the numpy array so we use
numpy to create our Panda Series right
here and so continuing on with creating
our Series this one I use so often we
create a series from a dictionary so we
have our dictionary in this case we went
ahead and did a of one B is 2 C of three
D4 e of five so each one of those is a
key and then a value and then we're
going to use oh let's use S3 equals PD
for pandas
series and then we want to go ahead and
just do D in here
print out S3 here and let's go ahead and
run this and you can see we got a is one
B is 2 C is three D is four e is 5. and
it's still of integer 64 Because the
actual data is one two three four five
and it's all integers 64 type 64. and
the last thing we want to do in the
creating section of our series is to go
ahead and modify the index because we're
going to start modifying all this data
so let's start with modifying the index
of the series and if you remember let's
do a print this time S1
I'll go ahead and run this and the
reason I did print is because it only
prints out the last variable so if I put
S1 up here and we're going to do another
variable back down lower it won't print
the first one just the last one and
we're going to go ahead and take S1
the index and we're just going to set it
equal to a new index and obviously the
number of objects in our index has to
equal the number of objects in our data
and then because it's a last variable we
can go ahead and just do an S1 and let's
run that and you can see how we went
from 0 to 0 0 1 2 3 4 as our index we've
now altered it to a b c d and e so this
would be much more readable or might be
representational of a larger database
you're working with
So Cool Tools we've covered creating
database based on my basic array python
array we've showed you how to reset the
index
then we showed you how to use a numpy
array so you can put a numpy array in
there it's all the same you know
pd.series numpy array and then we can
set the index on there and the same
thing with the dictionary so it's very
versatile how it pulls in data and you
can pull in data from different sources
and different setups and create a new
series very easily in the pandas and
then we looked on changing your index so
now we have a new index on here
and then we want to go ahead and do some
selection let's do some basic
slicing most common thing you'll
probably do on here and we'll just do S1
this notation should start to look
really familiar again this is going to
put an output so I'd usually it doesn't
change S1 this just selects it so we
might do a equals S1 and then print a
and you'll see that it just looks at the
first three zero one two and we can do
the same thing by not having the a in
there I'll go ahead and take that out
but it's just a reminder that it's not
actually changing S1 it's just viewing
S1 so simple slicing on here and we can
likewise do an append oops before we do
a pin let's just do a quick kind of fun
one we'll do two minus one and you'll
see it covers everything but the E of
course you can do minus two on this side
so one another way to select it is to go
how far from the end and likewise we can
do a 2 here c d e to the end so it
starts at the second one and another way
we can do this is we can do a minus 2
over here and that looks at just the
last two in the slice so you can see how
easy it is to slice the data and of
course there's no reason to do this but
you could select all of them
if you want to view all of them on there
perhaps 32 there's not 32 so it's just
going to show the first three there we
go and then we can also append so I can
take and oh let's create another series
and append one to it and if you remember
we had S3 there's our S3 and we have our
S1 I'm going to do S1
and let's go ahead and do let's call it
S4
equals S1
a pin S3 so we're just going to combine
those two into S4
and if we go ahead and print S4 on here
you'll now see that we have a b c d e a
b c d e zero one two three four one two
three four five because we started the
data at one
so very easy to compend one series to
the next and if we're going to append
one series to the next we need to go
ahead and drop or delete one and drop is
a keyword for that and let's just do e
our index e and so if I run this you'll
see that it'll print it out and a b c d
there's no e and remember all these
changes if I type in S4 again you'll see
that S4 still has e in it so this change
does not affect the series unless you
tell it to so I'd have to do like x S4
equals S4 dot drop e and there's another
way to do that which we'll show you
later on let me just cut this one out
there we go all right so we've covered
all kinds of Cool Tools here we have
appending we have slicing we did all the
creating stuff earlier as you can see
here on the setup how easy it is to
manipulate the series
so next what we want to get into is we
want to get into
operations that happen on the series so
let me go ahead and change this cell to
mark down there we go and we're so
series operations what can we do with
the series and let's start by creating a
couple arrays we'll call it array one
and we'll do 0 through 7 and array two
six through six seven eight nine five I
don't know let me threw the five on the
end let's go ahead and run those so
those load up into Jupiter and we'll do
this a little backwards we're going to
do S5 equals a panda series of array two
so I'm doing this in reverse and then
when we do S5 you'll see that we have
zero to four it automatically assign the
index
67895 for our series and let's go ahead
and do the same and we'll call this S6
and we'll set this equal to PD series
for our first array and if we do an S6
down here to print it out
we'll see something similar I got zero
through six zero one two three four five
seven for the data so those are two
series we just created series six five
and six
and one of the first things we can do is
we can add one series to the next so I
can do S5 dot add S6 and let's see what
that generates and just a quick thing if
you've never used pandas what do you
think is going to happen with the fact
that this only has five different values
in it and this one has seven values
so let's see what that does and we end
up with 6 8 10 12 9 and it goes oh I
can't add this there's nothing there so
it gives us a null return very different
than the numpy that would have given you
an error this instead tells you there's
no value here because we couldn't
generate one so we can easily add S5 dot
add S6 and likewise we can do S5 Dot
sub for subtract S6 and we'll run that
and on the add the subtract and you
guessed it we're going to do multiply
and divide next again you can see
there's the null values where it can't
subtract the two because there's no
values there to subtract we can also do
S5 multiply mul they're all three
letters on these that's one of the ways
to remember how they figured out the
code for this so remember these are all
three letters mole we'll go ahead and
run this and you can again you can see
how they're multiplied together and then
we can also do the S5 div three letters
again S6 and run that
and you'll see here this goes to
Infinity because we have 0 in the wrong
position so it actually gives you a
whole different answer here that's
important to notice and then in the null
values because there's no data and it
can't actually produce an answer off of
null off of missing data and since we're
in data science let's do S6
median so let's look at the median data
which is simply median sorry for those
who are following the three letters
because median is not three letters and
you can see an S6 is 3.0 and let's do a
print here and we'll do median
or average S6
and let's print Max
S6 and just like median there's max
value and if we're going to have a max
value we should also have a minimum
value so let's pop in minimum
we'll go ahead and run this and you're
starting to see something that would be
generated like say an R where you're
starting to get your different
statistics we have a medium value of
three max value of 7 and a minimum value
of zero and what it does when it hits
these null values if there is no values
in there because we could still do that
we could actually you know what let's go
up here and do
let's pick this one where we multiplied
let's go s seven equals
I'm going to print the S7 just so I keep
it nice and uniform so I still have my
S7 down there and run it and then I want
to take the S7
because S7 now has null values and an
Infinity value and let's see what
happens
this is going to be interesting so I
want to see what it is with infinity
and we end up with a median of six
maximum of 27 and minimum of zero which
is correct it drops those values so when
it gets to there and it doesn't know
what to do with them it just drops those
values and then it computes it on the
remaining data on there so that's
important to know when you're making
these computations you're looking at Min
and Max in median you're not going to
know that there's no values unless you
double check your data for the null
values that's a very important thing to
note on there so just a real quick
review on there we've done our created
our PD series and we've gone ahead and
done addition subtraction multiplication
division all those are three letters so
sub Min div add and then we looked at
median maximum and minimum so we're
going to go ahead and jump into the next
big topic which is to create a data
frame so now we're going to go from
series and we're going to create a
number of series and bundle them
together to make a data frame
there we go cell type markdown and
so we have a nice title on there it's
always good to have a good title all
right so our first data frame we'll jump
in with some stuff that looks a little
complicated we'll break it down first
I'm going to create some dates and you
know what let's just go ahead and do
this I want you to see what that looks
like what I'm creating here I've created
a series of dates PD date range and
we're going to use these for the index
okay so when you look at this you'll see
that it's just basically it comes out
kind of like a basic python list or
numpy array however you want to look at
it with our different dates going down
and we've generated six of them and it's
going to have whatever time it is right
now on your on the thing for the date
for the time that's that time stamp
right there and then you'll see we have
11 19 2008 11 20 11 19 and looking into
the future there so that's all this is
is generating a series of dates that
we're going to use as our index and this
is a pandas command so we have a date
range which is nice it's one of the
tools hidden in there in the handles
that you can use and next we're going to
use numpy to go ahead and generate some
random numbers in this case we'll do the
np.random.random and six comma four you
can look at this as rows and columns as
we move it into the pandas and of course
you could reshape this if you had those
backwards on your data but we want the
six to match the rows and we have six
periods so our indexes should match
along with the rows on there and then
you know before we do the next one let's
go ahead and just print out our numpy
arrays and see what that looks like here
we have it one two three four by one two
three four five six four by six so it's
a nice little setup on there and since
working with data frames can be very
visual let's give our columns we have
four columns and we're going to give
them names A B C and D so now we have
columns on there also and then let's put
this all together in a data frame and we
can actually you know what let's do this
since I did it with everything else
let's go ahead and do columns and you
can see there's our columns on there
and we'll go ahead and do df1 equals
pandas dot data frame and note that the
D and the f are capitalized series it
was just the S and I always highlight
this because you don't know how many
times these things get retyped when you
forget what's capitalized on there it's
a minor thing you'll pick it up right
away if you do a lot of it and the first
thing we want to do is we want to go
ahead and take our numpy array because
we're going to create our data frame off
of is the numpy array and then we want
our index equal to our dates so there's
our index in there and then we also have
columns equals columns and then finally
let's see what that looks like now
remember we had all the different data
that just looked like a jumble of data
we have our column names and everything
else our numpy array kind of just a
jumble array over there four by six you
could sort of read it but look how nice
this looks I mean this is you come into
a board meeting you're working with your
shareholders
this is pretty readable this is you know
this is our date this is our a b c d
whatever it is maybe it's one of these
dates as your leads
closures lost leads total dollar made
you know whatever it is if it's in a
business maybe it's measurements on some
scientific equipment whether searching
material you know where this is like
high of the temperature low of the day
humidity of the day whatever it is so
you can see that we can really create a
nice clear chart and it looks just like
a spreadsheet you know we have our rows
and we have our columns and we have our
data in there now this one I use all the
time if we're going to create we can
create it like you saw here with our
numpy array very easy to do that and
reshape it you can also create it with a
dictionary array so here we have some
data and let me just go down a notch so
you can see all the data on there we
have an animal in this case cat cat
snake dog dog cat snake cat dog we have
the age so we have an array of Ages we
have the number of visits and the
priority was it a high priority yes no
and then we're going to take that we're
going to create some labels we have a b
c d e f g h i and what I want you to
notice on this is we have a title animal
and then we have basically a python list
and these lists they don't necessarily
have to be equal because we can have
non-data you know np.net numpy array
null value but we want to go ahead and
create labels that are equal to the
number in the list so a the first cat B
the second cat C the snake D the dog and
so on so we'll go ahead and create our
labels which we're going to use as an
index and we'll call this DF let's do it
this way we'll call this df2
equals PD for pandas data frame and then
we have our data just like we did before
and then we have our index equals
labels
and if we're going to go from there
let's go ahead and print it out so we
can see what that looks like df2 so
let's go ahead and run that another
again you have a nice very clean chart
to look at we've gone from this mess of
data here to what looks like a very
organized spreadsheet very Visual and
easy to read animal age visits priority
and then a through J cats and all the
different animals so on and so on and
then when you do programming a lot of
times it's important to know what the
data types are so we can simply do df2
D types
and if we run that we can see that our
animal
is an object because it's just a string
but it comes in as an object age is a
float 64 integer 64 and then priority
again is just an object
and exploring this this one's very
popular let's go df2 head and if we
print that out the df2 head Returns the
first five and we can change this you
don't have to do five you might want to
just look at the top two maybe you want
to look at let's see now let's do six so
maybe we'll look at just the top six in
the database in your data frame and you
can actually this creates another data
frame so I could have a DF 3 equal to
df2 and this now takes the df2 and just
the first six values so if we do df3
run get the same answer
and if we do it the head of the data we
can also do the tell it's the same thing
DFT you can look at the last we'll just
do the tell which by default does five
the last five and of course you can just
look at the last three of those real
quick just to see what's at the end of
the data and this is the tell I love
doing the tell of one because I'll have
like the index or something like that
and it will just show me the last
whatever the last entry was looking at
stock values and I might want to look at
just the last five days of the stock
values I can do that with the data frame
tail
and some other key things to look up are
the index so we can do df2 dot index
and I want you to notice that this isn't
a call function so if I put the brackets
on the end it'll give me an error
because index is not callable it's just
an object in there so we do df2 dot
index there's also columns
so we can go ahead and let's do uh let's
print this remember the first one is not
going to show unless I print it and then
df2 columns so now we can see we have
our indexes and we have our columns
listed here df2. columns animal age
visits priority it tells you what kind
of object it is or what kind of data
type it is and they're both object
and then finally df2 dot values and
again there's no brackets on the end of
df2.values because this is an actual
object it's not a callable function so
we'll go ahead and run that and it
creates this displays a nice array a
very easy way to convert this back to a
numpy array basically so before I go
into the next section let's just take a
quick look at what we covered so far
with the data frame we came up here we
created our data frame we did it from a
numpy array first setting the columns
and the index the index is setting it up
as the same as when we set up the series
so that should look very familiar so is
the whole format the numpy array the
index dates and the columns columns and
remember in our numpy array we're
looking at row comma column so six rows
four columns is how that reads in the
data frame
and we went ahead and also did that from
a dictionary in this case animal was the
column name with all the date data
underneath that column and then age with
that data visits that data priority that
data and then of course we added our
labels in there for our index so there's
no difference in there but it
automatically pulled the column names
important to know when you're dealing
with the data frame and importing a data
frame this way
and then we did looking up D type we
looked at head and tail looking at your
data really quick we also did index and
columns and values and note these don't
have the brackets on the end
so the next thing we want to do is go
ahead since we're dealing with data
science is we want to go ahead and
describe the data so we have def2 dot
describe to do that and we're going to
manipulate it in just a minute but let's
just see what this generates
and you can see right here we have age
and visits so looking at our data from
up above let me just go all the way up
here animal age business priority
and it does a nice job generating your
age versus visits which has all the data
you have your account your means your
standard deviation your minimum value 25
or in this group 50 75 in your maximum
value so this should look familiar as a
data science setup with your describe
for a quick look at your data Frame data
so let's start manipulating this data
frame and moving stuff around and we'll
start with transposing and it is simply
capital T for transpose and when we run
that it flips The Columns and the
indexes so now the indexes are all
column names and the columns are all
indexes animal age visits priority so if
we had come in here with our data shaped
wrong up above where we had a four by
six we can quickly just swap it if we
had it backwards not a big deal and we
can also sort our data so something that
you can't deal which is more difficult
to do with a lot of other packages and
the data frame is really easy to do take
our data frame df2 and we're going to
sort underscore values buy equals age
and so when we run this you'll see the
default is ascending so we have 0.5 to
2.53 and everything else is organized so
if you look at your indexes they've been
moved around because each index it moves
a whole row not just the one piece of
data is not being sorted so a very quick
way to sort by age are different data in
the data frame and in addition to
sorting it we can also slice the data
frame so I could do df2 and this should
look familiar from earlier we'll just do
one to three so we're going to pull out
oops it does help if I use the DF
instead of just D and we're going to
pull up just between one and three so we
have not zero which is a we have B which
is 2 or B which is one and C which is
two so one two and then it does not
include 3 which is the standard in
Python and we can even do something like
this we can combine them which is always
fun because remember this returns a data
frame so if I take df2 dot sort foreign
values and we'll do by equals age this
is just kind of fun and then I'm going
to slice it there we go double check my
typing and run it and now you should see
fa because F A are now one and two on
there
I'm saying very quickly create a whole
string on here which narrows it you know
that you can sort it then slice it and
do all kinds of fun things with your
data frame we'll just go back to the
original one run there we go and if we
can slice it by row we can also query
the data frame so we can do df2 and this
is a little different because I'm going
to create an array within an array and
in this case we're going to look at oh
let's do age comma
visits so look at the different format
in here we have one to three so we've
done this by slicing by an integer value
and then on here I've done df2 age comma
visits in an array and when I run this
you can see that we get just these two
columns on here we get agent visits so
it's a quick way to select just two
columns or select number of columns
you're working with
and if you stop there we did the slicing
almost identical to slice is I location
which uses the integer location one
comma three there's a push in pandas to
move to this particular setup instead of
doing just a regular slice and that's
because this can be confusing when we
slice one to three and then we select
age and visits so there is a push to go
ahead and move to an eye location which
does the same thing you can see here BC
it's the same as up above there's also a
copy command so we can do df3 equals df2
copy we're just going to create a
straight copy of it and if we do df3
that'll be the same as a df2 on there so
df3 equals df2 dot copy and then let's
do df3 dot is null so we're looking for
null values
and this will return a nice map and
you'll see that everything is false
except when you go up here under the cat
or H they had a null there and so if we
go to have a couple up here also
underneath of let's see the dog okay
there's a bunch of nulls in here there's
D up here so let's look at D down here
and you'll see false true there it is
there's our null value so we can create
a quick chart of null values you can use
this to do other things we can leverage
that null value to maybe take an average
or something and fill those null spaces
with data and we can also modify the
location so here's our df3 location
and notice this is location not I
location I location has I for integer
location uses the in this case the
variables on the left and what we can do
on here and we're going to set this
equal to one five and
some I'll pick a spot let's go back up
here where we had let's do F A just
let's see we're looking at oh here we go
let's do F and age and up here f is set
to age of 2.0 and we find out that
that's incorrect data so we go ahead and
switch to df3 equal and then we're going
to print out our df3
and if we go to F and H it is now 1.5 so
we're just changing the value in the df3
and this is changing the actual data
frame remember a lot of our stuff we do
a slice and like it returns another data
frame this changes the actual data frame
and that value in the data frame
so we've covered location and I location
is null making a copy here's our I
location which is equivalent of a slice
and also selecting columns so now we
want to dive just take a little detour
here and let's look at df3 means
and this is kind of nice because you can
do this you can either do this by as you
can select a single column here by the
way you can just add the column
selection right here like we did before
so we could have age
look up the mean that just creates a
series if I run that there's our age
but if I take that out instead of
selecting it we can do the whole setup
and it has age and visits so why doesn't
it have priority or animal well those
are not integers so it's really hard
they're non-numerical values so what is
the average I guess you could do a
histogram which probably will look at
that later on but the only two things we
can really look at is age and visits and
we have the average or the mean on the
age is 3.375 and the mean on visits is
1.9
and let's do df3
visits we'll go ahead and steal the
visits again
and remember all those different
functions we looked at for a series well
we can do those here we can do the sum
so if we run that we'll see that these
sum up to 19. you can also look up
minimum if you remember that from before
the minimum is 1 Max so all that
functionality is here so we'll just go
back to summing it up and adding it all
together so real quick we've shown you
how to take the series operations and
put them into the data frame and then we
can actually this is interesting one we
can just do df3 sum run and you'll see
the different summations on there it
just combines them I like the way it
just combines the strings on there for
priority and animal we've looked at is
null we've also looked at copying along
with the different slices which we
talked about earlier so let's talk about
strings let's dive into the string setup
on there and let's go ahead and create a
string series string equals PD series
and we just put it right in there we
have a c d a a b a c a popped in a null
value cow and Al I don't know why they
picked Cal and Al in the background
someone must like those animals and of
course we can just do string if we run
that you'll see leave the r out we'll
get an error but if we put it in there
you'll see that we have a simple series
0 a 1C 2D and it automatically indexes
it zero to eight and then we can go
string dot lower so when we're talking
about our data frame in this case or our
data series string in this case we use
the string function Str and we're going
to make it lower and we go ahead and put
the brackets on there and you'll see
that we've gone from capital a Capital C
so on to ABC and Baka CBA Cal Al they
were all lowercase already and of course
if you want to go lower you can also do
upper and we'll go ahead and run that
and you can see we now have ACD AAA
everything's capitalized except for the
null value which is still null all right
so we looked at a few basic string you
can see that string functions upper and
lower we're going to jump into a very
important topic I'm even going to give
it its own header on here because it's
such an important topic what do you do
with missing values Panda has some great
tools for that so we'll dive into those
we'll call we'll work with df4 and if
you remember the DF copy from above
we're just going to make a copy of df3
and let's just take a quick look at the
data we're working with oops df3 forgot
the three on there there we go so here
we have our cat snakes and dogs
hopefully not all in the same container
because that would be just probably mean
to all of them so we made a copy we're
going to be working with df4 and the
reason we made a copy is we want to go
ahead and fill the data and we just
simply do fill in a and then we're going
to give it the value we want to put in
there we'll go at the value 4. so I can
run in here and you'll see now that df4
now has where the N A was it's filled
with the value of four same thing down
here a lot of times we'll compute the
mean first so I might do a mean page
equals df4 and then we want to go ahead
and do age
dot mean
and then I'll do something like this df4
I only want to select the age and I want
to fill that
with the mean h i run in there and
you'll see that our df4h now has the
means in there just a quick way of
showing you how you can combine these
let me go back to our original one there
we go and run that and keeping with good
practices df5 equals df3 dot copy
a little printer df5 which should be the
original one
and then on the df5 we can now drop our
missing data
I'm going to Simply drop in a and we're
going to use how equals any so I'm going
to drop any row that has missing data in
it and you'll see we had D here with
missing data and H and then let's go
ahead and see what df5 looks like when
we do that
there we go and there it is D is gone
and so is H so we create a new data
frame off of this missing those values
now if you have a lot of data dropping
values is a good way to take care of it
because you don't miss some data if you
have not a whole lot of data you're
working with like the iris data set or
something like that or something small
you want to start trying to find a way
to fill that data in so you don't lose
your computational power of the data you
got so just a quick look at processing
null values
or missing values you can fill them
usually with the means some people use
medium or the mode there's different
ways you can fill it one way is means
and we can also just drop those rows
those are the two main things we do with
missing data
here we go uh we're going to cover next
this is I so love data frames for this
file operations it saved me so much time
because they have so many different
tools for bringing data in and saving
data so we're looking at the data frame
file operations it's really streamlined
I don't know how many times I'll go on
to different data downloads and they'll
have Panda download standard on there
just because it's so widely used so
let's start with the most common file is
a CSV so we have df3 to CSV or animal
and let me just show you the folders
going into right now I have some
Untitled a few things in here but
nothing labeled animal so we go ahead
and run this and this is now save the
animal to my hard drive and you can now
see the animal folder up here and if I
let's do edit with a notepad oh let's
open up with just a regular notepad
there we go or wordpad if I open that up
you can see it's comma separate did our
titles they don't have an index on the
categories on the top in the index comma
then all the different data is separated
by commas
standard CSP file on there and if we're
going to send it to CSV and notice the
format is dot 2 underscore CSV and it's
just the name of the file we're sending
it to you can also put the complete path
by default it's going to go whatever the
active directory this program is running
on that's why those other folders are in
there so we have our df3 to CSV and then
if we're going to put it in there we
want to also get it back out and we'll
call this one DF underscore animal
equals PD read underscore CSV I always
have to remember is two underscore CSV
and read underscore CSV I always want to
do like a capital in there and not the
underscore so we're going in here again
it's the active directory so if I now do
print out my DF animal
and let's just do the head we only want
to look at the first three lines so if I
go ahead and run this we'll see the
first three lines and they should match
up here what we saved to our CSV so very
easy to save and import from our CSV
files on here
and it turns out DF 3 also has a two
Excel they actually have a lot of
different formats but you know old
school Excel was real popular for so
long still is we can go ahead and save
it as animal dot xlsx we're going to
call the sheet named sheet1 and then I
can also do DF we'll call it animal 2.
two and this one's going to come from
and the same format on here there we go
so we still have our animal xlsx
the sheet 1 that's where it's coming
from index columns equals none so we're
not going to we're going to suppress the
indexing on the columns n a values and
it'll just assign that 0 1 up on your
indexes so if it says index columns
equals none that's what it does and then
we've added null values because there's
no values in here and we want to just
make sure that they're marked as n a and
we'll go ahead and just print out the
animal animal to there we go and let's
run that let's make this let's just do
the whole thing so we'll go ahead and
run that and it probably doesn't help
that I completely forgot the read so
animal 2 equals PD dot read
Excel there we go Excel so now we go
ahead and run it
and what we expect is happening here we
have the same data frame on here and if
I flick back to my folder you can now
see that we have the animal one of these
is in Excel and one of these is a CSV on
here and so there's our two file Types
on there and they have other formats
these are just the two most common ones
used and I don't know how many times
I've had stuff from Excel I need to pull
out if you've ever played with Excel
it's a nightmare on the back end because
of the way they do the indexing
so this just makes it quick and easy to
pull in an Excel spreadsheet so we
looked at two different ways to bring
data in and save it to files we've
looked at all kinds of different ways of
manipulating our data set and slicing it
and creating it for our data frame let's
get in there put your visualization
always the big thing at the end because
one it lets you check to see what you
did make sure it looks right and then
also if you're going to show somebody
else it makes it very clear what's going
on if they see something visual so this
is where a really important part of data
science is so let's go ahead and bring
in our tools we're going to do import
numpy as NP we want to make sure we have
our Amber sign matplot library in line
this just lets Jupiter know that we're
going to print it on this page if you're
using a different IDE you don't really
necessarily need that but this does help
it displays correctly in jupyter
Notebook and if you remember for earlier
we could create a we're going to call it
TS we're going to create a pandas which
are cute cuddly creatures versus pandem
short for pandemonium no so we have TS
equals PD series and we're just going to
create a random setup of 50. we'll do an
index we'll set it equal to the pandas
date range today periods equals 50 so
the 50 should match and I want you to
notice something here I did not import
the matplot library why because it's
already in there pandas already has its
built-in connection and interface with
matplot Library so you don't have to
import it and we'll go ahead and do TS
equals TS dot cumulative sum we're going
to do the cumulative sum
it's a little reformatting there and
we'll go ahead and plot it and let's
take a look at what that looks like
so we have a nice graph here we have the
dates on the bottom we set this up so we
have a nice range between in this case
minus four to looks like about two maybe
or one minus four and one so what we've
done here we've plotted a basic series
just a single row of data when we've set
indexes on there but we can also do the
whole data frame on there and let's see
what that looks like so first let's go
ahead and create the data frame we have
here random number so we're going to do
50 by 4 and then we'll go ahead and
create columns a b X and Y just because
we can index is a ts.index on there so
we're going to use the same index as
before just to keep it nice and uniform
we've already generated the dates to go
with it and then we can do just like we
did with the series we can also do with
the data frame
DF equals DF cumulative sum so we're
going to sum the whole data frame and
then we'll do simply DF plot and this
puts that in and let's go ahead and run
this and look how easy and quick that
was to generate a nice graph with all
the different data on there so we have
our shared index we have the shared
columns and then we have the different
data from each one that we can easily
look at and compare so very quick way of
displaying data you can imagine if you
were working in oh I think I mentioned
stock earlier because I've been doing
some analysis of stock lately so you'd
have your date down here and then you
would have stock a Stock B stock X Y
whatever it is and you can put them all
in one chart and see how they what they
look like next to each other and this
isn't too far off from what some of
those graphs looks like and this is just
randomly generated so stock has a lot of
Randomness in it which is one of the
reasons I actually play with it for
doing some of my models on for testing
them out now there are a lot of features
in pandas so we're going to show you one
more thing on here there's some of the
things like I didn't go too deep we
looked at the top two for importing data
from a CSV and from an Excel spreadsheet
showed you how to quickly plot the data
there's more settings in there you can
do we're going to do one more thing down
here and this is kind of a fun one
changes to a mark down and run that so
how would you remove repeated data using
pandas and this is where you have a data
set that comes in and maybe it's a
feeding from one location and in instead
of noting that it's repeated the date
like oh let's go back to stocks that's a
good visual we have the stocks from the
23rd and it has another row and it's the
same row it's importing the 23rd again
and again so now you have that data
repeated three times and you need to go
back and figure out how to get rid of it
how do you track that down so let's
start by creating a quick database our
data frame not a database I keep saying
databases the data frame and we'll just
make this data frame has using our
dictionary going in this data frame only
has one data Series in it which is fine
so if we do DF to print it out you'll
see
a12224567 and so on and so how would you
remove that well there is a neat feature
in data frames called shift
along with another feature that lets us
select just certain date information and
we'll go with the location function put
that in Brackets remember that from
above location and then in the location
let me just spread this out a little bit
so it's really easy to read in fact I'm
going to go upscale on that since we're
doing some a little bit more complicated
here
what you can see on this on the location
is I have DFA dot shift so this is going
to shift up one by default you can
actually change this to two or three you
can even do a minus one and it shifts
the other way but it's going to shift up
by one by default that's going to say if
that does not equal DF of a then we want
that and if you look down here we had
one two two two two when we run this
Logic on here and we do the shift it now
gets rid of all the duplicates so we
went from one two two two two four four
five whatever it was here it is one two
two two four four four five five five
six six six two one two four five six
seven eight and you'll see on the index
it just deletes them out of there so the
index stays the same obviously you don't
want the dates to change if you're
working with an index dated setup so it
just deletes those duplicates out of
there this is just a quick way to
introduce you to one the fact that you
can add logic gates into here and two
the I location
allows you to use shift so there's the
shift function and then the I allocation
selects that based on true or false
wow so we've actually covered a lot
today in pandas we've really covered
into the basics of selecting your
different series out of your column out
of your data frame how to index rows how
to slice how to plot hopefully you'll
take this beyond that and start
combining these different things and you
can create long strings and really
explore your data generate some nice
graphs if you're in jupyter Notebook
it's a great demo to show others and I
didn't know this about jupyter notebook
you can do this in jupyter Notebook and
then you can download and I always I
never really look too closely at all the
downloads but you download as an HTML
and post it to your blog so it's got a
neat feature in there but any of this is
really powerful tool all of this is
really powerful tools for doing your
data science if getting your learning
started it's half the battle what if you
could do that for free visit scale up by
simply learn click on the link in the
description to know more
today we're going to
stick Lots plotting graphs and sub
graphs adding a graph inside a graph
graph parameters title label Legend line
graphs line types color and transparency
canvas grid and axes range 2D plots
scatter step bar fill between radar
chart histogram Contour image 3D surface
image and then we'll hit a practice
example pie chart
so let's start with what is matplot
library matplot library is an open
source drawing Library which supports
Rich drawing types it is used to draw 2D
and 3D graphics and there are so many
packages in the matplot library we're
going to cover the basics and there are
so many packages that sit on top of the
matplight library that we can't even
cover them all today but we'll hit the
main one so that you have a good
understanding of what the matplot
library is and what the basics can do
you can understand your data easily by
visualizing it with the help of matplot
Library you can generate plots
histograms bar charts and many other
charts with just a few lines of code and
here we have some basic types of plots
you can see here that we'll go into we
have the bar chart the histogram boy I
use a lot of histograms in my stuff a
scatter plot line chart pie chart and
area graph let's start plotting them and
to do this I'm going to be using Jupiter
notebook you can use any of your python
interfaces for programming or scripting
and running it of course we here really
like the Jupiter notebook for doing
basic a lot of basic stuff this is so
visual and in our jupyter notebook which
opens up in this case I'm using Google
Chrome you can go up here to New and
we'll create a new Python 3 and set that
up
if you're not familiar with Jupiter
notebook we do have a tutorial that
covers some of the basics of that and
you'll look at any of our tutorials they
usually cover a number of them showing
how to set up Jupiter and Anaconda I
myself use Jupiter through anaconda in
fact let's go ahead and open that up and
just take a look at this see what that
looks like you can see your anaconda
Navigator if you install it it will
automatically install the Jupiter
notebook but it also installs a lot of
other things I know some people like the
QT console for doing python or spider
I've never used them I actually use
notepad plus plus as one of my editors
and then I use the jupyter notebook a
lot because it's so easy to have a
visual while I'm programming and even
simple script in Python I'll take it
from The jupyter Notebook and then do a
save as you always go under file and you
can download as a Python program so
that'll download it as an actual python
versus the IPython that this saves it as
so let's go ahead and dive in and see we
got going here and
go ahead and put matplot Library
tutorial and I'm going to turn this cell
into a markdown so it doesn't actually
run it
but you can see it has a nice little
title there that's all Jupiter notebook
and then from matte plot Library let's
import
Pi lab
back one and then let's go ahead and
just print
we'll go pylab and the version let's go
ahead and run this so we're going to
import our pylab module from the matplot
library and we find out that we're in
version
1.15.1 always important to note the
version you're in probably I was reading
an article that said the number one
thing that python programmers struggle
with is remembering what version they're
working in and making sure that they're
going from one platform to the other
with the same version and if we're going
to graph things I think we need some
data to graph so we're going to import
numpy as NP now if you're not familiar
with numpy definitely go back and check
out our numpy tutorial there's so many
different things you can do with it
dealing with reshaping the data and
creating the data we're just going to
use it to create some data for us and
there is a lot of ways to create data
but we're going to use the np.line space
so we're going to create a numpy array
and the way you read this is we're going
to create numbers between 0 and 10 and
we're going to create 25 of these
numbers so we're just going to divide
that equally up between 0 and 10. and if
we have x coordinates we should probably
have some Y coordinates and we'll do
something simple like x times X plus two
and let's just take a look we're going
to print X and print
why let me go ahead and run this and
let's see we got going on here so we
have our x coordinates which is 0 0.4.83
Etc and you can look at this as an X Y
plot so we have 0 we have two and we
have 0.416 we have 2.17 and just as a
quick reminder we're going to do print
in pra X comma y dot reshape 25 comma
two and the reason I want to do this is
I want to show you something here a lot
of times a program returns X comma Y and
it's an array of X comma y x comma y x
comma Y and so when you're working with
the pi plot
you have to separate it out and reshape
it so if I start off with pairs like
this I can reshape them if I know
there's 25 pairs in there I can switch
the 2 and the 25 and this is kind of
goofy but we'll do it anyways reshape so
I'm going to reshape my 25 by 2 back to
2 by 25.
and if I run that you'll see I end up
with the same output as the X Y the two
different arrays in here
and this is important that we want X and
Y separate again that's all numpy stuff
but it's important to understand that
this is a format that matplot Library
works with it works with an array of x's
and they should match your array of y's
so each one has 25 different entities in
it and then for our basic plotting of
this data it only takes one command to
draw a graph of this data and so we use
our from up here we imported pylab we
take our PI lab and the keynet lender
there is plot for plotting a line and
then we want our x coordinates and our Y
coordinates and we'll throw in R and the
r simply means red so we're going to
draw the line in red let me go and run
that
you can actually switch this around if
you wanted to do different there's B for
blue we have a lot of fun yellow hard to
see yellow there we go but we'll go
ahead and stick with red run and when
you're doing presentations with these
try to be consistent you know if the
business and the shareholders send you a
spreadsheet and they have losses in red
you use red for losses in your graph try
to be consistent use green for profit
for money you don't have to necessarily
use green but it's whatever they're
using whatever the company is using try
to mirror that that way people aren't
going to be confused if you switch your
data around and every time one graph has
red for loss and one graph has blue for
loss it gets really confusing so make
sure you're consistent in your graphs
and your coloring and something to know
because we're going to cover this in a
minute this is your canvas size so we
have a canvas here and what we're going
to do next is we're going to look at sub
graphs okay so let's take our PI lab and
create a sub plot
and one of the things also don't know
when we're working with the matplot
library I'm not setting when I do this
this is my drawing canvas the pi lab so
once I've imported the pylab I'm drawing
my images on there very important to
know and with the subplot we're going to
give it some different values and we're
going to represent by rows columns and
indexes and let's do one two one so it's
going to be the first row second column
and the index is like you can stack your
graphs and things like that we don't
worry too much about indexes but rows
and columns we want to go ahead and use
Row one and column two and if we're
going to have one object we should
probably have two but before we do that
we have to plot data onto the subplot so
the order is very important and we'll go
ahead and stick with our X comma Y and
let's do this we're going to add in a
third parameter here remember we did Red
we're going to add shorthand dash dash
for dashed lines so the this plots the
data into Row one column two and if
we're going to do that let's do another
one
pylab.subplot and if we're going to do
Row one let's do column two and index
two
and this time we're going to add G for
green and this denotes a style and if
we're going to set up our pylab subplot
here we go my lab we've got to go ahead
and plot that to Pi
lab plot
and instead of X Y we want y comma X
Oops I messed up this is in the wrong
spot there we go we'll move that down
here real quick because that goes in the
plot part so the subplot tells that the
row column and index and the pi plot
tells it what data in this case we
switch them and the color and then the
style shorthand and let's go ahead and
run that
and you'll see it takes this canvas
splits it in two and now we have two
different graphs and we have the red one
with dashed lines and we have the green
one which is has little stars going up
and if we take this and let's just um
just for fun let's change this and run
that with an index of one it puts them
both on the same index it also gives me
a warning because it's a strange way of
doing two subplots there's this
depreciated there's another way to do it
but most people just ignore that warning
because it's not going to go away
anytime soon now that's using the same
setup what happens if we do instead of
this let's change the column on here and
find out what happens
and if we do the column
I didn't really like that on the setup
it just disappears so let's keep our
column as 2 and let's change the row on
the second one to two and run that
and you'll see again it kind of squishes
everything together it can cause us some
issues so let's take the index so these
need a unique index and you can see here
where I made some changes I said row two
and look what happens when I change to
column two so I now have Row 2 column
two index 2. I squished it up here so
you could put another graph underneath
is what that does and there's all kinds
of different things you really have to
just play with these numbers so you get
a handle on them because
you know we get repeated 164 times
according to Cambridge University if
it's completely new to you and you can
see right here where we go three run
there we go but you can see it takes a
little bit sometimes to play with these
and get the numbers right I hit the
wrong one that's why let's go three
there three there run
there we go now it's overlapping so I
have this doubled over here on the right
for now we'll just go ahead and leave
this with the where we have column in
row two and the two different indexes so
they appear nice and neatly side by side
and then as we just saw as we were
flashing through them we can put them on
top of each other
and let me just highlight that and copy
it down here
paste it down there and here we have one
two one and then we'll do one two one
also for this one and that puts the two
subplots directly on top of each other
gives us that warning and you can see we
now have two different sets of data
graphed on top of each other and you can
also see how it did the indexes since
one of them is from 0 to 10 that's the
green one on the x-axis and the other
one is from 0 to 10 on the y axis so
took the greatest value of either one
and then used those as a shared value
so let's next look at operator
description and we'll go ahead and turn
this cell into a markdown and run that
so it looks nice so fig and remember I
talked about the canvas earlier I
briefly mentioned it we're going to look
a little bit more at the canvas later on
but that's what the figure is FID we're
going to add axes so we're going to
initialize a subplot add the subplot in
rows and columns and all kinds of
different things with this that you can
do let's look at that code and see
exactly what's going on and I want you
to notice that there's fig which is the
actual canvas in the matplot library and
ax is commonly used to refer to the
subplots so we're creating subplots
you'll see ax equals PLT subplot
earlier we did the pi lab so let's go
ahead and import Pi plot from matplot
library and we're going to do it as PLT
you'll see that a lot that's really the
standard in the industry is to call it
PLT just like pandas's PD and numpy
array is NP certainly you can import it
as whatever you want but I would stick
to the standards and we're going to do
the same graph as we did above with the
pi lab but with the PLT so if it looks
familiar there's reason we're doing this
because we want to show you how the
figure part works and working with the
canvas goes but we're going to do the
same plot as we did before and we'll
call it fig and we're going to set that
equal to plot figure so there's our
figure or our canvas on there and let's
create a variable called axes and we're
going to set that equal to Fig dot add
axes
and in this we're going to control the
Left Right the width the height of the
canvas from zero to one and so we can go
ahead and I'm just going to put some
stuff in there I got 0.5
0.1.8.8 so when you're looking at this
this is a zero to one or you could say
50 percent 10 80 80 percent but it's a
control it's going to control your left
and your right along with the width and
the height so the width and the height
we're going to use 80 percent and we're
going to have like a little indent on
the left and the right and this would
look familiar from above xcs.plot X
comma Y and then let's give it a color
how about red since we're recreating the
same graph let's keep it uniform oops
and it helps if I use a ax i s instead
of axes I don't know where that came
from but this looks identical to the one
we had up above so here's our axis plot
X comma y of red same graph same setup
but this time we've added a variable
equal to the figure dot add axes so our
plot figures our canvas our axes is what
we're working in and then our axis.plot
X comma Y and again we can draw Sub
graphs we put
the here
[Music]
just like we did before and a little
different totation here we have fig
comma axes equal
plt.subplots
and in here it's going to be the number
of rows we're going to do one row
in columns equals two so if you remember
before that's what we did we had one row
with two different graphs on it we're
going to do the same thing but know how
we did this here's our figure our canvas
and our axes we're going to create
actually two different axes we're going
to create Row one column two and so axes
is an array of information so we can
simply do
four plus two x in axes
this will now look familiar X Dot Plot
we're going to do X comma y we'll go
ahead and make a red keep everything
looking the same remember nice uniform
graphs everything looks the same and if
we go ahead and run this
you'll see we get two nice side-by-side
graphs so just as we had before the same
look the same setup
and just for fun let's change in columns
to three we'll run that and now you'll
see we'll have three on there and let's
see if we make it a little bit more
interesting we'll do in rows equals to
two and you can see down here we're
going to get in the tribute there
because it's trying to scrunch
everything together so it does have a
limit how much stuff you can put in one
small space that's important to know you
can fix that by changing the canvas size
which we'll look at in just a minute and
there's other ways to change it on here
but here we go we can do in rows two and
columns equals one you can see two nice
images right above each other we'll go
back to the original one row two columns
side by side left to right and we can
also draw a picture or graph inside
another graph
and that's kind of a fun thing to do
it's important to note that we can layer
our stuff on top of each other which
makes for a really nice presentation so
let's have a fig create another figure
so we're going to start over again with
our canvas we set that equal to
plt.figure
so there's our new canvas and let's do
axes we'll call it axes one and two axis
one equals fig dot add axes remember
this from earlier
and this here similar numbers we used
before saying how big this axis is this
figure in the axis is so this is going
to be the big
axes and let's do axes two equals
another figure at axes and then
0.2.5.4.3 and if we're going to do this
they need data on them so let's go ahead
and plot some data on our axis so axis1
Dot Plot and we'll make this simply X
comma y comma make it red and then let's
go axis true Dot Plot and let's reverse
them y comma X comma green there we go
doing what I told you not to do you
shouldn't be swapping axes around and
plotting your data in five different
directions because it's confusing let's
go ahead and run this and see what this
looks like and then let's talk a little
bit about this we talked about the
0.2.5.4.3 and let me just grab The
annotation for that that's left right
width and height so we have in here that
this is going to be left right so here's
our left is point one n 0.5 and we look
you know what let's just play with this
a little bit what happens when I change
this to 0.1 it moves it way over to the
left so there's our point one so we can
make this point four run that there we
go so you can see how you can move it
around the branches on here 0.2 0.5 is
the left so that's the right so see what
happens when we do point oh let's make
this point one that actually is they had
it down uh left right I thought this was
wrong it's actually how far from the
bottom let me switch that on here bottom
there we go so we had here on this we
can go ahead and put that back to 0.5
and run that and this is 0.3 let's make
this point three also and that is the
width and then
there's the height we can make that
really tiny actually let's do 0.2 and
let's run that and you can see it
changes the height on there let me make
it even smaller 0.2 by 0.2 and as you
can see you can get stuck playing with
this to make it look just right it could
sometimes take a little bit certainly
once you have the settings if you're
doing a presentation you try to keep it
uniform unless it doesn't make sense for
the graph you're working on try to keep
the same color as the same position and
the same look and feel
and I mentioned earlier we can adjust
the canvas sides so this is from earlier
I just copied it down below we're going
to re-plot the same data we've been
looking at and what we can do is we can
change the figure size to 16 by nine and
let me run that and show you what that
looks like so it fills the whole screen
and then if you are normally when you're
working on the screen you don't worry
too much about this but we can set the
DPI to 300 run that
there it goes this is your dots per inch
and if you are doing an output of this
and you're printing a hard copy you want
the higher quality I would suggest
nothing under 300 if it's a professional
print you might get a little less than
that but whenever I'm doing professional
graphics and printing them out on
something 300 dots per inch is kind of
the minimal on there
you can go a lot higher too but keep in
mind the higher you get the more memory
it takes and the more lag time and the
more resources you use so usually 300 is
a good solid number to use in your dots
per inch and you can see a drill These
are nice it draws a nice large canvas
here which is 16 by nine and then the
DPI is 300 on here so it's a little
higher quality and just out of curiosity
I wonder how long it takes to draw
something double that size 600 and you
can see here we're at 600 DPI it's going
to take a while there it goes just
because it's utilizing a lot more
graphics on there and let me just go
back to the 300 now we'll actually do
let's do a 100 you're not going to see a
difference on this because it is web
based Graphics are pretty low
and up here you saw I did this with the
plot figure this works the same if I do
figure axis subplot figure size and then
we'll go ahead and do actually
plot
X comma y comma we'll stick to red
let's go ahead and run this and you
should get almost the same thing here
here's our axes on the subplot on here
with the fixed size and the DPI let me
take this all out let me just
revolve that real quick run it again
there we go now we're back to our
original figure and let's look at some
of the other things you can do with this
one of the things we do is we can set a
title for the axis so axis set title
you'll see right here since I put this
on the axis it's the main title for the
whole graph
and if you're going to have a title you
should also label so we can label our X
label and we can set our y label in this
case we're just going to call it X and Y
keep it nice and uniform and if we run
this you'll see that we've added a nice
X label and Y label whoops where'd they
go and it turns out in this environment
that you have to put it before the title
so let me go ahead and put it before the
title and there's our x y and we run
that and of course we can also do upper
size a little bit so you can see what's
going on a little better so here we have
X label X if you come down here you'll
see our X label and our y label we can
of course change this to X
label you can change this to y
and be whatever you want on here of
course and our title graph there we go
run so here we have our title graph our
y label and our X label all set up on
our nice little plot and then before we
move on to the next section let's do
more thing on here we have a thing
called The Legend and we're going to do
we're going to set our ax Legend label
one label two up here that's a format
for it but let's go down here and
actually use it I'm going to do two
different plots we're going to have axes
plot X by x times x squared and X cubed
and if I run this you'll see it puts two
nice graphs on the setup on there but
it's nice to have a legend telling you
what's going on so for the legend we can
actually do axes since we have the two
plots Legend and on here we've created
an array and we have y equals x squared
Y equals X cubed you can actually put
this as whatever you want those are just
strings and then location two and let's
go ahead and run this and see what that
looks like and you can see it puts a
nice Legend on the upper left hand
corner location two we can do location
three and run it and it drops it down to
the bottom
one I can't remember where that's at
there we go upper right so each one of
these is a number that refers to the
different locations on the screen zero
kind of have to play with them or look
them up to remember where they're at but
they do work it just kind of moves
around depending on where you want your
Legend data on there so on this section
we cover the title of the graph the Y
labels and legends this is we're getting
into some starting to look really fancy
here so we now have something we can
actually put out you'll see the title of
the graph looks a little fuzzy so I
might in a web setup put the DPI up a
couple notches maybe put it at 200 100
might work fine just so you know
something to notice on here when you're
playing with these different things we
had our subplots DPI equals oh let's do
200 and see what that looks like so you
can see it now it's a lot clearer it's
also larger so it's a nice little
feature you can throw in there with your
DPI dots per inch so the next section is
let's look at some graph features we're
going to look at line color transparency
size and a few more things on here and
oops I forgot the main title so we have
our figure in our axes equals our plot
and subplots and I'll go ahead and do a
DPI equals 150 so the graph comes out
nice and large and easy for you to see
and let's go ahead and do three plots on
here we'll do X by X plus one so this is
going to be a straight line plot
X Plus X plus two
and axes Dot Plot
x x
plus three this looks like we're doing
nearest neighbor setup or showing how it
uh located data and putting your lines
on there between the nearest neighbors
there we go so it draws a nice little
graph with three lines on it one of the
things we can do is we can control the
alpha on this oops and you can actually
see the when they did these lines it
automatically pulls in different colors
for your setups there's some automatic
automatic things going on in there and a
lot of times we do that comma R but
we're going to do color equals red
another notation on here let's go ahead
and run this now we have a bright red
line down there and with the matplot
library you're not limited to Red you
can also use the one of many different
color references as you see here with
the pound sign
1155dd which just is just blue and we
could do the same thing with another
color on here which it turns out to be
green I can just as easily do this green
blue oops there we go blue and run that
and you'll see here we have red blue and
green and what I want to do is I want to
make this we're going to say What's
called the alpha on this and we're going
to set this equal to 0.5 so this is
halfway see-through when I run this and
it's almost going to look pink because
you can see through it and let's change
this just a little bit just to make this
kind of fun let's Square it there we go
run it so now we have this nice square
that comes up and you can see when it
crosses it because I plotted these two
lines after it and they have no Alpha
the red is behind those lines or in this
case pink because we did the alpha
halfway through so let's go ahead and do
this Alpha equals 0.5
and oh you know what instead of squaring
it let's take it to the 0.5 power
that'll be kind of interesting to see
what that does we'll just go to keep it
squared there we go and run that and
let's go back and look at this where it
crosses over and the first thing you see
right here is on the blue it's kind of
light blue now you can see how the two
colors add together you get almost a
purple on there so I can clearly see
where the red crosses the blue line and
then the green just blanks it over
because I didn't do any opaqueness no
Alpha on there so this is great if you
have lots of data that crosses over and
you need to be able to track those lines
better and we'll go ahead and do this
0.5 and we'll run that oops I Did equals
0.5 let me go ahead and run that and so
you can see right here now you can
easily see the red line how it crosses
the green and the blue down here and if
we want to we can do this as the default
is one is solid so we can change this
all to 0.8 let me just do that oops 58 8
there we go run up so must I hit a wrong
button there let me try that again I
accidentally get rid of a bracket and
let's go ahead and run that and we come
down here and look at this you can still
see where it passes behind them but the
green dominates and the blue dominates
because we're now at eighty percent
instead of 50 percent when you can do
less that's kind of fun although at some
point the lanes kind of fade
so 0.5 is usually the best setting on
there we have a nice pastel here at 0.3
and you can easily see where they cross
over and just like you can play with the
colors we can play with line width and
you know Let's do let's try DPI 100 and
see what that looks like on my screen
equals 100 and we'll go ahead and just
take our ax plot
let's do four of these lines just so you
can see how they look next to each other
click here there we go
and if I run this they should all appear
the same it automatically does different
colors on there so let's do color equals
blue
we got my quotation marks there we go
and we'll go ahead and just make these
all blue just for purposes of being nice
and uniform and then what I want to do
is I want to do the line width
width equals
0.25 and let's just copy copy paste that
down here
let's do equals one
about 1.5 and let's do one let's make
this equal to two let's see what that
looks like and we do that you can see it
goes from a very thin line at 0.5 a 1 or
1.5 and 2 which is twice the width of
the one and if we're going to do
different sizes we had different colors
we had our Alpha scheme let's take this
whole thing here let's paste it down
here and do another one but instead of
line width let's look at Styles and
something to know here you can actually
abbreviate this with LW so line width
can also be Point let's just do
everything point two and let's set up a
line style we'll do the first one dashes
and let me just paste that down here so
I'm not doing a lot of extra typing
there we go
this out so we have our dashed we can do
a dash dot let's do the dash dot here
here and a colon here there we go and
there's a lot of different options we'll
look at a few more as we go down for
different ways of highlighting data but
when you look at this we have everything
as a line width of two and now we have a
straight line we have a dashed line or a
dot dash and a dot dot dot line
and then another thing we can add on
here is we're going to do here's our ax
plot and we did X plus two X plus four
so it goes right on the top and do color
black line with 1.5 so it's a smaller
line and we're going to take the line
and we're going to set dashes so look
I've changed some of the notation here
for my line and my X plot so I can set
my line comma equal to X plot and then I
can change the line settings this way
and when I run this let me run that on
here you'll see the 5 10 15 10 creates a
series of dashes that are varied in
length Link in this case they alternate
between a short Dash and a long Dash and
we can play with these numbers curiosity
always has me what happens when you play
with the numbers just to see what they
look like let's do this and let's paste
this down here I'll do two of these just
because they're kind of fun to play with
and let's change this from 10 to 3 and
we're going to change this one from 15
to to 4. and let's run that and you can
see the differences in the lines oops
very a little bit confusing on there
because I forgot to change the lines are
all on top of each other so let me
change that really quick here and let's
run that and now you can see here's our
original dashed line alternating when I
change these numbers on the second one
the very end value to 3 you can see now
we have dashes of five let's see I'm
going to guess this is a dashes of five
skip ten dashes of 15 skip 3 and then it
goes back to the beginning dashes five
dashes skip 10 15 dashes skip three and
of course the last one we just switched
up a little bit it looks a lot more
uniform because I'm using two sets of
ten or if I did something like this and
changed it to 30 it really becomes
pronounced as far as the distances
between them and instead of four let's
go let's put 30 here also 30 by 30 there
we go really pronounced on that one and
let's look at one more important group
for plotting our data and in this we're
gonna here's our plot we started with
with the X Plus One X plus two X plus
three and did it in Blue on this one's
three or four different blue lines
and this property we want to add the
actual plots so you can see where the
plots are on the graph and for that we
might have marker equals o and if we run
this you'll see it puts a DOT for each
of these and there's 25 dots because we
have 25 x values so we actually have
zero in each of the different values of
X Y are then plotted here with the dots
and we don't want to just limit
ourselves to dots
can also do plus sign that's another
option dots is most common I'll actually
like the dots the best if we do the plus
signings here puts a nice crosshairs or
plus sign on there and we can do a
marker there's a number of different
markers you can use
and I think this one was it s is another
one which is a nice square and that's
actually a good one s for square o for
period okay that's just kind of weird so
you can see that probably on these
markers another one is the number one so
if we run that you'll see we now have
these little hatch marks and let's take
oh let's just go with the o on this one
by the way this works with square really
nicely some of the stuff we're going to
do here on just a second let's do Marker
size equals two
change that to five and run that and you
can see here it puts a nice little tiny
dot versus uh the size die here this is
interesting because it said two I
thought it would be bigger
but if you do 0.5 you can see even
smaller and let's just do 10 to see what
that looks like run that looks huge so
marker size a lot of these are dependent
on the DPI and the setup so there's
things that switch around as far as the
way the size shows up you got to be a
little careful when you change one
setting it can change all the other
markers and then let's take our Square
on here
and we'll do we have marker size so we
also have marker face we'll set that
equal to Red of course we're going to
take change the so it's up one notch
we'll run that whoops must have missed
type something on here and I did is
marker face color equals red and so when
I run that you can now see I have the
squares on there with the marker face
color of course we can mix and match
these come down here we'll make this
instead of this let's make this plus
seven and we'll make this size 15
marker face color equals and we'll do
what green just because there we go run
very hard to actually see what's going
on there still 25 dots they kind of
overlap as you can see they print them
over each other and of course if we
really wanted to make it look horrible
we could just make that really huge
generally though you'd want something a
little bit smaller and cuter we'll just
try doing it this way there we go that's
too small to even see the face so four
you start to see the face on there
around four and maybe on eight eight
might be a good number for this there we
go eight again that all just depends on
what you're trying to show on display so
we've covered a lot of stuff here as far
as our lines we've covered opaque with
our Alpha setting on there give us some
nice pastels you can see how they
overlap and how they cross over we
covered the line width different size on
there different formats for the line
itself and these are all you can combine
all these so you can have our line width
equals two line style equals she can
bring this down here also to the markers
and then we added markers in to standard
a circle a plus sign the square a little
tick which uses a one then we had a
marker size and a marker color face and
we combine those you see we get a nice
different series of representations we
also briefly mentioned color where you
didn't have to use like in here we used
color black someplace up here I'd have
to find it we use the actual number for
the color as opposed to I change them to
red and blue so you get very precise on
the color if you have very specific
color set that you need to match your
website or whatever you're working on
all of those are tools in the matplot
library so we have one more piece to
formatting the graph so we want to show
you and then we have two big sections
we're going to go over the different
graphs that they have along with a
challenge problem so let's go in the
last section we're going to look at is
limits we're going to limit our data so
this first parameter is going to paste
in there we're going to create our
subplots one two so one row two columns
we're going to do a figure size a 10
comma five this would all look familiar
now since we've done a number of them
and we're going to go ahead and plot and
this is an interesting notation you
should notice here our axis zero so one
we've used instead of you can just
iterate through them but they're just an
array so it's an array of zero is still
the axes of the first axis out of two
and we're going to plot x x squared x x
cubed line width two so we're going to
go ahead and just plot two graphs right
on top of each other without doing
multiple plots on here and we'll set the
grid equal to True one here let's go
ahead and run that and you can see here
are two plots with the x value going
across and I'm going to do something
similar and by the ways you can just if
you look at it you can see the Grid on
there that's all that is easier to spot
the data going across we're going to
take the same data for axes one so we
have our plot of x x squared x and x
cubed line with two and this time we're
going to take our axes one and do y
limit
it's actually set underscore y limit
this is the y-axis so it's going to be
an array of two two values and we'll do
zero comma 60. I'm just making these
numbers up the guys in the back actually
made them up I'm just using their
numbers and we're going to set the x
limit
and let's set the x limit as um don't
forget our brackets there 2 comma five
so it's the same data going in and but
we're setting a limit on it let's go
ahead and run that and let's see what it
comes out of and here we have the Y
limit 0 to 60. so we're looking at just
the lower part of this curve here up to
here and we have the X limit two to five
so that starts right here at 2 and you
can see very different graphs this is
kind of nice because you could actually
put one of these on top of the other if
you wanted to draw Focus to one part of
a graph remember how we did that earlier
one inside the other but just a quick
note you can easily limit your graph and
re kind of reshape the way it looks
quite easily and we can also add that
grid down there if you want a grid
run that and add the Grid in there oops
I guess you have to do the grid
beforehand
switch that there we go sometimes the
order on this is really important so you
may double check your order when you're
printing these things out it also if I
change it to one so in this case it
might not be the order I wonder if we'll
go back here as one there we go so it
doesn't matter the order and grid but
you can set the grid for easy viewing in
here nice setup on there but you can see
how we can limit the data so let's start
looking at some other 2D graphs and make
this cell a markdown so we run it as a
nice pretty title to it and let's go
ahead and create some data with an NP
array we'll do 0 to 5 on here there we
go and let's look at four common graphs
we'll put them side by side so we'll do
a figure our axes equals plot subplots
one four columns and then figure size
hopefully it'll fit nicely on here it
seems to do a pretty good on here and
I'll go and just run that since we're in
there run you'll see I have my four
blank plots on here
and we'll start with axes of zero the
set title
and we want this to be a scatter plot
a scatter plot just means it has a bunch
of dots on it so here's our axes of zero
scatter easy to remember scatter a bunch
of plots on there we'll do our in we can
do X or nope there and let's go ahead
and do axes set title scatter up already
did that we're just going to do scatter
that's how you do it on there notice how
you create a scatter plot with simply
with the scattered control and we'll do
let's do the variable X X Plus let's
throw some Randomness in here use these
Scatter Plots are have a lot of random
numbers connected to them that's why
they do them on there and so the bigger
the X gets the bigger the randomness so
0.25 times the randomness and what we
should end up down here is with the
scatter plot and you can see as you go
up it just kind of has some random
numbers and moves up and down the line
but plus just the points so if you
remember from back up here where we did
marker this is plotting basically just
the marker so it's a scatter plot
probably less used is a step plot so for
X is one we'll go ahead and do a step
plot so you can see what that looks like
and this time I'll use our n value
instead of X we generated that n value
up here and so for this we have n n
times 2 orn squared n times 2 N squared
line width equals two and if we run that
it creates a nice Step Up
let's see so we've got a scatter plot
we've got a step plot let's do a bar
plot
and we'll use the same formula N N
squared alignment centered because you
can have them left or right with 0.5 and
Alpha if you remember correctly that's
how opaque it is let's see what that
looks like on there so we have some nice
you can see here a nice bar plot it
should look very similar to the step
plot but color it in
and we can change the width let's see
what happens we do 0.9 run and if we
take width out completely
run that you can see it starts coming
together on there and we can change the
alpha we can take the alpha out too and
run that so now you have the solid
colors and if we take out the center
and run that everything you really can't
see the shift on here because that's
actually the default on this but these
are common settings for the bar graph
let me just put them back in there there
we go alignment center and Alpha now I
can't say I have used a step craft very
much there's certain other certain I
guess domains of expertise require a
step graph but the scatter plot and the
bar graph very common especially the bar
graph and we'll look at histograms here
in just a minute so I use histograms a
lot especially in data science but this
is nice if you have very concrete
objects somebody how many people are
wearing yellow hats that kind of thing
but if we're going to do that let's go
ahead and do the last one which I see a
lot more in the Sciences certainly using
the data science but more like for
mapping I saw publication on solar
flares and they're discussing the energy
and so filling in the graph gives it a
very different look so we're going to do
the fill between and it's just like you
think it'd be it's filled between but
with a underscore between them we'll do
x and x squared and x and x cubed and
we'll do color green and Alpha again in
case you had other data you want to plot
on there you can see it forms a nice
squared coming up here and also if you
look at the bottom one is your squared
value the upper line is your cubed value
and then it fills in everything in
between
if you remember from calculus this would
be if you had like a car a motor and
efficiency they would talk about the
efficiency going up and the loss and
you're looking for the space or the area
between the two lines so it gives you a
nice visual of that now let's look at a
few more basic two-dimensionals so we
have our figure figure size on here
we're going to do a radar chart to be
honest I've never used a radar chart in
business or in data science I have to
find a reason to use one now so the
first line for doing a radar chart we
have to add axes into the figure and
with this this actually creates our all
this let's run it so you can see what it
creates it creates a nice looks like
you're on a submarine and you're
tracking The Hunt for Red October or
something like that and it needs all of
these the polar is the fact that we're
doing polar coordinates 0 0.6.6 has to
do with the size if you take out any of
these things and run them you get just a
box if you take out the other half you
pretty much get nothing in there and if
you change these numbers and change them
a little bit you can see it gets bigger
they had 0.6 on here I'll go ahead and
leave it as one because that's just kind
of fun that's all about the size on here
the height and the width and then let's
create some data T equals NP line space
and this is 0 to 2 times NP times pi so
if you remember that is the distance
across and we're going to generate a
hundred points so this is just the thing
of data we're putting together let me
simply do an ax Dot Plot and in this
case let's do T comma T which would be a
diagonal line and a regular chart and
we'll give it a nice color equals blue
and line width equals three let's see
what that looks like and we can see here
a spiral coming out remember this would
be just a diagonal line on a regular
chart what happens if we take this and
instead of T times 0.5 there we go and
you can see it slightly Alters the way
it spirals out we could do T times two
spirals out a little quicker so it's
kind of just a fun like I said I've
never used a radar chart it's a column
but you can always think of radar under
submarine kind of looks like one of
those or on an airplane and none of this
would be complete if we didn't discuss
histograms oh my gosh do I use a
histogram so much and we'll use our
numpy that we have set as NP to generate
oh it looks like we have a hundred
thousand variables we're going to set
equal to n and of course we create our
figure and our axes from subplots one
two figure size 12 14. so we're going to
look at two different variations of the
histogram and we'll set a title default
histogram set our title there and then
this is simply hit for histogram and
we'll just go ahead and put in our n in
there and let me run this and see what
that looks like
and let's talk about what is going on
here so we generated an array here of
data 1000 random arrays it looks like
they're mostly between minus four and
four and then it adds up each one it
says zero you have 35
000 that are zero so that's what's most
common on here and we have 20 000 that
are somewhere in this range right here
between the minus two and well it looks
like one and minus two and somewhere
between zero and one there's thirty
thousand numbers so all this is saying
is this is how common these variables
are and this gives you this is a point
in so many directions when you're
looking at data science to go ahead and
run your histogram so you should always
have your histogram and you can always
put limits and all the other different
things on your rate just like you did on
the other graphs on there and then we're
going to do a cumulative detailed
histogram and all it is is a histogram
let me just do that
and we set cumulative equal to true
and bins equal 50. and I really want to
highlight the um the cumulative equals
true is important but we can now choose
how many bins we have in the first one
it kind of selected them for us in this
case let me go ahead and run this and
you'll see it has the prints the data
out for us and here's our whoops must
have missed oh there we go it doesn't
help that I put it over the old one
there we go okay
so now you have your default histogram
and now we have a cumulative histogram
and we should have 50 steps in there and
let's just find out if that's true not
So Much by counting them I'm not going
to count them if you want to you can
count them let's just change it to 10
and see what happens and we see here we
have now 10 counts of that
set that for five
and run that
and then we have our five on there and
we go ahead and take the cumulative
equals true out just so you can see what
that looks like and let me run that on
here too
that looks just like it did before I
think there's what one two three four
five six seven eight they have eight
different bins on here is what the
default came out of
put that back in there run and so now it
should look almost identical and it does
and then we can put the cumulative back
in see what that looks like with the
cumulative
and run that
and we can see how that shifts
everything over and has a slightly
different look wait it shifts it all to
the right no it doesn't actually shift
it to the right it's cumulative so it's
the total of the different currencies
and so what that means is like if you
consider this like for the year of
rainfall we have like day one you had a
little bit of rain day two we have more
rain and so if you look at the number
this is a hundred thousand thirty five
thousand so it's a cumulative detail the
histogram the currents as it grows and
rainfall is a good one because that
would be a cumulative histogram of how
much rain occurred throughout the year
and we're going to look at two more
graphs we've already looked at a bunch
of them we looked at our radar graph
we've looked at scatter step bar fill in
basic plots we've looked at different
ways of showing the data and we can
increase the size of the line the look
the color the alpha setting
so let's look at contour maps just put
that in there there we go draw a contour
map and before we draw a contour map we
need to go ahead and create data for it
and if you have Contours your data is
all going to have three different values
so let's go ahead and create the data
here we have our you'd import your
matplot library your numpy so we have
our numbers array
I will import
metplot.cm and that's your color Maps so
you have all these different color maps
you can look at there's like hundreds of
color Maps so if you don't want to do
your own color you need to do your own
color map they're pretty diverse and of
course our PLT we're going to our PI
plot and to generate our different data
we're going to create a Delta 0.025 and
we'll start with X and we're going to
create an array between -3 and 3 and
Delta increments of 0.025
and we'll have our y we'll do something
similar and then we'll create our X Y
into a mesh grid again these are all
numpy commands so if you're not familiar
with these you'll want to go back and
review our numpy tutorial and we'll do
an exponential on here minus x squared
minus y squared for our Z1 we'll do a Z2
so we have two different areas and Z
equals z of one minus Z2 times 2. so
we've created a number of values here
and let me go ahead and run this and
let's plug that in so you can see where
those values are going so once we've set
these we're going to create our figure
and our X from our PLT subplots we're
going to create the variable Cs and this
is going to be our Contour so right here
CS is our Contour surface and we're
feeding it X Y and Z if you remember X Y
we created as our X and Y components
using our mesh grid and you know what
let's do this just because it's kind of
good to see this let's go ahead and
print X and let's print Y and I always
like to do this when I'm working with
something this either is really
complicated in this case is what we're
looking at or you don't understand yet
so we've created a mesh grid we have x y
and when we're done with this we end up
with here's our X
and this set of values in our y so those
are X and Y coordinates and then we've
also created Z based on our X and Y so
we have x capital x capital Y and
capital Z is our three components X and
Y being the coordinates well Z is going
to be our actual height since we're
doing a contour map so we created our
contour map from our X Y and Z
coordinates and we want to go ahead and
put in a c label maybe we want to go
ahead and do an title on here
we'll put that in our set title and this
is a contour there we go contour map and
let's go ahead and run this and see what
that looks like
and you'll see we generated a nice
little contour map there's different
settings you can play with on this but
you can picture this being you're on a
mountain climb and here we have a line
that's represents zero maybe at sea
level and then moving on up you have
your Contours of 0.5 and then minus one
and different setups little Hills I
guess if it's minus that's like a pit so
I guess you're going down into a pit at
minus five and minus one but on the
other side you can see you're going up
in levels so here's a Mountaintop and
here's like a basin of some kind and in
data science this could represent a lot
of things this could also be
representing two different values and
maybe profits and loss I don't know if
I'd ever really do that as a contour map
but I'm sure you could be creative and
find something fun to do with a contour
map and then we're going to look at one
last map which is the 3D map and those
are can be really important as a final
product because they can show so much
additional information that you can't
fit on two-dimensional graphs
there we go draw a 3D image and so we're
going to import from our MPL toolkits
the implant 3D and the axis 3D we're
going to import axis 3D this is what's
going to let us work with the 3D image
and this should look familiar we're
going to create another figure just like
we did before figure size 14 by 6 that's
a good fit on the screen we'll go ahead
and run that so we have our figure and
let's go ahead and take our X and we're
going to set that equal to Fig dot add
subplot that should also be familiar
from earlier and we're going to work
with this sets the settings for the
projection we're going to use one two
one projection 3D and we'll see what
that looks like in just a minute and we
just created some three-dimensional data
here before where we had X Y and Z
capital X Y and Z so we're going to
reuse that data we're just going to use
that since this also this is also a
three-dimensional image so let's use
that for a three-dimensional graph and
we simply do ax plot underscore
surface and a capital x capital y
capital Z so there's our data coming in
and we're going to add some settings in
here we're going to do R stride 4 C
stride 4 and line width 0. I'll show you
what that is here in just a minute let's
go ahead and run that so we can see our
graph and of course it helps if I don't
add an extra comma in there and you can
see it generates this really beautiful
three-dimensional graph
so let's take a little bit time to
explore some of these numbers we have
going in here
we have the r stride 4 the C stride four
and the projection 3D projection 3D is
the important one because that's telling
us that this is a 3D graph here
so what are these first numbers one two
one let's just change one of these I'm
going to change this to five
and it's going to give me an error let's
change it to 1.
and oops that didn't work let's change
this middle one to three instead and
you're going to see how it starts
reshaping the size and how it fits on
the screen and we'll change the first
one to two and we'll run that one and
again it's changed the dimensions and
the size and how it fits on here play
with these numbers to get a nice look
and feel for it part of it is the Tilt
and the angle
we'll do seven on this one
there we go you can see it really
shifted it there
but again that changes the size now it
fits on the canvas but we'll leave it at
the one
two and just so you get a good look at
what we're talking about here this is
column width and index from before
if we do one one one you can see that it
now spreads it out all the way across
uses the whole setup on there so this
has to do with the size and how big you
want it to be now there's one term that
we didn't cover in this yet but we've
used it throughout the whole setup
and I'm just going to type that down
here even though we're not going to go
into detail and that's the term heat map
you might see that is kind of starting
to lose ground as far as a common
reference but there sure are a lot of
people still talking about heat Maps
what is a heat map well it is simply a
color map that's all it is so if you
ever see the term heat map
that refers to the fact this is in
different colors representing different
heights
that one is in the heat map but you can
see up here we switched into let me go
back up here here we go this one has
different colors for the different
values a lot of times you'll use like
instead of X and Y you might do a heat
map
where you have a fourth value and the
fourth value represents the color and so
you'll see this 3D image into nice
colors represented by heat map that's
all it is so if you see the term heat
map that only means we're plotting some
of the data in color to make it stand
out or to give it a fourth dimension in
this case
so we've covered a lot of things on
matplot and that brings us covered all
the basics so that brings us to practice
example and this is going to be the
challenge for you and let me go ahead
and change our cell cell type mark down
and run that so it looks pretty
practice example write a Python program
to create a pie chart of the popularity
of programming languages
okay excellent and if you're going to
have a challenge we need some data and
I'll just throw in our import our
matplot library at the beginning you
should do that automatically and so for
our data to plot we're going to have our
languages we're going to have python
we're going to have Java PHP JavaScript
c-sharp C plus plus so those are six
categories and then we have our
popularity oops misspelling there
popularity we'll give the first one 22.2
percent Java 17.6 and I don't know if
these are real numbers they pulled my
guess is that they might have just been
made up because I don't know if Python's
really that much more popular than the
other ones maybe specific to data
science because Python's very popular in
data science right now because it has so
many options the only other program
that's highly used and exclusively for
data science is are so Python's big and
python also does a lot more it's a full
programming language where R is
primarily for data science they didn't
even put R in here so we have python we
have Java we have our PHP and you can
see the different values they've given
it or different percentages
and I did add these up does not add up
to 100 it adds up to 71 percent or
something like that
and then we're going to give colors and
we've chosen these guys in the back
brought in these colors I'm not sure
what these colors are we'll find out in
a minute so I'll be exciting but you can
see they're using the actual color
values you can pull off of a color wheel
or something like that it could have
just as easily done blue red green if
you're too lazy to pick the exact colors
and then let's go ahead and solve this
and see we got here we're going to do
something a little fancy just because we
can the first thing we're going to do is
we're going to use a variable called
explode and you'll notice that there's
six variables in here so that matches
our six different categories and the
first one we've done is 0.1 and then
zero zero zero zero zero point one when
we put this in here under the explode in
the plot it will actually push that
square out so it's a really cool feature
to highlight certain information on a
pie chart
and this is simply PLT dot pi and we're
plotting
popularity there we go and before we add
in all the really cool settings for this
let's go ahead and run it and you'll see
we generate a nice flat pie not too
exciting there and then we'll go ahead
and put in all the extras I talked about
explode or we can explode one of the
values out so here's our explode equals
explode labels as languages because we
want to know what the different colors
mean here's our colors equals colors our
Auto picture and this is standard print
format so that's a python setup on there
and that's just going to put the value
on the pi slice and then we're going to
add Shadow because it just looks cooler
with a shadow gives a little 3D look and
we'll do a start angle of 140. let's go
ahead and run this and take a look and
see what comes out of that
and look how that changes the whole
setup so here's our labels there's our
value we put on there there's our slice
it's pushed out there's our shadow a 3d
effect and then we started at 140. we
could also rotate this let's just do
this angle 90.
and if we run it
you'll see the blue pie slices moved up
a little bit we could actually do
actually let's just take the whole
starting triangle out and run he'll
default to zero
this is what it looks like if it
defaulted to zero so depending on where
you want the highlighted slice to appear
usually you want that to appear on the
left because people read left to right
and so it draws a focus onto in this
case Python and how great python is I'm
a little biased we're teaching a Python
tutorial so it should be understandable
that we're looking at Python and one
last reference before we close you can
go over to the matplot library.pi plot
setup and if you go underneath there the
different functions on there you can
look this up on their website you'll see
a full list and this is why it's so
important to go through a tutorial like
this because this list is just so
massive I'm trying to figure out like
here's our bar plot there's a bar H you
can add barbs there's a box plot we
didn't cover C labels a totally
different kind of for your Contour plot
you can set up in there if you go down
here we have our figures we used on
there we showed you the basics how to do
the figure you'll see some closer
references on those there's a histogram
down here hist there's also the hist 2D
makes a 2d histogram plot H lines all of
this these are all the different
commands that are underneath of here and
you can see it's pretty extensive we've
covered all the basic ones so that you
know have a solid ground to look at
these different options so when you come
to these functions some of them are
going to look a little off or not off
will look unfamiliar but you'll still
have the availability to probably
understand most of this and have a basic
understanding of your matplot library
choose from over 300 in-demand skills
and get access to 1 000 Plus hours of
video content for free visit skillup by
simply learn click on the link in the
description to know more let's go ahead
and open up another Python 3
setup in here
and so we want to explore what happens
when you want to display this this is
where it starts getting in my opinion a
little fun because you're actually
playing with it and you have something
to show people and we'll go ahead and
rename this we're going to call this uh
pandas and Pi plot
so pandas pipelot just so we can
remember for next time and we want to go
ahead and import the necessary libraries
we're going to import pandas as PD now
remember this is a data frame so we're
talking rows and columns and you'll see
how pandas work so nicely when you're
actually showing data to people and then
we're going to have numpy in the
background numpy works with pandas so a
lot of times you just import them by
default
Seaborn sits on top of the matplot
library so sometimes we use the Seaborn
because it kind of extends it's one of
the 100 packages it extends the matplot
library probably the most common used
because it has a lot of built-in
functionality almost by default I
usually just put Seaborn in there in
case I need it and of course we have
matplot Library as pipelot as PLT and
note we have as PD as NP as SNS as PLT
those are pretty standard so when you're
doing your Imports I would probably keep
those just so other people can read your
code and it makes sense to them that's
pretty much a standard nowadays
and then we have the strange line here
it says ambersign matplot Library inline
that is for Jupiter notebook only so if
you're running this in a different
package you'll have a pop-up when it
goes to display the matplot library you
can with the most current version of
Jupiter usually leave that out and it
will still display it right on the page
as we go and we'll see what that looks
like
and then we're going to go ahead and
just do the Seaborn the sns.set and
we're going to set the color codes
equals true let them just keep the
default one so we don't have to think
about it too much
and we of course have to run this the
reason we run this is because these
values are all set if we don't run this
and I access one of these afterward
it'll crash
the cool thing about Jupiter notebooks
is if you forgot to import one of these
you forgot to install it because you do
have to install this under your anaconda
setup or whatever setup you're in you
can flip over to Anaconda and run your
install for these and then just come
back and run it you don't have to close
anything out
and we'll go ahead and paste this one in
here real quick where we have car equals
PD dot read underscore CSV
and then we have the actual path
this path of course will vary depending
on what you are working with uh so it's
wherever you saved the file at and you
can see here I have um like my OneDrive
documents simply Learn Python data
analytics using python slash car CSV
it's quite a long file
when we open that up what we get is we
get a CSV file and we have the make the
model the year the engine fuel type
engine horsepower cylinders and so on
and this is just a comma separated file
so each row is like a row of data think
of it as a spreadsheet
and then each one is a column of data on
here and as you can see right here it
has the make model so it has columns for
a header on here
now your pandas just does an excellent
job of automatically pulling a lot of
this in so when you start seeing the
pandas on here you realize that you are
already like halfway done with getting
your data in I just love pandas for that
reason numpy also has it you can load a
CSV directly into numpy but we're
working with pandas and this is where it
really gets cool is I can come down here
and I can print remember our print
statement we can actually get rid of it
and we're just going to do car head
because it's going to print that out the
head is going to print the top values of
that data file we just ran in
and so you can see right here it does a
nice printout it's all nice and in line
because we're in Jupiter notebook I can
scroll back and forth and look at the
different data and just like we expected
we have our column and it brought the
header right in
one thing to note is the index it
automatically created an index 0 1 2 3 4
and so on and we're just looking at the
head so we got 0 1 2 3 4.
you can change this you might want to
just look at the top two
we can run that there's our top two BMWs
another thing we can do is instead of
head we can do tail
and look at the last three values that
are in that data file and you can see
right here it numbered them all the way
up to
11913. oh my goodness they put a lot of
data in this file I didn't even look to
see how big the file was so you can
really easily get through and view the
different data in here when you're
talking about Big Data
you almost never just print out car in
fact let's see what happens when we do
if we run this and we just run the car
it's huge in fact it's so big that the
pandas automatically truncates it and
just does head plus tail so you can see
the two
um so we really don't want to look at
the whole thing I'm going to go back to
let's stick with the head
displaying our data there we go so
there's a head of our data it gives us a
quick look to see what's actually in
there I can zoom out if we want so you
can actually get a better View
although we'll keep it zoomed in so you
can see the code I'm working on
and then from the data standpoint we of
course want to look at um
data types what's going on with our data
what does it look like now this you know
you show your when you're talking to
your shareholders they like to see these
nice easy to read charts they look like
a spreadsheet so it's a nice way of
displaying pieces of the chart
when you talk about the data types now
we're getting into the data science side
of it what are we working with well we
have make model we have an integer 64
for the year engine fuel type is an
object if we go up here you can see that
there most of them are
like you know it's a set manual rear
wheel drive so they might be very
limited number of types in there
uh and so forth and you'll it's either
going to be a float64 an integer or an
object is the way it's going to read it
on here
and the next thing you're going to know
is like your columns
and since it loaded the columns
automatically we have here the make the
model the year the engine the size all
the way up to the MSRP
and um
just out of something you'll see come up
a lot is whenever you're in pandas and
you type in dot values it converts it
from a panda's list to a numpy array
and that's true of any of these so then
you end up in a numpy array so you'll
see a little switch in there in the way
that the data is actually stored and
that's true of any of these
in this case we want car dot columns
they have a tool list of your car
columns
and like any good data scientist we want
to start looking at analytical summary
of the data set what's going on with our
data so we can start trying to piecemeal
it together so we can do car
uh describe
and then we'll do is we'll do include
equals all
so a nice Panda command is to describe
your data
if you're working with r this should
start looking familiar
and we come down here and you can see
count there's a make the model of the
year how many of each one how many
unique values of each one the top value
of each one what's most common the
frequency the mean clearly on some of
these it's an object so it really can't
tell you what the average is it'd just
be the top ones the average I guess
the year what's the average year on
there all this stuff comes down here
your standard deviation your minimum
value your maximum value what's in the
lower quarter fifty percent Mark where's
that line at and what's in the upper 75
percent the top 25 percent going into
the max
now this next part is just cool this is
what we always wanted computers be back
like in the 90s instead of 5 000 lines
of code to do this maybe not five
thousand all right I built my own plot
Library back in 95 and the amount of
code for doing a simple plot was um
I don't know probably about 100 lines of
code this is being done in one line of
code we have our car which is our pandas
we generated that it's our data frame
and we have dot hist for histogram that
is the power of Seaborn now it's still
going to generate a numpy graph but
Seaborn sits on top and then we can do
the figure size this is just um so it
fits nicely on the paper on here and we
do something simple like this and you
can see here where it comes up it does
say matplot library and does subplots
and everything
but we're looking at a histogram of all
the different pieces in our database and
we have our engine cylinders that's
always a good one because you can see
like they have some that are they had a
null on there so they came out as zero
maybe a couple maybe one of them had a
two cylinder engine away back when four
is a common uh six a little less common
and then you see the eight cylinder 12
cylinder engines whether it's got to be
a Speedster or something
uh but you can see right here just
breaks it down so now you have how many
cars with how many whatever it is
cylinders horsepower and so on and it
does a nice job displaying it
you can see if you're working with your
uh um you're going into your demo it's
really nice just to be able to type that
in and boom there it is it can see it
all the way across
and we might want to zero in and use
like a box plot and this time we'll go
ahead and call the um Seaborn SNS box
plot and we're going to go ahead and do
vehicle size in versus engine horsepower
XY plot and the data comes from the car
so if we run this we end up with a nice
box plot
you see our mid-size Compact and large
you can see the variation there's our
outlier showing up there on the compact
that must be a high-end sports car a
large car might have a couple engines
and again we have all these outliers and
then your deviation on them
very powerful and quick way to zero in
on one small piece of data and display
it for people who need to have it
reduced to something they can see and
look at and understand and that's our
Seabourn box plot or sns.box plot
and then if we're going to back out and
we want a quick look at what they call
pair plotting we can run that and you
can see with the Seaborn it just does
all the work for you
uh it takes just a moment for it to pull
the data in and compile it
and once it does it creates a nice Grid
in this grid if you look at this one
space here which is you might not be
able to see the small number it says
engine horsepower this is engine
horsepower uh to the year was built and
it's just flipped so everything to the
right of the middle diagonal is just the
rotation of what's on the left and as
you expect the engine horsepower gets
bigger and bigger and bigger as time
goes on so the the year was built the
further up in the year the more likely
you are to have a heavy horsepower
engine
and you can quickly look at trends
with our pair plot coming up and look
how fast that was that was it took a
couple moment to process but right away
I get a nice view of all these different
information which I can look at visually
in in kind of see how things group and
look
now if I was doing a meeting I probably
wouldn't show all the data
one of the things I've learned over the
years is people myself included love to
show all our work you know we were
taught in school show all your work
prove what you know the CEO doesn't want
to see a huge grid of graphs I guarantee
it so we want to do is we want to go
ahead and drop
um the stuff that might not be
interested in and we're gonna I'm not
really a car person a guy in the back is
obviously so you have your engine fuel
type we're going to drop that we're
going to drop Market category vehicle
style popularity number of doors vehicle
size and we have the axes in here if you
remember from numpy we have to include
that axis to make it clear what we're
working on that's also true with pandas
and then we'll look at just the what it
looks like um from the head
and you can see that we dropped out
those categories and now we have the
make model year and so forth and we took
out the engine fuel type Market category
Etc
and this should look familiar to you now
when you start working with pandas I
just love pandas for this reason look
how easy it is it just displays it as a
nice spreadsheet for you you can just
look at it and view it very easily it's
also the same kind of view you're going
to get if you're working in spark or Pi
spark which is python for spark across
Big Data this is the kind of thing that
they they come up with this is why
pandas is so powerful
and we may look at this and decide we
don't like these columns and so you can
go in here and we can actually rename
the columns
simple command car equals car rename
columns equals engine horsepower equals
horsepower this is just your standard
python dictionary
so it just Maps them out and you know
instead of having like a lengthy here we
had engine horsepower we just won
horsepower we don't need to know it's
the engine horsepower
engine cylinders we don't need to know
that it's for the engine because there's
only one thing we're describing if we're
talking about cars and that cylinders
and we'll go ahead and just run this and
again here's our car head and you can
see how that changed we have model year
and horsepower versus model year engine
horsepower engine cylinders and just
cylinders
again we want to keep reducing this so
it's more and more readable the more
readable you get it the better and of
course we can also adjust the size a
little bit
so that when it prints out instead of
splitting it on two lines we get like a
single line we can do that also that's
just your control Mouse app or plus sign
you use in Chrome that's a chrome
command
and if you remember from numpy we had
shape well pandas works the same way we
can look at the shape of the data so we
now have 11 914 rows and 10 columns so
you'll see some similarities because
pandas is built on numpy
and questions that come up just like you
did in numpy we might want to know
duplicate rows and so we can do car and
look at this switch here
um we're doing a selection this is a
panda selection with the brackets
but we want to select it based on
car.duplicated so how many duplicates on
there
so it's starting to look a little bit
different as far as how we access some
of the data in here this can be a
logical statement and we get the number
of duplicate rows we have 989 rows by 10
columns again
and this is one of those troubleshooting
things that we end up doing a lot more
than we really feel like we should we
might go ahead and do like a car count
just to see how many rows we're dealing
with and then right after that we might
want to go ahead and say hey let's drop
duplicates so remember we did all the
duplicates on there so car equals car
dot drop duplicates and then we can
print the head again we'll just do car
head here and you can see the data on
there looks the same as before
and just note that we did car equals car
draw duplicates there are commands in
here where you can do where it changes
the actual value and it works on some of
them and not on others depending on what
you're doing but by default it always
returns a copy so when we do this we're
reassigning it to car
and you can see it's the same header but
we want to go ahead and do count and see
how the count changes let's go ahead and
run this and you can see here instead of
11 914 we have 10 925. so we've removed
about a hundred cars that were
duplicated just slightly under 100 there
and then as we're prepping our data we
might want to know
um car has no so it's going to count the
values of null and then we want to sum
that up and when we do that we do the
car is null function dot sum we end up
with HP the horsepower 69 have null
values and 30 have cylinders have no
values now if you don't put the sum at
the end it's just going to return a mask
with the true false of is it null or is
it not by the zero and one so you're
summing up the ones underneath each
column
and this of course then you have to
decide what you're going to do with the
null values there's a lot of different
options it might be that you need to put
in the average or means
maybe you want to put in the median
value there's a lot of different ways to
fill it usually when you first start out
with the data a lot of them you just
drop your null values and you can see
here car dot drop in a
which is equal to all and then we're
going to go ahead and count it and you
can see that we've dropped almost
another 100 values so from 10 1925 to 10
8 27.
and maybe 75 or so values
so we cleaned that this is really a big
part of cleaning data you need to know
how to get rid of your null values or at
least count them and what to do with
them
and of course if we go back to um
counting our null values we should now
have null null values there we go and
you'll see there's zero null values
I don't know how many times I've been
running a model that doesn't take null
values and it crashes and I just sit
there and look at it trying to get why
did that crash it should have worked
it's because I forgot to remove the null
values
so even jumping around a lot we're going
to go back to finding outliers and let's
go ahead and bring that back into our
Seabourn and if we remember we did a box
plot earlier this time we're going to do
a box plot just on the price and you can
see here our price value
and we have the deviation with the two
thinner bars on each side of the main
value and then as we get up here we have
all these outliers in fact we have one
way out here that's probably a really
expensive high-end car is what we're
looking at
if you were doing fraud analysis you
would be jumping on all over these
outliers why are these deviation from
the standard what are these people doing
again this is probably like I said a
really high-end expensive car out here
that's what we're looking at and we can
also look at the box plot Pro for the
horsepower
and we'll put that in down here
and run that
and you can see again here's our
horsepower and it just jumps and there's
these really odd huge muscle cars out
here that are outliers
and we're going to jump into making this
a little bit more as you started
displaying your data or your information
to your shareholders we're going to look
at plotting a histogram for the number
of cars per brand
and the first thing we want to go ahead
and do is we have with our car go back
over here here we go we have our make
value counts largest plot and we want to
do a kind equals bar
uh fig size 10-5
and right off the bat we jump up here
and we see Chevrolet it's going against
what was it it's um figure resolution
the value counts and we want the largest
value so here's our value counts and
compared to what the different cars are
Chevrolet puts out a lot of different
kinds of cars I didn't realize that they
made that many cars or different types
and then for readability let's go ahead
and add a title number of cars by make
number of cars and make if you looked at
this the first time you would have been
like well what the heck am I looking at
well we're looking at the number of cars
by make and then you can see here now
we're talking about the type of cars and
the different ones are put out Lotus I
guess only had a few different kinds of
cars over there very high-end cars
and then as uh doing data analytics and
as a data scientist one of the things I
am most interested in is the
relationship between the variables
so this is always a place to start we
want to know what's going on with our
variables and how they connect with each
other
so the first thing we're going to do is
we're going to go ahead and set a figure
size because we want to make sure it
fits our graph we'll just go ahead and
set this one plot Figure Set to figure
size 2010. if you never use the matplot
library which is sitting behind Seabourn
whatever is in the PLT this is what's
loaded it's like a canvas you're
painting on so the second you load that
Pi plot as PLT anything you do to that
is affecting everything on it
and then we want to go ahead since we're
using Seabourn
we'll go ahead and create a variable C
for relationships or correspondence
and car dot c-o-r-r that's a correlation
in Seaborn on top of pandas again one
line and you get the whole correlation
on there and because we're working with
Seabourn let's put it into a nice heat
map if you're not familiar with heat
maps that means we're just using color
as part of our
setup so we have a nice visual
and we can see here that the Seaborn
connected to the pandas prints out a
nice chart
we'll talk a little bit about the color
here in a second it prints out a nice
chart this is a chart I look at as a
data scientist these are the numbers I
want to look at and we'll just highlight
one of them here's cylinders versus
horsepower the closer to one the higher
the correlation so 0.788 pretty high
correlation between the number of
cylinders and how heavy the horsepower
is
I'm betting if you looked at the year
versus horsepower we just look at that
one here's year and horsepower 0.314 not
as so much but if you combine them you
don't actually add them but if you
combine them you'll start to see an
increase in Horsepower per year and
cylinders you could probably get a
correlation there and just like 0.78 is
a positive correlation you might notice
if we look at cylinders
and or let's look at horsepower and
mileage so if we go here to horsepower
to mileage you get a nice negative we'll
do cylinders that's a bigger number
with cylinders to the miles per gallon
it's a minus 0.6 so it's a negative
correlation the closer to -1 the more
the negative correlation is
and then the chart you would actually
show people is a nice heat map this is
all our colors and it's just those
numbers put into a heat map the darker
the color the higher the correlation you
can see straight down the middle
obviously the year correlates strictly
with the year horsepower with horsepower
and so on that's why it's a one the
closer to the one the higher the
correlation between the two pieces of
data
now this is a good introduction pandas
goes Way Beyond this most the
functionality in numpy since pandas sits
on it is also in pandas and then it even
has additional features in it and we use
Seaborn pretty extensively sitting on
top over our pie plot so keep in mind
that our PI plot has a ton of other
features in it that we didn't even touch
on in here we couldn't even if you had a
sole course in it there's just so many
things hidden in there depending on what
your domain you're working on but you
can see here here's our Seaborn and
here's our matplot library that's all
our Graphics that we did and then the
Seabourn works really nicely with the
pandas we really like that
in this video we are going to perform a
really interesting data analysis using
python on the Spotify music streaming
service platform data set
I'll also be asking you a few questions
related to Spotify during our discussion
please make sure to answer them in the
comment section of the video
so now let's get started
Spotify distributes audio streaming and
media services provider founded in April
2006.
it is the world's largest music
streaming service provider and has over
381 million monthly active users which
also includes 172 million paid
subscribers the total number of
downloads on the Spotify app in the
Android store exceeded 1 billion in May
2021
so millions of people listen to music
all day even I am hooked to music as an
analyst what's better than exploring and
quantifying data about music and drawing
valuable insights before I move ahead I
have a quiz question for you people
the name Spotify comes from a
combination of two words so which are
those two words please let us know your
thoughts in the comments section below I
would like to repeat the question again
the name Spotify comes from a
combination of two words so what are
those two words we would love to hear
from you so please put your answers in
the comment section below
now let's use Python libraries and
functions to analyze and visualize our
data set
first I'll show you the two data sets
that we'll be using
so here is the first data set that we'll
be using for our demo and then I have my
second data set called Spotify features
which is essentially about the genres of
the different soundtracks
now these data sets have been downloaded
from kegel.com now the Links to the
datasets have been provided in the
description box please go ahead and
download them now let me just go ahead
and brief you about the columns that are
present in our first data set which is
about tracks we have our column A which
is ID this is the unique ID for each of
the songs then we have the name column
which is essentially the name of the
song then we have a column for
popularity
so the popularity ranges from 0 to 100
then we have duration in milliseconds
this is the duration of the track in
milliseconds next we have a column
called explicit now we are not bothered
about this column because we are not
going to use it in our analysis
then we have artists so the name of the
artist who has composed or sung the song
then we have ID of the artist then we
have a column for release date which is
basically the date on which the song was
released then we have a column for
danceability so this describes how
suitable a track is for dancing based on
a combination of musical elements such
as Tempo Rhythm stability beat strength
and overall regularity the value ranges
between 0 and 1.
next we have a column for energy so the
energy is a measure between 0.0 to 1.0
and represents a perceptual measure of
intensity and activity typically the
energetic tracks field fast loud and
noisy higher the value the more
energetic is the sum
then we have a column for key so key is
the pitch notes or scale of song that
forms the basis of a song there are 12
Keys ranging from 0 to 11
moving ahead we have loudness so the
overall loudness of the track in
decibels it ranges from minus 60 to
0 decibels
then we have mode
so songs can be classified as measure
and minor 1.0 represents major or one
represents major and 0 represents minor
next we have
speechiness so speechiness recognizes
the presence of spoken words in a track
more exclusive speech like the recording
example talk show audiobook or poetry
the closer to 1.0 the attribute value
then we have a column for
the cost thickness
so a confidence measure of 0 to 1 of
whether the track is acoustic or not so
1.0 represents high confidence the track
is acoustic then we have other
information about
instrumentalness
then we also have a column for
liveness so liveness detects the
presence of an audience in the recording
then we have a column for valence so
balance is a measure between 0.0 to 1.0
and describes the musical positiveness
conveyed by a track or a song
and finally we have
The Columns for Tempo and time signature
now
even in the second data set you have
almost the same columns just that we
have an additional column that is about
the genre of the songs present in the
data set cool now let's head over to our
interpreter notebook and we'll start
with our analysis
okay so one more thing to remember our
data has information from
1922 onwards so all the songs from 1922
till 2021
could
okay so I am on my jupyter notebook so
you can see I have a few cells that have
already been filled up
so we'll start with our analysis first
of all let's go ahead and import the
necessary libraries so I am importing
numpy pandas matplotlib and c bond for
my analysis and visualization I'll hit
shift enter to import the libraries all
right and in the next cell I'm going to
load my data set using the pandas read
underscore CSV function I have my
location already
put here let me show you the location
where the data files or the data sets
are located so this is my location under
Chrome downloads I have a folder called
Spotify datasets
okay
so let's import and
set the first five rows in the data set
so for that I've used the head function
there you go so here you can see I have
my first five rows of information from
the data set and on the top you can see
the different columns you have IDE name
popularity
artist
then we have the release date
danceability energy key loudness
liveliness or liveness
balance Tempo and other information
cool
now
let's check for null values in the data
set I'll just give a comment as
null values
every time when you download a data set
from an open repository there are
chances that the data set would contain
null values so it's better to check them
beforehand
so I am going to use the is null
function present in the pandas Library
PD I'm using because I had imported
pandas SPD
so PD dot is null then I'm going to use
the variable name DF underscore tracks
because I imported my data set and
stored it in the variable DF underscore
tracks so I have my data frame under
DF underscore tracks variable
and then I'll use the sum function to
check the total number of null values
present in the data set for each of the
columns if I run it there you go
so here you can see my name column has
71
missing values or null values and we
don't have any null values for the rest
of the columns
okay
now let's use the info method that will
give us the total number of rows and
columns in the data set and we'll also
check the data types and the memory
usage so I'll see
my data frame name that is DF underscore
tracks dot info
parallel it
you can see here
if you mark there are total 5 lakh 86
601 names or
the names of the songs present in the
data set while the rest all have 5 lakhs
86 672 so clearly there are total 71
song names or soundtracks missing from
our data set
and Below you can see the data types
where float integer and object and then
you can see the memory usage
cool
now before I move ahead with our next
analysis I have another question for you
which artist or musician has the most
number of follows on Spotify I repeat
which artist or musician has the most
number of followers on Spotify please
put your answer in the comment section
below we would be happy to hear from you
now let's
move ahead and do our first major
analysis in this demo we are going to
find the 10 least popular
songs present in the Spotify data set so
I'll create a variable called sorted
underscore DF
that will be equal to my data frame name
that is DF underscore tracks dot I am
going to use the sort underscore
values function and say
my column name is popularity
so I am going to sort the values based
on the
popularity and then say
ascending equal to true
since I want
only the least popular songs
and then
I'm going to say head of 10 which means
I want the top 10 least popular songs
now let's go ahead and print sorted
underscore here
if I run it you can see
we have the list of
10 least popular songs on Spotify you
can see that popularity is zero
and you can see the names of the songs
some of them are
songs which are not an English language
and you can see the artist names as well
cool
now moving ahead
let's see some descriptive statistics
for the numerical variables that are
present in our column so I'll see DF
underscore tracks dot describe
which is the function to get some
descriptive statistics and I'm going to
use the transpose function after that
if I run it there you go so we have the
statistics about count mean standard
deviation
minimum value 25th percentile 50th
percentile 75th percentile and the
maximum value for these columns like
popularity duration in milliseconds then
we have energy key loudness mode
cool but if you see this
popularity column the minimum value is 0
and the maximum value is
100 and you can see the 15th percentile
is 27 which is essentially the median
you have the standard deviation as
18.37 then similarly you can check for
the other features as well
cool
now
we'll see the
10 most popular songs which are greater
than 90. so we are going to check for
the top 10 songs with popularity greater
than 90 let me show you how to do it
so in this cell I am going to create a
new variable called most popular
and I'll say DF underscore tracks dot
this time I am going to use the
query function that is part of pandas
Library again
I'll use the
column that is popularity and we'll set
the condition popularity should be
greater than 90 I'll give a comma and
say
in place equal to false because I don't
want to change my original data frame
and then I'll say
sort underscore
values
and I'm going to sort it based on
popularity
in
descending order so I'll say
ascending equal to false
and then let's
take only the
top 10 popular songs so I'll say most
popular U square brackets
use square brackets and
will then pass the slicing operator and
say colon 10
now if I run this there you go
so here you can see the
10 most popular songs that is present in
our Spotify data set first we have
features by Justin Bieber
Daniel Caesar and give on then we also
have a song name called driver's license
astronaut in the ocean
save your tears we also have the
business streets and heartbreak
anniversary
so these are the most popular songs that
are present in our data set based on the
popularity you can see Peaches has the
highest popularity with 100.
all right now moving to the next cell
so here we are going to set the index to
be release date column in the main data
frame so I am setting my index using the
set underscore index function I have
passed in my column name as release date
and I am saying increase equal to True
which means I want to change it in my
original data frame and then I'm
changing the value to date time format
and let's print the head of the
data set so you can see here we have
successfully changed our index now here
you can see instead of 0 1 2 3 we have
the release date column and the rest of
the columns are intact
cool
now let's move ahead
so suppose you want to check the artist
at the 18th Row in our data set you can
use the index location method for that
let me show you how to
filter only specific rows of information
from the data set I'll use my data frame
DF underscore tracks and using double
square brackets I'll say
my column name which is artists
and I'll use the index location method
and say let's say I want to check the
artist who is present
in the 18th Row in my data set so I'll
use ilock 18 if I run it the artist's
name is
with the voucher
cool
now let's move ahead we are going to
convert the duration in milliseconds to
just seconds
so
if you see our data set we have a column
called duration in milliseconds so all
our songs are present in milliseconds
let's convert them into just seconds so
for that I'm using the Lambda function
and dividing the
values in
milliseconds by thousand so that they
get converted into just seconds
I have used in place equal to true so I
want to change it in my original data
frame let's run it and do the necessary
changes all right
now we'll print the head of the data set
just to check the duration column so
I'll say DF underscore tracks
Dot duration
dot head
if I run it there you go
so
you can see the values have now being
changed to just seconds
cool
I have the final quiz question for you
who has the most monthly listeners on
Spotify
please put your answers in the comment
section below we'd be glad to hear from
you
now coming to the next cell
so here we are going to create a first
visualization that is going to be a
correlation map
we are going to drop three unwanted
columns and those are key mode and
explicit and then we are going to apply
Pearson correlation method
now I have set my figure size to 14
comma 6 and then we are using the C bone
heat map function to create our
correlation map I have put the
variable that is
correlation underscore DF you can see
above we had created this and then I'm
setting annotation equal to true so
this will write the data value in each
cell
I have set fmt equal to dot 1
G so this is a string formatting code to
use when adding annotations then I have
set my V Min and V Max so these are the
values to Anchor the color map otherwise
they are inferred from the data and
other keyword arguments cmap here stands
for color map you can just search for
SNS cmap you will get the documentation
so you can choose whichever
color palette or the color map you want
here I have used Inferno
and I have set my line bits and line
color finally I am giving a title to my
correlation map and I have set the
acetic labels let's go ahead and
run this to guitar
first visualization
if I scroll down there you go we have
got a
nice
correlation map so here on the right
side you can see the scale it ranges
from -1 to plus 1 minus 1 means the
variables have least or negative
correlation while the values which are
above 0.0
means that the variables have a positive
correlation
now
here you can see there are
values like minus 0.7 for energy and the
causticness which means if the energy is
high the acousticness is Galileo again
for loudness and
say speechiness if the song is loud the
speechiness is low so that is negative
correlation but if you see
for energy and loudness there is really
high correlation between these two
variables you can see the value is 0.8
so if the song is loud this implies the
song has really high energy and vice
versa
now if you see for a few other variables
there is negative correlation between
hepa's thickness and dance ability
there is negative correlation again
between
valence and the causticness similarly
there is positive correlation between
energy and balance which is 0.4
and even for danceability and balance
that is positive correlation which is
0.5
cool
so from the correlation heat map you can
note that acousticness appears to have a
strong negative correlation with energy
so if you see for acousticness and
energy there is a strong negative
correlation
and there is a moderately strong
positive relation between loudness and
popularity so if you see for popularity
and loudness the color is orange which
means it lies in this positive region
and there is also a moderately strong
positive relation between danceability
and balance so if you check for
danceability and balance here there is
uh moderately strong positive
correlation
all right
now let's move ahead we are going to
sample our data and take just 0.4
percent of the total data and will
create two regression plots using this
data so let me first sample my data so
I'll create a sample data frame
using my original data frame which is DF
underscore tracks and C
sample
I'm going to
use the int function and see 0.004
multiplied by
the length of my original data frame
which is DF underscore
cracks
all right
now let's
run this
and will print
the length of my
sample data frame
if I run it you can see
point
four percent of
my total data set is
2346 rows
cool
now we are going to create a recreation
plot between loudness and energy now in
our correlation map we saw there was a
positive correlation between loudness
and energy which was pointed let's plot
it in the form of a regression line
so I'll use
PLT Dot
figure
I'll set my
figure
size
equal to let's say 10 comma 6.
I'll say SNS Dot
regression plot so I'm using the
function called reg plot
and I'll use my data as
sample underscore
TF
give a comma
and say
in my Y axis I'll have my column
loudness
and in the x axis we'll have
energy
I'll give a color to
my
data variable let's say the color is C
then I'll set my
title to
loudness
versus
energy
let's say correlation
all right
let's make sure everything is
fine
now
we'll run and see a result
there you go
so you can see here clearly
there is a very high positive
correlation between loudness and energy
on the y-axis we have loudness and on
the x axis we have energy and you can
see
all the data points or these songs are
in One Direction so if the energy
increases the loudness of the song also
increases and similarly if the loudness
of the song decreases your energy of the
sound or the track also decreases so
there is a very high positive
correlation and you can see the
regression line here it has gone
and is increasing gradually
cool
now similarly I'll just copy this code
and we are going to see another
regression plot this time for two
different features let's say we have
popularity in the
y-axis so I'll say popularity
and then in the x axis we have let's say
acousticness
I'll change the color to let's say B
which stands for blue
and
will set the title to
popularity
versus
I'll have
across thickness
correlation
just scroll down and we'll run it to see
the result
there you go
so I have the
different points for the songs and here
you can see the regression line is
downwards which means if the
acousticness of the song increases the
popularity decreases and similarly if
the popularity increases acousticness
decreases you can see
the downward trend of the regression
line
all right
now in the next cell we are going to
create a new column called Year from our
release date column
and I have changed this to date time
format let me just run it
cool
now after that
we are going to create a distribution
plot to visualize the total number of
songs in each year since 1922 that is
available on the Spotify streaming app
so I have used my c bond library and
dist plot function now one thing to
remember you need to update your c bond
library to
this version
if you haven't done it so use this
command pip install dash dash user C
burn and
the version
so here in the distribution plot
we are going to plot a histogram so I
have used kind equal to hist which
stands for histogram
let's run and see the result
okay so here you can see I have my
distribution plot so the plot tells us
that the
number of songs for each year in the
data set according to their release date
have increased in the recent years since
music became more accessible to people
globally with technological advancements
so earlier you can see there were very
few songs available in the
1920s later on the
number of songs increased rapidly and
now you can see we have a lot more songs
available for people to listen
cool
now
we are going to see the duration of
songs over the years for that again we
are going to create a bar plot so I'll
first create a variable called total
duration equal to DF underscore tracks
Dot
I'll use the duration column that we
created with seconds
and then
I am going to
set
my
foreign
s for Dimensions equal to
18 comma
7
after that I'll have my
figure
access defined so I'll use the
matplotlib
sub plots function
and
I'll set the
figure size
equal to
my figure dimensions
and then
I'll say figure equal to sns. Dot I'll
use the
bar plot function
and say
my x axis to be
years
my y-axis will be
total
duration or total underscore Dr that we
created here
I'll set my Axis equal to e x
and then
I'll set error width
equal to
false
let's set the title for my plot as
title equal to
your
bosses duration
and finally I'll say plt.x text
I rotate it by
let's say 90 degrees
all right
let me just recheck once if everything
is fine and then we'll go ahead and run
it
my Axis error width title
okay let me just run it
will see the result in a moment
if I scroll down
you can see we have the bar plot for the
different years and the duration of the
songs in seconds in the y-axis so
earlier in the 1920s you can see the
duration of the
songs with less and literate increased
around late
1930s and this remained consistent until
2010 where the
duration was high but after 2010 you can
see the
duration of the songs have started
decreasing
now in the next cell I am going to
create a line plot to analyze the
average duration of the songs over the
years it is going to be similar to
or bar plot does that now we are going
to visualize it in terms of a line
so I have my code ready
you can see here I've used my c bond
library and the line plot function in
the x-axis I have used and in the y axis
I have total duration I've set my title
to year versus duration and I'm rotating
my
X labels by 60 degrees let's run it and
we'll see the output
there you go now if I scroll down you
can see we have a nice
line plot and on the x-axis you have the
ears and on the y-axis we have the
duration you can see that the songs from
1920s to
1960s have comparatively shorter
duration since most of the songs tended
to be more singing Beast rather than
instrument Beast
after 1960s you can see the duration of
the songs started increasing until I
would say 2010 and in the present day
the duration of the songs have started
declining since the attention span of
the average listener is also declining
all right now let's move to our second
data analysis project which is based on
genres of the songs so I am importing my
data set using the pandas read
underscore CSV function I have given my
location and here I have my data set
name followed by the
extension of the
type so this is a CSV data set let's go
ahead and run it
okay now
let's print the first five rows of the
data set
I have
stored my data set in a data frame
called DF underscore genre
I'll use the head function to get the
first five rows of information
I'll hit shift enter to run it there you
go
you can see here I have my Joiner column
artist name track name track ID
popularity acousticness
duration in milliseconds again and we
have the rest of the other columns that
we saw in our first data set just one
thing to note here key is
present in terms of c d e c minor F
minor
and not in terms of numbers between 0 to
11.
now we'll see
the duration of the songs for different
genres
for that I am going to create a bar plot
so I'll start with setting the title for
my plot as
duration of
the songs
in
front
genres
I'll use the
c bond Library
and
I'll set my
color palette to let's say
rocket
into the comma and say
as cmap equal to true
this would be color palette
now
I'll say SNS Dot
bar plot in the y-axis I'll have
genre
and in the x axis I'll have
my duration column which is in
milliseconds so duration underscore MS
and then I pass my data frame using the
data argument
so I'll say data equal to DF dot Journal
next
will set the x labels so I'll say PLT
dot X label
let's see my X label is
duration in
milliseconds
and then
I'll see PLT Dot
by label as follows
now let's go ahead and
run this
there you go so here you can see we have
the different genres on the y-axis and
on the x axis you have the duration in
milliseconds
and if you see the graph
for
classical genre and for
songs that belong to World genre the
duration of the songs are
more compared to
other genres now if you check for
children's music genre the duration is
less or the least
cool
and finally
we'll move to our
last demo where we'll see the top 5
genres by popularity
so I'll say SNS Dot set underscore
Style
I'll set my
style to
dark
grid which will be my background
and then I'll see PLT Dot
figure I'll set my
figure
size
to
10 comma 5.
then I'll create a variable called
famous
since I want to take only the
most popular songs based on the genre so
I have created a variable called famous
and I'll pass my data frame name that is
DF underscore
Journal and I'll sort the values based
on my popularity column
so I'll see
popularity
and I want to sort it in descending
order so I'll say ascending equal to
false
and I'll take the
first
10 values I'll tell you the reason why I
am taking the first 10 values are not 5.
then I'll say SNS Dot bar plot
and in the y axis I'll have
genre
in the x axis will have
popularity
and I'll keep a comma
and using the data argument I will save
my data to be famous which is this
variable that we created
and then I'll set my
title as
top
5 genres
by popularity
all right
now the reason why I took head of 10 is
because there are a few genres which are
repetitive so if you see this we have
children's music appearing twice so
hence we have taken 10 instead of 5 let
me just go ahead and run it
there you go
so here if I scroll down you can see I
have my top five genres based on the
popularity so we have dance pop rap
hip-hop and reggaeton so these are the
five genres which are most popular based
on the data that you have collected
from Spotify
all right
welcome to this really interesting video
on data analysis of the 2021 World
happiness report using python
so today we will perform some
exploratory data analysis using python
libraries to analyze visualize and draw
insights from 2021 World happiness data
before I begin make sure to subscribe to
the simply launch Channel and hit the
Bell icon to never miss an update
first let's understand what the world
happiness report 2021 is all about
the international happiness day is
celebrated every year since 2013 on 20th
of March to emphasize the importance of
happiness in the daily lives of people
so the United Nations sustainable
development Solutions Network published
the world happiness report on 19th of
March 2021 that ranks the world's 149
countries on how happy the citizens
perceive themselves to be based on
various indicators
the happiness study ranks the countries
on the basis of questions from the
Gallup World Poll
the results are then equated with other
factors such as GDP life expectancy
generosity Etc
this year it focused on the effects of
the covid-19 pandemic and how people all
over the world have managed to survive
and prosper
so using this 2021 data we will answer
critical questions such as the top 10
most corrupt countries
we will plot a graph to understand how
the happiness score is related to the
freedom of making Life Choices will look
at the life expectancy of 10 happiest
and 10 least happy Nations so these are
a few examples but we will explore more
about the data in detail in our demo
session
let's get started so first I'll show you
the data set we'll be using in this demo
so this data has been collected from
Kegel let me show you that
so this is the CSV data set that we have
downloaded from kegel.com so you can see
here World happiness report 2021
and
we will share the data set link in the
description of the video you can click
on the link to download the data set
now we have information about
149 countries you can see it here count
is 149 let me go to the top and I'll run
through the columns that are there in
this data set
so the First Column is the country name
so we have 149 different countries and
then we have something called as
Regional indicator we can call this as
just the region so you can see we have
different regions I've applied a filter
we have Central and Eastern Europe then
we have common wealth of independent
states so these include countries such
as Russia then we have East Asia Latin
America and Caribbean we also have South
Asia southeast Asia sub-Saharan Africa
Western Europe and other regions
I'll just cancel this and then we have
the
happiness score column that has been
sorted in descending order
so we have Finland Denmark and
Switzerland who are the top three
happiest Nations now if I scroll down we
have countries like Rwanda Zimbabwe and
Afghanistan which are the least three
happy countries
now
there are a few columns that we won't be
using in our analysis so we will learn
how to exclude those columns and keep
only the relevant ones
so columns such as
standard error of ladder score
then we have
upper whiskers and lower whisker column
so we are going to ignore these columns
we are only concerned about
the GDP column which is this one then we
have the social support or the social
status column then we have the health
life expectancy
freedom to make Life Choices generosity
and perceptions of corruption and
there are a few other columns you can
see to the right and these columns are
not of our interest so we are going to
ignore them
now let's head over to our jupyter
notebook and we'll start by importing
all the necessary libraries for analysis
and data visualization
okay so I am on my Jupiter notebook so
first step I'll just
rename this notebook to let's say
happiness
report
data analysis
I'll click on rename all right
now we'll start by importing our
libraries so first Library I'm going to
import as numpy as NP
then I have
import
pandas as PD
then I'll import to data visualization
libraries C bone and matplotlib so I'll
say input
C born as SNS and then
import
matplotlib
Dot
Pi plot which is the module name as PLT
and
I'll say
percentage
matplotlib
inline
okay
now let me just go ahead and run this
all right
well now let's set the parameters that
control the general style of the plots
the style parameters control properties
like the color of the background and
whether a grid is enabled by default or
not
so for that I'll say SNS Dot set
underscore
Style
I'll
give it as dark grid
next I'll say
PLT Dot
RC
params
which stands for runtime configuration
parameters
I'm going to set my
font
size
to
let's say 15.
then I'll say
PLT Dot
RC
params
now I am going to set the
figure size so I'll say figure Dot
fixed size
let's say 10 comma seven
next
let me just copy this
paste it here
now we are going to set the
face color
so I'll see
figure Dot
face
color
I want to set it to peach color so I'm
going to pass in my RGB values for peach
I'm going to set it in terms of hex code
so for peach the value is f f
e
5 b and 4.
now let me run it okay
now it's time to load our data set
so for that I'll create a variable
called Data and
I'll use the
pandas Library
followed by the read underscore CSV
function because our data set that we
saw
is a csb data set which is this one now
inside the parenthesis
I'll pass in the location of my
data file so I have my data here World
happiness report 2021 I'll just copy
this location and we'll
paste it here
and make sure the location is within
quotes
and you need to change it to
either forward slash or double backslash
so here I'm using
double backslash so let me just include
one more
backslash
and then I'm going to pass in the
file name which is
world
hyphen
happiness
hyphen
report hyphen 2021
dot CSV which is the extension of the
file
now let me run it all right
now to display the first five rows of
information you can use the head
function
so I am writing data which is my
variable that holds the data frame so
data dot head
there you go
you can see here we have
printed the first five rows from the
data set you have the country name
Regional indicator happiness score
then we have information about the GDP
life expectancy generosity
then we have
corruption data
and these are some of the columns that
we are not bothered about so we are
going to drop these columns from our
analysis
now
we are going to do that so I'll create a
variable called Data columns which are
of our interest
so I am going to take only specific
columns I need the
country name so have
taken country name make sure the column
names are within single quotes So I have
my country name next I want the
second column which is
Regional indicator
and give a comma
we also need the
happiness score
next I need the
logged GDP per capita data
so I'll take that column
I'll say logged GDP
per capita
give a comma my next column would be
social support
give a comma here
my next
column would be Health life expectancy
so I'll write
health
life expectancy
let's give another comma and we'll take
the next column as well which is freedom
to make life choices
so I'll write that column name freedom
to make
Life Choices
and finally
we'll take the
next two columns that is generosity and
perceptions of corruption So within
single quotes I'll say
generosity
give a comma and we're going to include
the final column which is of our
interest that is
perceptions of corruption
let me have a recheck
to ensure that I have put the column
names correctly otherwise it will show
an error
now let me go ahead and run this cell
I'll hit shift enter all right so we
have successfully
taken the columns that we'll be using
for an analysis
now I'm going to say data equal to
data I'll pass in my new variable that
is data underscore columns and I'm going
to copy all the data so I'll say dot
copy
let's run it
okay this should be data underscore
columns all right
now
let's rename all these columns we'll
make it more simpler and
easy to understand so I'll say
let's say my new
variable is Happy underscore DF which
stands for data frame equal to I'll say
data Dot we'll use the rename function
and using a dictionary we will rename
our columns so I have used a curly
bracket
I am going to pass in my
First Column which is country name I'll
just paste it here
then
I'm going to give a colon and
again Within single quotes I'll say
country underscore name so this is going
to be my new column name
I'll give a comma
we'll take the next
column which is regional indicator
I'll paste it here and give a colon and
the new column would be small r
Regional underscore
indicator
now similarly we'll do this for all the
remaining columns in the data set
okay now I have renamed all my columns
you can see it here
let's run it
now
we are going to display the head of the
data set again
so I'll say happy underscore DF dot add
there you go so we have
only those columns that are of our
interest
so I have the Continuum original
indicator happiness score GDP social
support life expectancy
freedom to make Life Choices then I have
generosity and
perceptions of corruption
cool
now
we are going to check whether any of the
columns have
any null values so for that I'll say
happy underscore DF
Dot
I'm going to use the is null function
I'll give another Dot and we are going
to find the sum
for each of the columns
you can see from the data we do not have
any null values in any of the columns in
the data set
it is all zero
okay
now let's get started with our first
visualization that is
we'll create a plot between
happiness score and the GDP for
different regions
so for that I'll give a comment as
plot
between
happiness
and GDP
I'll just scroll down
cool
first I am going to set the
RC parameters so I'll say PLT Dot
RC params
within square brackets I'm going to give
my figure size so I'll say
figure Dot
fixed size
equal to let's say my figure size is 15
comma 7
I'll set the
title that is PLT dot title of my plot
to
let's say plot between
happiness score
and GDP
next
I'm going to say SNS Dot
let's create a scatter plot so I'll say
SLS dot scatter plot
I'm going to Define my x axis on the y
axis for the plot let's say in the x
axis we have
my data frame happy
underscore DF
Dot
this should be an underscore
I'll say
a column name as happiness underscore
score
give a comma
and in the y-axis we'll have
my data frame name that is Happy
underscore DF Dot will have the GDP
column that is logged underscore GDP
underscore per underscore capital
let's give a comma and we'll pass in Hue
for
the color
let's see for Hue I am going to use the
original
column of the regional indicator column
so I'll say
happy underscore DF
Dot
Regional underscore indicator
and then I am going to give this size of
the dots as let's say 200
then I'll give a semicolon
come to the next line
I'll say PLT dot let me just scroll down
now we are going to define the legend so
I'll say PLT Dot Legend
and in Legend we'll have
the location let's say I want to put the
legend at upper left
corner so I'll say loc which is for
location equal to upper left
give a comma and then say
font size of my Legend let's see B10
make sure this is within quotes
then I'm going to pass my x-axis labels
and the y-axis labels
so I'll say plt.x label
let's see the X label is
happiness score
and my by label is
GDP per capita so I'll say PLT dot my
label
within single quotes I'll say GDP per
tapita
there's an error here there should be
plot all right so I have
written my code to create a scatter plot
let's run it and see the result
there is some error here
okay this should be
Regional
indicator and not in the K3 there's a
spelling mistake let's run it again
all right so here you can see we have a
nice scatter plot on the top you can see
we have the title of the plot that is
plot between happiness score and GDP on
the x axis we have the happiness score
from 0 to 8
and above
and on the y axis you have the GDP per
capita
and if you see here
in this region we have
countries from
Western Europe which have the
highest happiness score and the GDP per
capita is also the highest
around this region you can see here
which is for green and in the legend you
can see green is for sub-Saharan Africa
so all these countries have
low happiness score and even the GDP per
capita is also low
and if you see the
countries for
Latin America and Caribbean you see a
lot of the values lie here so they are
all within the range of 5.52
7 in happiness score
and even the GDP per capita is more than
9 for most of them
now even the happiness score is high for
the countries that line the North
America and Enz region and even that GDP
per capita is also the highest I can
name a few countries such as Australia
New Zealand we have Canada and
United States of America which belong to
the North America and ANC region cool
now there is one country which you see
here this seems to be like an outlier
which means that this is the country
which has the
lowest happiness score and even the GDP
per capita is also low but it is not the
lowest because you can see here there
are a few countries up here
from the sub-Saharan Africa which have
the lowest GDP per capita but the
happiness score is higher than this
value or this country so we can assume
that this country is Afghanistan which
has the lowest happiness score as per
the 2021 happiness report data
cool
now we'll plot a pi plot to understand
the GDP by region so by this we can know
which region has the highest percentage
contribution to the world's GDP as per
our data
so for that
I'll create a variable GDP underscore
region
equal to
we'll use our data frame that is Happy
underscore DF dot I am going to use the
Group by function
and after that
I'm going to use my
column that is region
so we have named the column as Regional
underscore indicator so I am going to
group it by this region column
and I'm going to sum the values of GDP
so I am going to use the logged
underscore GDP underscore per capita
column
and after that I am going to use the sum
function
and let me just print GDP underscore
region
you can see it here we have the
sum of all the countries
for different
regions and their GDP all total
now this data we are going to plot it in
the form of a pi plot
so I'll say
GDP underscore region
Dot plot
Dot pi
we are going to plot it in terms of
percentage so I am going to use a
parameter called
Auto PCT
equal to then I am going to pass in my
format
so I'll say percentage 1.1
f
percentage percentage
then I'll say PLT Dot
title
let's see the title of my Pi plot is
going to be GDP by
region
and I'll say PLT Dot
foreign
which is going to be blank
let's run it
okay
so here you can see
we have the peach background at the back
because we had
assigned
a peach
color you can see it here
so for the first
scatter plot also we had the peach color
at the back
and now you can see
we have sub-Saharan Africa contributing
20.7 percent to the world's GDP the
reason being we have
around 34 countries in the sub-Saharan
Africa
and
we have the Western European countries
contributing to 16.2 percent of the GDP
to
check the least we have North America
and Enz region because we only have four
countries America Australia Canada and
New Zealand so hence they are
contributing only 3.1 percent to the
world's GDP
okay now moving ahead
let's find the total number of countries
in each region so for this we are going
to use the group by function that is
part of the pandash library and we'll
count the total number of countries in
each region
so I'll just give a comment
as
total countries
all right just scroll down
so I'll create a variable called total
underscore country
I am going to use my data frame that is
Happy underscore DF dot I'm going to use
the
Group by function
I'll group
the values based on the region column So
within single quotes I'll say
Regional underscore
indicator
and then
I'm going to
find the total count of country name so
I'm using the column country underscore
name
and after that I'll just use dot count
now let's go ahead and
print my variable that is
total underscore country
all right now let me hit shift enter
okay so here you can see
all right so for sub-Saharan Africa
there are total 36 countries and not 34
as I mentioned earlier so hence you can
see because it has the highest number of
countries it is contributing the most to
the world's GDP that is 20.7 percent
then we have the least number of
countries in North America and ANC that
is only four
we have six countries in East Asia and
then we have 20 countries in Latin
America and Caribbean 12 countries a
commonwealth of independent states then
we have 17 countries in Central and
Eastern Europe
cool
now
I'm going to show you how to create a
correlation map so that we can see the
relationship that exists between each of
the variables that are present in our
data set I'll just run through the code
and we'll see the output
okay so here I have my code written for
the correlation map that I want to
create so first of all I am going to
compute the correlation Matrix so I have
used the Corr function which stands for
correlation and the method I am going to
use is Pearson method now here I have a
Wikipedia page opened for Pearson
correlation coefficient so this is a
nice article where you can understand
what the Pearson correlation is all
about
and then I am going to set up the
matplotlib figures so I have used the
subplots function and I have given the
figure size as 10 comma 5. and after
that we are going to draw the
heat map with the mask so I am using the
heat map function present in the c bond
library and then I have passed in my
variable that is cor which essentially
stands for correlation
and then I have used mask which is a
Boolean array or it can be a data frame
and it is an optional parameter if it is
passed the data will not be shown in
cells where the mask is true
and the cells with missing values are
automatically masked after that I have
used the
cmap parameter which stands for color
map so you can customize the colors in
your heat map and I'm going to create a
heat map which is in square shape so I
have said Square equal to true and the
axis I am going to pass it as ax which I
have defined here so this is the Mac
plot live axis and it is optional so
axis in which you want to draw the plot
otherwise you can use the current active
access
now let me just go ahead and run this
and we'll see the heat map
there you go
so if I scroll down here we have the
correlation Matrix and since I had given
my cmap as blue
and here you can see it is mostly blue
and we have the scale here
now
I'll tell you how to read this
correlation Matrix so wherever the cells
are in blue or dark blue color this
means that the variables have very high
correlation and all these cells where
you see light blue color or grayish and
white color
uh this indicates that the variables
have very low correlation for example
there is very low or
almost negative correlation between
happiness score and perceptions of
corruption so obviously if the citizens
of a country feel that there is a lot of
corruption in the country that happiness
score would obviously be less or low
and if you see there is also low
correlation between happiness score and
generosity there is
then look correlation between
Health life expectancy and perceptions
of corruption
and if you see these places
there is really high correlation between
the happiness score and GDP per capita
again for social support also there is
very high correlation
now if you see even for
social support and healthy life
expectancy there is very high
correlation but there is
low correlation between
making life choices and generosity
and there is
negative correlation between corruption
and freedom of making life choices you
can see it is almost white color which
means it falls around this region so
negative correlation
similarly for
logged GDP per capita and
corruption that is
negative correlation all right
okay now we are going to visualize a bar
plot that will tell us the corruption in
different regions so I'll just give a
comment
corruption in
regions
let me just scroll down okay
so I'll create a variable called
corruption
which will be equal to
my
data frame that is Happy underscore DF
now first of all I am going to use the
group by function to group all my
regions so I'll say Regional underscore
indicator Which is my
column name present in the data set and
after this I am going to find the
average of the
corruption that is perceptions of
corruption so I am going to pass in my
variable name that is
perceptions of
corruption
and I'm going to use the mean function
to find the average corruption in each
of these regions
now let me just go ahead and print my
variable that is corruption
if I run it you can see here
I have the values for the different
regions and from here you can see that
Central and Eastern Europe has the
highest perceptions of corruption as per
the
questions answered in the poll
and if you see the table
we have Western Europe
and the North America region with the
least perceptions of corruption now we
are going to visualize this using a bar
plot now so first of all I'll
set my
parameters by giving the
figure size
I'll say
fig
size
it's rather figure dot fixed size
I'll just add figure here
okay
and now let's see
I'll assign it as 12 comma 8.
now I'll give a title to my plot so I'll
say PLT dot title
and my title of the plot is going to be
perception of
corruption
in
various
regions
all right
then I am going to Define my X label
so I'll say x label will be
regions
and
will set the font size of the X label to
let's say 13
or let it be 15
then we are going to set the
y label
in y label I'll have
corruption index
as the label name
again we are going to set the font size
to 15
now I'm going to use
X ticks
parameter
since I want to
rotate the access labels in the x axis
by 30 degrees so I'll say rotation
equal to 30
and I'll say h a which stands for
horizontal alignment equal to right
make sure this right should be within
single quotes
and finally I'll say PLT dot bar because
I'm going to plot a
bar graph
I'll say corruption
dot index
comma
and then I'll say
corruption
Dot
perceptions of
corruption which is my column name
all right so I have my code ready for
the bar plot now let me just go ahead
and
print
the bar plot
make sure everything is correct I'll
just hit shift enter
okay there is one mistake here it says
okay this should be X ticks and not X
tick
let me run it again there you go
if I scroll down
on the top you have the
title which is perception of corruption
in various regions on the
x-axis you have the regions label on the
y axis you have the corruption index and
if you see this
as per our table that we created
we have least corruption in North
America and ANZ region then we have the
next least corruption in Western Europe
but we have the highest corruption in
Central and Eastern Europe as per their
citizens perception similarly we have
the
second and third highest corruption in
Latin America and Caribbean as well as
South Asia
cool
now moving ahead
I'm going to show you how you can find
the life expectancy of the top 10
happiest countries and bottom 10 happy
countries so for that I am going to run
you through the code and we'll see the
visualization side by side
okay so I have my code written in these
two cells so first I am going to find
out the top 10
happiest countries and then I am going
to find the bottom 10 happiest countries
so for that I'm using the head function
and have passed in 10 since I want the
top 10 country names and to get the
bottom 10 countries as per their
happiness score I am using the tail
function so let me just run it so we
have saved the result in two variables
top underscore 10 and bottom underscore
10. and two
create the bar plots we are using
two different
codes so here you can see I have set my
figure size and access and then I have
my X label as
country name
after that I am setting my
title of the bar plot to top 10 happiest
countries life expectancy I've used my
x-tick labels and I'm rotating it by 45
degrees and I have my horizontal
alignment as right
you can see it here we have used the bar
plot function I have the x-axis as
country name and y-axis as healthy life
expectancy column and I have set my Axis
then
um using the X labels and Y labels as
country name and life expectancy and
similarly I have my bar plot for
the bottom 10 least happy countries life
expectancy
let's just run it and we'll see the
result
there you go
now if I scroll down you can see we have
two different bar plots the first one is
for the 10 happiest countries and then
we have the bottom 10 least happy
countries
so if you see
on an average the top 10 happiest
countries life expectancy is above 70
years so if you are from one of these
countries you are expected to live
for more than 70 years now if you check
the bottom 10 least happy countries you
see here
Lesotho has less than 50
life expectancy age and most of them are
less than
60 years so if you are from one of the
top 10 happiest countries you are
expected to live
10 years more than these
countries that line the bottom 10 region
cool
now moving ahead
all right so now we are going to see the
plot between freedom to make life
choices and the happiness score for this
I am going to use a scatter plot so
I'll first Define my figure size so I'll
say PLT Dot RC
p-a-rams which stands for parameters
I am going to pass in my
figure size so I'll say figure Dot
fig size
equal to
let's say 15 comma 7
then using the C bone library and the
scatter plot function
will pass in the
x-axis let's say the x axis is
my data frame name happy underscore DF
and
I'll have the freedom to make life
choices in the x axis
so the column name is freedom underscore
2 underscore make
underscore life
and choices
and give a comma and we'll pass in the
y-axis again I am going to use my
data frame name
Dot and I'll have the happiness score
I'm also going to
pass in a hue parameter
to differentiate
the different regions
so I'll say DF Dot
Regional underscore indicator
and I'll give the size of the dots
or the Bubbles as let's say 200
now I'll say
PLT Dot
Legend
I'll place the legend
at upper left corner so I'm giving the
location which is loc equal to
upper left
and
font size
Let It Be
12.
I'll say PLT Dot
X label
as
freedom to make
life
choices
and my y label
would be happiness score
all right
foreign
now we have the code written for the
scatter plot that I want to create let
me just run it
there you go
so here we have the legend for the
different regions and we have the
different colors for each of these
regions
and you can see here
I have
on the x axis freedom to make life
choices and on the y-axis we have the
happiness core
so you can see it very clearly
for the countries that line the Western
Europe region the blue dots
the freedom to make Life Choices is more
and so is the happiness score
then if you see
the values in the
green region which is for Middle East
and North Africa the freedom to make
Life Choices is
lower and hence the happiness score is
also low and for all these countries
that are part of the sub-Saharan Africa
some of them have
decent
score for freedom to make life's choices
but the happiness score is low again
now if you focus on the
pink dots which is for the Southeast
Asian countries the happiness core is
comparatively lower but the
freedom to make life's choices is more
than
0.8
cool
and again we have one data point which
is
lying at the bottom we can assume this
is Afghanistan so in Afghanistan the
freedom to make life's choices is very
low and even the happiness score is
really low
cool
now moving to our next analysis
we are going to see the top 10 most
corrupt countries
so first I am going to sort the
perceptions of corruption column and
find out the top 10 countries in the
list
so for that I'm going to create a
variable called country
I'll have my data frame name that is
Happy underscore DF dot sort underscore
values
by
I'm going to sort by
column that is
perceptions
of
corruption
Dot
head
and I want to find the top 10 most
corrupt countries as per the
pool
and then
I'm going to
pass in the figure size so I'll say PLT
dot RC
params
and then I'm going to set the
figure size so I'll say figure Dot
fixed size
make sure there is no spelling mistake
let's say the figure size is 12 comma 6.
I'll pass in the title so I'll say PLT
Dot
title let's say the title of my plot is
going to be
countries
with
most
perception of
corruption
after that I'll say PLT Dot
X label
in the X label I'll have
country and I'll set the
font size to
13
then I'll say PLT Dot
y label
in by label I'll have the
corruption
index
next
I'll
pass in the font size for the by label
again it is going to be 13
now I'll say PLT dot X
I am going to
rotate it by 30.
and I'll see horizontal alignment equal
to
right
and then
I'll have my
bar function or the bar plot function so
I'll say PLT dot bar
I'm going to pass in country Dot
country
underscore name
and then we'll have a variable country
Dot
the column name that is
perceptions of
corruption
all right
now if I run it
you can see here
so these are the countries with the
least perceptions of corruption so
Singapore has the
lowest corruption index
and then we have rawanda Denmark Finland
now if you want to see the countries
with the highest perceptions of
corruption you need to change this head
to
tail of 10 since we are sorting it in
ascending order so we would want to know
the bottom 10 countries if I run it
there you go
so these are the countries with the most
perception of corruption you have
Slovakia Lesotho
Kosovo this Ukraine Afghanistan Bulgaria
Romania and Croatia all of these
countries have a corruption index of
more than
0.85
cool now coming to the final section of
this interesting video on happiness
report data analysis for 2021 I want to
visualize a scatter plot that will tell
us how the corruption varies in terms of
Happiness score
so I'll just say
a comment as corruption versus
happiness
okay
so first of all I'll set my
figure size so I'll say PLT Dot RC
params
within single quotes I'll give the
figure size
as
15 comma 7
then I'm going to use the scatter plot
function that is part of the c bond
Library
in the x axis I'll have my
column that is
corruption or rather we'll have the
happiness code in the x axis so I'll say
happy underscore DF Dot
column name that is happiness score
let me give a comma and in the y-axis
we'll have
the corruption column so I'll say happy
underscore DF Dot
perceptions of
corruption
and then
in Hue we'll have the region that is
Regional underscore indicator so I'll
say happy underscore DF Dot
Regional
indicator
and I'm going to give the size of the
dots so I'll say s equal to 200.
foreign
PLT Dot
Legend
I'm going to
put it at
lower left corner this time so I am
giving my location as
lower left
and
the font size of the Legend I Want Is
14.
after that I'll just say PLT Dot
X label
as
corruption and
PLT Dot
y label
as
happiness score
you know this should rather be the
opposite since in the x axis we have
taken happiness score
so we'll
put the happiness score label in X and
I'll have
corruption in y
all right
so I have my scatter plot
code ready let me just run it
there you go
so here you can see on the lower left I
have the different regions and on the x
axis I have the happiness score on the y
axis I have the corruption index now you
can see the general Trend as per the
scatter plot that the countries with
greater happiness score have lower
corruption index so you can see these
countries which are from the Western
European regions have
highest happiness score and the
corruption is also really low so all
these blue countries you can name a few
Finland we have Sweden we have Belgium
France Netherland lying in these regions
we also have a few countries from North
America and ENC which are essentially
Australia then we also have Canada us
and New Zealand
okay now if you focus on these
green region this region
now these are the countries from the
sub-Saharan Africa and most of the
countries from these regions have a very
low or less than five happiness score
but
the corruption is also really high you
can see here they have almost more than
0.7 the corruption index
now
you also have a country here which is
from the
southeast Asia we would like to give you
a task it would be really great if you
can tell us in the comments section
which country is this
it has more than six happiness core but
the corruption index is really low Which
is less than
0.2
now if you consider
Middle East and North African regions
the
darker green countries here also if you
see the happiness score is less than 5
and the corruption index is also High
now there are a few countries the
Commonwealth of independent states for
example
countries such as Uzbekistan then you
also have Kazakhstan we have Russia
Armenia belonging to these
gray color dots you also have Georgia
and Ukraine as part of Commonwealth of
independent states so here you see the
corruption is below
0.6 for these countries and the
happiness score is more than
five
all right so with that we have come to
the end of this demo session on world
happiness report 2021 data analysis
using python
in the next project we'll understand how
to perform data analysis using Uber data
set from New York city so let me show
you the data set first
so this is the data set that we'll be
using for our analysis you can see
this data set
has around 5 lakhs 64 516 rows
it has information about Uber bookings
in the New York City
you have the date and time column when
the booking was done
or you can see when the pickup or the
trip was made next
we have the latitude and longitude
information basically defining the
location from where the Uber was booked
the last column is the base column it
has data regarding TLC based company
code affiliated with the Uber pickup
that is the base that dispatched the
Uber
now let me take you straight to my
jupyter notebook where I have
implemented this project
so I have my code ready I'll run through
each cell of code and tell you what it
does
in the process we'll also learn some of
the functionalities of python 2.
first
let's start by importing the libraries
so first we are importing numpy Library
as NP Panda as a speedy now numpy is
used for numerical computation pandas is
used for pre-processing and data
manipulation finally we have
matchplotlib and c bond for data
visualization and exploratory data
analysis so let me hit shift enter to
run this cell
okay
now let's go ahead and import our Uber
data set so it's a CSV file for that I
am using the pandas library and read
underscore CSV function and inside this
function I provided the location where
the data file is you can see this is my
location
followed by the data set name this is
the name of my data set
and the extension as well that is dot
CSV
let me hit shift enter to run this cell
now we have successfully imported a data
set
now to display the head of the data set
I'll write Uber dot head
this is the function which is used to
display the head of the data set now the
dot head function will display the top
five rows from this data set
there you go so we have our first
five rows from the data set
now
if you want to display some additional
information about the data set
you can use info function so let me hit
shift enter to run this cell
you can see the info function gives you
the total number of rows and columns in
the data set
you can see we have 5 lakh 64 516
entries that is rows and now we have a
total of four columns and you can see
all the columns listed here date time
latitude longitude base and we also have
the data type for each of these columns
now moving ahead
in the following cell we'll check if
there are any missing values or null
values in all the columns
for that I have defined a function
called num missing and it has one
argument that is X
I'm using the is null function to return
the total sum of null values
in the final print statement I have used
pandas library and apply method now this
apply method takes a function and
applies it to all the values of pandas
series
let's run this cell
you can see none of the columns have any
missing values it says 0 0 0 and 0 which
means there are no missing values in any
of the columns
next
there's another method to find null
values
where you can use is any function so let
me show you how to do that
I'll write Uber which is my data frame
dot is any is my function and I'll use
the sum function
let me run this
there you go it has written the same
results indicating there are no null
values or missing values
now
we are interested to extract some
additional information from the data so
I am converting the date time column
into a data frame using two underscore
date time function and I have my format
specified you can see it here
next
I am finding the day of week num which
means I want to know a particular Day
falls on which week number so 0 for
Monday 1 for Tuesday two for Wednesday
and so on
you can see I have used DT dot d of week
method similarly
you can also find the weekday name that
is if a particular day is a Monday or a
Tuesday or a Sunday or anything
and for that I have used DT dot weekday
underscore name
now let me extract two more information
that is the day number and the r of the
day at which the trip was made
so I'll write Uber which is my data
frame name I'll give square brackets and
inside that I pass in my column names
say t num
and that will be equal to
my data frame that is Uber
followed by
a column name that is date slash time
and I'll use the method DT dot day
similarly
to find the r
I'll write Uber
within square brackets I give my column
name r of day
that will be equal to
Uber
followed by the original column name
date slash time
and
the method I'll use is
DT dot r
let's run this
okay
now let me display the head of the data
set once again
so I'll write Uber dot head
you can see
towards the right we have our new
columns added
that did not exist in our original data
set
now you can also display the shape of
the data set now the shape will return
the total number of rows and columns
present so I'll use Uber dot shape
you can see we have 5 lakhs 64 516 rows
and eight columns now earlier if I go on
top we had four columns now there are
eight columns in total
you can also find out all the unique
base code names from where the Uber was
dispatched so let me show you how to do
that I'll write Uber
and inside square brackets I'll give my
column as base and give the unique
function
if I run this
you can see we have five different base
code names
now coming to our first visualization of
the project
here
we'll see the total count of uber trips
from each piece for that I've used the c
bond library and Cat plot function
in the x-axis I have my base column
defined
I have passed my data frame name that is
Uber
and kind I have given as count that is I
won't count the number of bookings at
each base
so let me run it
this might take some time
there you go
you can see on the screen we have a nice
bar graph here
the x-axis shows the count of trips for
each base code
so base
0 to 682 had the highest number of trips
or bookings in April 2014
and base 0 to 764 had the lowest number
of bookings
in the next cell let's explore another
feature of pandas library that is to
create a pivot table
for that I have used pivot underscore
table function
for index I am using the column names D
of week num and day of week values I
have passed my base column and the
aggregate function I have used is count
now the cell of code will create a table
to understand the total number of trips
for each day of the week
let me run this
you can see in April 2014 Wednesdays had
the highest number of trips which is
around 1 lakh 8 000 while Sundays had
the lowest 51 251
now that makes sense because Sunday is a
holiday in New York and people would
like to spend time at home
now
let's visualize the pivot table in the
form of a bar plot so
I'll write Uber underscore week
underscore data dot I'll use the plot
function
inside plot function I'll give kind
is bar so I want a bar plot and I'll
Define my figure size
and I'll give
equal to
let's say 8 comma 6.
run this cell there you go
as we saw above Wednesday had the
highest number of uber pickups while
Sunday had the lowest
similarly
let's visualize the bookings based on R
of the day so I have created a pivot
table and then I am trying to plot a
line graph
let's run this
okay
you can see the trend
at midnight the number of trips are less
it slowly increases early in the morning
and during the evening time
Uber bookings are higher so you can see
around four in the afternoon to 7 in the
evening Uber trips attain a peak and
trips gradually decrease after 8 PM in
the evening
moving ahead
let's now analyze the number of uber
bookings based on each day in the April
month of 2014
so I've created my pivot table and then
I'm trying to plot a bar graph you can
see I have kind equal to bar
let's run this
okay
we have our bar graph ready
now this bar graph depicts 30th of April
had the highest number of uber bookings
followed by 4th of April that is this
one
now I can
show you in the next two cells of code
and the current cell we are basically
counting the number of trips for each
day in April month I have grouped each
day number using the group by function
and used the apply function to count
rows let's run it
so I have all the day numbers listed and
the total number of trips that were made
for each day of the month
now let me sort the bookings for each
day in ascending order
so I'll write
by underscore date
underscore sorted
equal to
by underscore date
Dot
I'll use the function sort underscore
values
now to display I'll again use buy
underscore
date
underscore
sorted
let me run it now we have
arranged this in ascending order
the results tell us that
20th of April had the lowest number of
trips while
30th of April had the highest followed
by
4th of April now you can also create a
histogram to analyze the pickups by ours
let's run this cell
I've used the hist function for this
okay
so we have our histogram ready
now this histogram is similar to
the line graph that we plotted above
this one
now let's create a cross table to
analyze Uber bookings based on day of
week num and R of T so here I have used
Group by function split function apply
as well as unstack function
let me run this
there you go so this is my cross table
ready on the top we have day of week num
that is 0 for Monday one for Tuesday
two for Wednesday
five for Saturday six for Sunday and
then here we have the r of day
now let me tell you how to read this
table for example
at 11 am
on Tuesday there were
2949 trips
if I scroll down
let's consider this one at 2 pm on
Sundays there were
2934 trips
let's move on to our final section of
the demo
here we'll create a heat map to analyze
bookings in terms of hour of day and day
of week number for this I am using
sns.heat map function
the brightest spot will tell the D or
the r with the highest frequency of
trips
let's run this
there you go
we have a nice heat map ready
the dark regions depict the frequency of
trips were less while the bright regions
show the highest number of trips
so if I come down these are the bright
regions
so if you look at this heat map we can
conclude that 5 PM on
Wednesdays at the maximum number of
trips because this region is the
brightest
welcome to this exciting video on
Olympics dataset analysis using python
by simply loan
this is going to be a very interesting
and interactive session where I'll give
you a brief about the history of
Olympics and throw some light into the
recently held Tokyo Olympics
but we'll focus more on using Olympics
data set that is available on Kegel and
perform some exploratory data analysis
you will understand how to use different
functions in Python to analyze and
extract meaningful information
during the course of our discussion I'll
be asking you a few general questions
related to the Olympics try to answer
them in the comment section of the video
so let's begin
the Olympics is one of the biggest
sporting events on the planet it is held
every four years the first modern
Olympics took place in Athens Greece in
1896. as per National Geographic
the original Olympics took place in 776
BC
so they began as part of an ancient
Greek festival which celebrated Jews the
Greek god of sky and weather
the Rings in the Olympics logo represent
the five continents Europe Africa Asia
turmericas and Oceania
from 1924 to 1992 the winter and the
Summer Olympics took place in the same
year but now the alternate every two
years
before I move on here is an interesting
question for you only two people have
ever won gold medals at both the summer
and the Winter Olympics
who are those two people
please share your answers in the comment
section of the video we would like to
know from you
the Summer Olympics in Tokyo began on
the 23rd of July and recently concluded
on the 8th of August
we got to witness some Thriller matches
that went down to the wire some amazing
victories and sadly there were a lot of
heartbreaks as well winning and losing a
pardon parcel of any game
fans across the world were really happy
to see This Global event happened this
year Following last year's postponement
due to the coronavirus pandemic
with our Olympic fever High let's take
this opportunity to work around the
project to perform exploratory data
analysis using python to analyze and
visualize past Olympics data and answer
specific questions in this video we'll
be using specific python libraries such
as numpy pandas matplotlip and c bond to
make sense of our data and extract
meaningful information
we are going to visualize our results
with different charts and graphs
before I show you the data set that we
are going to use for our analysis I have
another general question for you
which is the first Olympics where all
the participating countries sent female
athletes a repeat which is the first
Olympics where all the participating
countries sent female athletes
put the ear and the city name where the
Olympics was held in the comments
section of the video
we'll be more than happy to hear from
you
now let me go ahead and show you the
data sets that we'll be using in this
video
so here you can see I have my Olympics
data set folder that has two datasets
these are CSV files one is called the
athlete underscore events and the other
one is called NOC underscore regions so
we'll be using these two data sets these
data sets can be downloaded from Kegel
we will post the data set links in the
description of the video please go ahead
and download them these data sets have
been directly taken from the internet
now I'll show you the data sets so this
is my first data set you can see on the
top athlete underscore events so I have
around 15 columns you can see the count
here and there are nearly
2 lakh seventy one thousand one hundred
and sixteen rows of information
so this is a huge data set that we are
going to use the other data set we are
going
to use in this demo is called NOC
underscore regions now here one thing to
note is NOC stands for National Olympic
Committee this is a three letter code
that is given by the Olympic Committee
you have the region names so afg is for
Afghanistan you have ALB for Albania elg
for Algeria we have also a column called
nodes you find some
notes about the region for example here
antiqua is actually antiqua and Barbuda
all right
let's move to the first data set that I
showed you
this is our primary data set for our
demo
so these data sets have been directly
taken from the internet and were not
validated so the results that you will
see in the demo is purely based on the
data that we have collected
so the file athlete underscore
events.csv contains nearly 2 lakhs 71
116 rows of information and there are 15
columns
so each row corresponds to an individual
athlete competing in an individual
Olympic event
so here ID is actually a unique number
for each athlete then we have the name
which is basically the athlete's name we
have the sex or the gender which is male
or F for female
then we have the age of the athlete
which is in terms of integers
we have the height in
centimeters of the athletes then we have
the weight in kilograms we have the team
name these are the country names you
have China Denmark Netherland there are
around 200 country names
then we have the NOC as I said NOC is a
three letter code that stands for
National Olympic Committee
we have the games this games contains
the year and the season you can see here
1992 summer you also have the Winter
Olympic information
all right
then we have a specific year column
to
tell you in which year this event had
occurred
now the year column is also an integer
column
we have the season so whether it was
summer olympics or Winter Olympics
then we have the city name this is the
host City
then we have the sport name you can see
here we have basketball Judo football
tug of war speed skating
there are so many
then we have another column called event
which is the complete even name as you
can see the sport name is basketball but
the even name is basketball men's
basketball to be very specific
again for Speed skating you have
different categories like women's
thousand meters 500 meters
all right now the final column is the
middle column so it has
the information about the athlete
whether
the athlete had won a medal be it gold
silver branch and any means the athlete
did not win any medals so we'll use
these two data sets now let's
get started with the demo
we'll be using jupyter notebook for our
analysis so I'll take you to my Jupiter
notebook right away
I have opened it on Chrome so this is my
Jupiter notebook that we are going to
use you can see here Olympics data set
analysis I have already
have a few cells that have been filled
with some piece of code
and you can see there are
some make sure this way we are going to
use this data set
so let's get started
first and foremost we'll import the data
sets so we are going to use numpy pandas
matplot Laban c-bond let me hit shift
enter to import all the
libraries
all right now the next thing is to load
the data sets
using pandas read underscore CSV
function
so
I'll create a variable called athletes
I'll say equal to
PD dot I'll use the read underscore CSV
function
and inside this function will give the
location
of the files so I'll copy this location
and here I'll paste make sure this is
within
quotations
and these are all
forward slash
give another forward slash and after
that I'll give the
file name that is
athlete
underscore
events
dot CSV
I'll close the quotation
let's run it
okay
similarly we will load the second data
set I'll create another variable called
regions
so it will have my data frame
I'll use the same function PD dot read
underscore CSV
I'll just copy this
file path till here
we'll paste it
and
I'll give my second file name which is
NOC underscore
regions dot CSV you can verify here
the first one is athlete underscore
events the second word is NOC underscore
regions
okay I'll close the quotation and we'll
run it again
okay there seems to be some error I
think this is a regions
cool
now moving ahead let's see the
first few rows of both the data sets
I'll use the head function for that
I'll see
athletes dot head
so this will print the first five rows
from my data set athletes you can see
here
from 0 to 4 you have 5 rows of
information the ID name sex or the
gender each height feet
if I go to the right you have games here
season sport event and medal
now let's see the
second data set that we
imported or loaded I'll see regions dot
head
it says regions
is not defined
let me cross check it
okay I have taken it as region let's
make it regions
cool
now let's run it there you go so these
are the first five rows from our second
data set you have NOC region and some
notes
all right
now the next step is to combine
both the data sets so we'll join the
data frames using the pandas merge
function
let me show you how to do it
so this is going to be a horizontal join
I'll create a variable
called athletes underscore TF
then
I'll use my first variable which is
athletes
I'll say dot merge which is my function
name
I'm going to merge
the Region's data frame
I'll use the how parameter
in how I'll give my value as I want to
do a left join
and my common column in both the data
sets is actually NOC
so I am going to use
the NOC column as my common column to
merge both the data sets
now let's go ahead and
print the
most data frame I'll say athletes
underscore DF dot head let's run it
there you go
so if you see clearly if I move to the
right you can see here we have added two
more columns that were present in the
second data set which was regions so we
have regions and nodes
added to my
First Data set that is
athletes underscore
events
cool
now one thing to note here is
see the column names are not consistent
if you see here the rest of the columns
start with a capital letter but if you
see the last two columns that we just
added now start with the lowercase
letter so we'll use
the rename function to
meet the column names consistent
but before that
let's
see the
shape of the data frame so I'll print
the shape of the data frame to know the
total number of rows and columns I'll
see
athletes if I hit tab
you will see it will give me
The Prompt I'll select athletes
underscore DF
I'll use the
shape attribute
let's run it
and see the result you can see here it
gives me the total number of rows so 2
lakh 71 116 rows and earlier we had 15
columns in the first data set and now
that we have added two more columns so
the total number of columns becomes
17 now
cool
so now it's time to make the
column names consistent
so I'll show you how to do it I'll see
athletes underscore DF
dot I'll use the rename function
and then I'll say
columns
equal to
I'll use curly braces
My First Column that is region I want to
change it to
a region but the r should be Capital now
or Upper Keys
give a comma
and then see
my second column this should be
a region actually
my second column that is notes I want to
change the first letter to uppercase so
I'll say capital n
the rest all remains same
we'll give a comma here and say
in place equal to true
so it will change
the column names and will reflect
in this athletes underscore DF data
frame
let's run it
now to verify you can again use the head
function I'll run this again
let me scroll down and move to the right
you can see the difference there you go
so we have successfully renamed the last
two columns region and notes
all right
now moving ahead
now
I'll show you how you can use the info
method to print information about a data
frame including the index data type the
column data types non-null values and
memory usage
so for that you just need to use the
info function so I'll write
athletes underscore DF
dot info
let's run it there you go so here we
have the
data columns you can see total 17
columns you have 2 lakhs
7116 rows or entries
then you have the
different column names and
if it says non-null and the data type of
the column below you can see some
information about the memory usage
all right
next
the describe method is used for
calculating statistical information such
as mean standard deviation the
percentiles of the numerical values of
the data frame and much more
it analyzes both numeric and object
series and also the data frame column
sets of mixed data types so let me show
you how using
the describe function you can display
some statistical summary
I'll just write describe
and
give parenthesis let's run it
okay if I scroll down
you can see here
by default
the describe function will only give
information about numerical columns so
here you can see we have the total count
the mean of each of these columns you
have the standard deviation the minimum
and maximum value and then we have the
25th percentile the 15th percentile and
the 75th percentile value of the columns
ID age height weight and year
all right now one thing to notice here
is if you see the year column the
minimum year is
1896 so this is when
Olympics started and until recently the
Rio Olympics that was held in 2016. all
right now moving ahead
now let's check if there are any null
values present in The Columns of the
data set
so first I am going to create
a variable called
Nan values
give equal to I'll see
athletes underscore DF and the function
to check is I'll see is any
I'll create another
variable called any and underscore
columns
and here I'll use the any function I'll
say Nan underscore this
variable which is underscore values
dot I'll see any
and I'll print my nan columns variable
so this will display the result in terms
of
Boolean values so if there are any null
or any n or missing values in any of the
columns it will say true otherwise it
will say false
let's display the result
there you go so if you Mark here clearly
so there are
nearly six columns where we have missing
values we have
age height weight middle region and
notes columns that have
missing values so hence it has given us
true the rest of the columns do not have
any any n or missing values hence they
are false
all right
let me scroll down
now
let's see the total number of null
values for the
above
six columns
so I'll say
athletes
underscore DF dot I'll use the function
is null and again I'll use this sum
function
okay this should be is null
if I run it you can see it here
so and each column has 9474
rows where we have null values
then we have some null values for the
height column as well for the weight
column so these are the total number of
rows where we do not have any
information regarding each height weight
or region
notes this middle is
self-explanatory because a lot of the
athletes who participate in Olympics
don't win any medals so for them the
value is any now before I move ahead
I have a question for you people so the
question is I want you to print the
column names containing null values or
missing values in the form of a list
so please answer this question and put
it in the comment section of the video
we would be happy to know your approach
so the question I'll repeat it again I
want you people to print the column
names containing null values or missing
values in the form of a list so
basically
on the top we saw there were
six columns that had
null values I want you to print these
six columns in the form of a list
all right now moving ahead now let's see
the data for specific countries let's
say you want to see the athletes who
have participated in the Olympic Games
from the beginning for India
for that you can filter your result
using a function called query
so let me show you how to do it I'll see
athletes underscore DF dot we'll use the
query function
and then
I'll say team which is my column name
should be equal to equal to
and the value I'll give us India
now let's display the first five
rows of information
or the details for the athletes who are
from India if I run this
okay there is some error here
okay so we need to make sure this entire
expression or the condition should be
within
single quote I'll just delete this
single code from here and we'll add it
in the end
now let's run it there you go so here
you can see we have
the top five rows of
the athletes who are from India you can
see here the region is India you can see
the nocs India the team is India and
let me go to the left you can see the
name of the athlete the sex each so for
each you have some missing values you
have the wheat team here and everything
all right
similarly you can also check for Japan
let me just copy the
above code
I'll paste it here and instead of India
I'll say Japan
I'll run it
there you go
so if you see here
you can see all the details are for the
athletes who are from Japan
all right
moving ahead now I want to know the top
10 countries who have participated since
the Inception of Olympics in 1896.
so for that I'll create a variable
called top underscore 10 underscore
countries
and say equal to
I'll use my data frame that is
athletes underscore TF
I'll say dot team
then I'll use the function
value underscore
counts
I'm going to
sort
my count
in ascending order
just Mark the way in which I am writing
the functions
any error in terms of syntax so the flow
will throw you an error
I want to display the top 10 countries
now let's go ahead and
print it I'll say
top underscore 10 underscore countries
all right
let me run it
okay it has given us an error let's
debug it okay so this should be value
counts and not count
let's run it again
another error
okay
so this should be short underscore
values and not value
let's run it again there you go
so here you can see the top 10 countries
participating in Olympics since
1896 you have United States then we have
France so these are the number of
participants who have taken part since
1896
so the most number of participants have
come from us then we have France Great
Britain Italy Germany Canada Japan
Sweden
we also have Australia and Hungary
I'll scroll down
now we are going to convert this table
that we got or the output that we got
in the form of a graph so I'm trying to
create a bar plot to plot the top 10
countries who have participated in
Olympics so here I'm using the
figure function to give the figure size
so these are the dimensions 12 comma 6.
now I'll tell you about this PLT extix
means just wait for a while
I have given a title to my plot saying
overall participation by country
and then
using the c bond library and the bar
plot function I am plotting the X and
the
y-axis so my x axis has top
I should make this top 10 countries
because above we used top underscore 10
underscore countries similarly for
y-axis I'll make it top underscore 10
underscore countries and then I'm using
a color palette called set 2.
let's run it
there you go so if I scroll down you can
see here we have a nice bar plot this is
a vertical bar plot and here you can see
the bars which represent the different
country names first we have United
States which has the highest
participation since the beginning of the
Olympics then we have France Great
Britain Italy Germany Canada
and we have the rest of the countries
cool
now moving ahead
the next visualization we are going to
see is the age distribution of the
athletes so for this we are going to
create a histogram
I'll be using the matplotlib library
specifically for this visualization
so I'll say PLT dot figure
we'll give the figure size using the
argument fig size
equal to
and this will be a tuple actually
my size is going to be 12 comma 6.
I'll see
PLT
Dot
title
now you can give
any title that you want I'll see
each
distribution
of the
athletes
then we'll also give the X labels I'll
say PLT Dot
X label
this will have each
then we'll see PLT Dot
y label
and this will have
the label as number of
participants
next I'm going to use the hist function
so I'll say plt.hist
and I'll
pass in my data frame that is
athletes underscore DF
Dot
age
which is my column name
comma
I am going to pass in the
bins
for that I am going to use the NP dot
e-range function so MP is for numpy
and inside this I'll say 10 comma
ET comma 2.
so my bins will start from the value 10
and go until 80 with a size of 2.
comma
I'll give another parameter that is
going to specify the color of the bins I
want my color to be Orange
and then
I'll use The Edge color to separate the
bins
LC Edge color this is the
parameter or the argument name and the
color I want is white
let's give a
semicolon here and this should be Edge
color there's a spelling mistake here
now let's run it and we'll see the
output so there you go
so this is a nice histogram that shows
the distribution of the
each of the athletes you can see the
title is distribution of the athletes on
the y-axis you have the number of
participants on the x axis we have the
age values ranging from 10 to 80 with a
size of
2
and if you say this we have most number
of athletes
who have each between
20 to 30 you can see here so early 20s
we have maximum number of
athletes participating in the Olympics
we also have a few athletes who are
Beyond 40 years of age you can see here
we have a few athletes even closer to 60
also and similarly we have a few
athletes who are under 18 years of age
all right
now you can see here the bins we had
taken orange color so are all the
bars are represented in orange color
and the edge you can see here we have
the white color
all right
now moving ahead
now in the initial slides of the video
we discussed the summer and winter
Olympic games let's look at the
different sporting events that are part
of the summer and winter Olympic Games
just to give you a heads up the Winter
Olympic Games are held once every four
years for sports practiced on snow and
ice
so here I have my variable name winter
underscore Sports so I'm extracting
for season equal to equal to Winter and
I am going to display only the unique
values now let me run this cell
okay so we can see here these are the
different winter sports that are
held during the winter Olympics
similarly let's see for
Summer Olympics so what I'm going to do
here is I'll just copy this cell of code
and we'll edit the
variables I'll say summer
underscore Sports
athletes underscore DF Remains the Same
here season will change it to
summer
dot sport dot uniquely means the same
and here I'll say summer underscore
Sports
this should be small
now let's run it there you go
so here you can see we have
mode number of Olympic sports that are
held during the summer olympics compared
to
Winter Olympics
so these are the sports that have played
on snow and ice and these are the sports
that are played
during
summer
moving ahead
now it's time to analyze the total
number of male and female participants
who have taken part in different games
since 1896 till 2016 Rio Olympics
all right
so I'll see
gender
underscore counts which is my variable
name
I'll use my
data frame that is athletes underscore
DF Dot
my variable name that is sex Dot
value underscore
counts
and then we are going to print
gender underscore counts
let's run this there you go
so since the Inception of Olympics
we have more number of male participants
than female participants
now here in this current cell you can
see we are trying to plot a pie chart
for male and female athletes so I have
given my figure size then I have my
title as gender distribution I'm using
the matplotlab library and the Pi
function I am using the variable gender
counts that we used here
then I'm giving my labels as gender
underscore counts.index now I'm using
this Auto PCT the auto PCD parameter
enables you to display the percent value
using python string formatting so this
is my string formatting that I have used
and I'm
initialize my start angle for the pie
chart as 150 degrees and I am also
giving Shadow to my pie chart so I have
written Shadow equal to True let's run
it all right so you can see here this is
my
pie chart that shows you the
distribution of the
male and female participation
so for me it is 72.5 percent for female
so far it is
27.5 percent as per the data set that we
have you can change this start angle to
let's say 180 degree
and it will
change the pie chart to this direction
cool
now moving ahead
this time
we are going to find the total number of
medals that the athletes have won
so I'll use my
data frame athletes underscore DF Dot
and then my column that is Middle I'll
say dot value
underscore counts
let's run it there you go so you can see
the gold medals the bronze medals and
the silver medals are very much similar
to each other the numbers are pretty
much the same
all right
now it's time to focus on the total
female athletes who have taken part in
each
Olympics
so I'll create a variable called female
underscore
participants
I'll say equal to and then use my data
frame name that is athletes underscore
DF
using square brackets
I'll see
athletes
underscore DF Dot
the gender should be equal to equal to
female
and
I'll use ampersand
I'll say
just copy this
paste it here
LC Dot season
equal to equal to we'll check for Summer
Olympics
and I want to extract only
the gender column so here it is X comma
my year column which is here
okay
and then
I'll say
female
underscore
participants
equal to
I'll just copy this
paste it here
and then I'll use the group by function
say Group by which is part of the pandas
Library
I'll say here
and then I want to find the count
I'll reset the index
say reset underscore index
is a function
and finally we are going to print
female underscore participants
and let's say the head
all right so what we are trying to do is
I am trying to filter my data only for
the female athletes for Summer Olympics
and here I am printing
the participation based on each year so
I'm finding out the count
so here we need to add
one more square bracket
all right
now we'll
run it and see the result there you go
so you can see here from 1900 1904
all these years you can see the female
participation
let me change it to tail so that we have
the recent data of the Olympics
you can see it here for the Beijing
Olympics 5816
women athletes participated in 2012
London Olympics we had
5815 Olympics similarly for the 2016 Rio
Olympics we had
more participation than the London
Olympics so
6223 women athletes had participated
all right
now here this is another way in which
you can filter your data for female
athletes so I'm
using two parameters my gender should be
equal to female and season
is Summer Olympics let me just run it I
have stored it in a variable called
women Olympics
now here I am trying to find a
count plot or I am trying to create a
count plot using my c-bond SNS Library
I have set my style to dark grid then my
figure size I have given as 20 comma 10
my count plot will have the x axis
as year
the data is women Olympics and Palette
I'm using as spectral and then I have
given a title women participation
let's run and see the output
there you go if I scroll down you can
see on the top I have the title for my
account plot which says women
participation and on the y-axis I have
the count and at the bottom you can see
the different year values from 1900 till
2000 and
16
and 2016 had the highest number of
female participation
cool
let me scroll down so in this cell of
code we are trying to plot a line graph
let me run it and show you the output so
this line graph shows the trend which
says plot for female athletes over time
so here you can see the line graph so
gradually the women participation has
increased in Olympics since
its Inception there was a slight
decrease here this is around
1950s and again you can see here there's
a decrease with the women participation
in 1980 but since then since 1980 there
has been continuous
increase in the participation of female
athlete numbers
cool now coming to the next section of
our analysis
now we are going to filter the data to
see the details of the athletes who have
won gold medals
so I'll create a variable called gold
medals
it's equal to I'll use my
data frame as athletes underscore DF
and
within parenthesis I'll use my data
frame name which is athletes
underscore
DF Dot
I'll use the condition middle equal to
equal to
and my value would be gold
next
I'm going to say
gold medals dot head
let's run it
there you go
so here
we have the
top five rows of the athletes who have
won a gold medal you can see all the
records have middle as gold
now we are going to use this
subset
of the data and perform some more
analysis so here
I want to take only the values that are
different from any n so I'm going to use
is
finite
function and inside that I have set gold
medals each
let me just run it cool
now I want to see
the athletes who have secured a gold
medal beyond the age of 60 years
which is very rare
so we'll see the total number of
athletes with more than 60 years of age
having won a gold medal
so here I'm going to say
gold medals
I'll use my
column as ID
and then
I'll use
my variable gold medals
and then
I'll say each
should be
greater than
60
and then
close my square bracket and say count
okay let me just verify if everything is
fine
yeah
I'll run it and we'll see the result so
there are total
six athletes who have won a gold medal
having age more than 60 years
cool
now let me check
for which
sport these six gold medals have come
so I'll say
putting underscore event
this is going to be my variable name
equal to
I'll use the
same variable name gold medals
I'll going to choose
my support column
and then
I'll give my
condition each
greater than 60. now let's go ahead and
we'll print
the variable sporting event
if I run this you can see it here
so
for art competitions
even for archery and suiting and this
one called Rook
we have had gold medals from athletes
who had an age
more than 60 years
now we are going to plot
this result or the table that we
achieved on the top
so I'll say PLT Dot
figure
I'll give my
figure size
equal to let's say 10 comma 5
then
I'll say PLT Dot
we'll use the
tight layout
see tight underscore layout
then I'm going to use the c bond library
and
create a count plot
for my variable
sporting underscore event
then I'll say PLT Dot
title
I'll give the title as
gold medals
for
athletes
over
60 years of age
let's run it
and if I scroll down you can see here we
have a nice count plot I have my title
gold medals for at least over 60 years
and since for archery we had three
players who secured a gold medal having
in each more than
60 years
you can see here archery is three art
competition one Rogue is one and
shooting we had
One Medal
all right
now we'll see the total gold medals from
each country
so for that
I'll say
gold
medals
Dot we'll use the
region column
and
followed by that I'll use the
value underscore counts function and
I'll reset the index
with name
equal to I'll provide the
middle column
then we are going to print the
head for the top five
countries let me run it you can see it
here
so
USC
has secured the most number of gold
medals then we have Russia Germany UK
and then we have Italy
cool
now in this cell I am going to create a
plot to
visualize the table that I got above
so I've used my labels my titles I am
using the cat plot function that is
present in the c bond Library I have my
x-axis my y-axis the data which is total
gold medals
let me just verify
okay and we'll run it
if I scroll down
you can see this is a different palette
that I had used which is rocket
and you can see USA has got the
most number of gold medals then we have
Russia Germany UK Italy and France now
we also have included France here which
was not present in this table the reason
being I have used head as six so it will
give me the top six countries
all right
now we will analyze
and look at the data for the most recent
Olympic event that is present in our
data set I'm talking about the 2016 Rio
Summer Olympics
so first of all I'll create a variable
called Max ear
which will be equal to my data frame
name athletes underscore DF
my column name here and I'll use the max
function
then
let's go ahead and print my Max here
I'll just show you the output you can
see here my Macs here present in the
data set is 2016. the Rio Olympics
next
we will
create another variable called team
underscore names
that will be equal to
my
data frame name athletes underscore DF
within square brackets I'll give
parenthesis and then see
athletes underscore TF
Dot
year
should be
equal to equal to
my output that is Max here
which is actually 2016.
and then I'll say
ampersand
I'll just copy this
will paste it here
this time I'll use the
middle column and c equal to equal to
gold
I'll say dot team
then I'll say team underscore names Dot
value
underscore
counts
dot head
and will display the
top
10
countries
let me run this
there you go so in Geo Olympics
United States secured the
most number of gold medals now the
reason this is 137 is we have also
counted the team events for example
basketball
similarly Great Britain had 64 gold
medals in total
Russia 50 we have Brazil 34 Argentina 21
France 20 and Japan 17.
all right
now
using the above result we are going to
create a bar plot I'll just change the
steam underscore list to team underscore
names
similarly here also I'll make the
corrections as team underscore names
cool
now we'll run it and you can see here we
have a nice
horizontal bar plot so we have United
States at the top Great Britain Russia
Germany China Brazil so here I am
displaying the top 20 Nations since I
have used head as 20
so these are the top 20 Nations who
secure the most number of gold medals in
the Rio Olympics
all right
now in the final section of this video
we will create a scatter plot to
visualize the height and weight of male
and female athletes who have won a medal
now it can be a gold medal a silver
medal or a bronze medal but before that
we
need to filter the data only for
athletes who have won a medal now if you
had noticed here are
medals column also had a few
null values so we are not going to
consider those null values here
we are only going to consider for the
athletes who have
so for that I'll create a
variable called not underscore null
underscore
medals
equal to I'll say
athletes underscore DF
then
I'll give my
let's make a DF
I'll give my condition
let me just copy this
I'll paste it here
and then
I'll give my condition height
and use the
not null function
and then I'll say
ampersant
create another parenthesis I'll see
athletes underscore DF
this time we'll consider the weight
column
again I'll use the function as not null
and
I'll close the parenthesis
okay I had missed one s here cool
let me just run it now all right
we are going to create our final plot
I'll say PLT dot figure
I'll give my
figure size
equal to
I'll say 12 comma 10.
I'll see
access
equal to
SNS Dot
we'll be creating a scatter plot to plot
the
height and weight of the athletes who
have won a medal
I'll say scatter plot
in my x-axis I'll have
height
comma
in my y-axis I'll have
weight
comma
my data should be
not underscore null underscore medals
so this is what we created here not
underscore null underscore metals
comma
I'll use Hue equal to my sex column
cool
finally I'll say PLT dot I'll give a
title to my plot
saying
height
versus
weight
of
Olympic
medalists
cool
now let's see our scatter plot
this might take some time to
give the result because there are so
many athletes present in a data set who
have won a medal and also we are
filtering
in terms of
Hue which is for male and female there
you go
so if I scroll down you can see here
we have a nice scatter plot on the top
we have the title of the plot saying
height versus wheat of Olympic medal is
you can see
our age as the hue
so blue points are for the male athletes
and orange points are for the female
athletes
and on the y-axis we have the weight in
terms of
kilograms and you have the height in
terms of centimeters
cool
so that brings us to the end of this
demo session on Olympics data set
analysis
so we used two data sets two
carry out this exploratory data analysis
and we created some visualizations to
analyze and visualize the data
welcome to this video tutorial on
introduction to SQL by simply loan in
this session we are going to learn about
databases how data is stored in
relational databases and we'll also look
at some of the popular databases finally
we'll understand various SQL commands on
MySQL server now let's get started with
what is a database
so according to Oracle a database is an
organized collection of structured
information or data that is typically
stored electronically in a computer
system
a database is usually controlled by a
database management system or dbms
so it is a storage system that has a
collection of data relational databases
store data in the form of tables that
can be easily retrieved managed and
updated
you can organize data into tables rows
columns and index it to make it easier
to find relevant information now talking
about some of the popular databases
we have mySQL database we also have
Oracle database then we have mongodb
which is a nosql database
next we have Microsoft SQL Server next
we have Apache Cassandra which is a free
and open source nosql database and
finally we have postgres SQL now let's
learn
what is SQL so SQL is a domain specific
language to communicate with databases
SQL was initially developed by IBM
most databases use structured query
language or SQL for writing and querying
data SQL commands help you to store
process analyze and manipulate databases
with this let's look at what a table is
so this is how a table in a database
looks like
so here you can see the name of the
table is players
on the top you can see the column names
so we have the player ID the player name
the country to which the player belongs
to and we also have the goals scored by
each of the players so these are also
known as fields in a database
here each row represents a record or a
tuple
so if you have the player ID which is
one zero three here the name of the
player is Daniel he's from England and
the number of goals here score is seven
so you can use SQL commands to query
update insert records and do a lot of
other tasks there are mainly four types
of SQL commands so first we have data
definition language or ddl
so ddl commands change the structure of
the table like creating a table deleting
a table or altering a table all the
commands of ddl are Auto committed which
means it permanently save all the
changes in the database
we have create alter drop and turn k-ddl
commands
next we have data manipulation language
or DML so so DML commands are used to
modify your database it is responsible
for all forms of changes in the database
DML commands are not Auto committed
which means it can't permanently save
all the changes in the database
we have select update delete and insert
as DML commands now select command is
also referred to as dql or data query
language third we have data control
language or DCL
so DCL commands allow you to control
access to data within the database these
DCL commands are normally used to create
objects related to user access and also
control the distribution of privileges
among users
so we have Grant and rework which are
the examples of data control language
finally we have something called as
transaction control language or TCL so
TCL commands allow the user to manage
database transactions commit and roll
back are example of TCL
now let's see the basic SQL command
structure
so first we have the select statement so
here you specify the various column
names that you want to fetch from the
table we write the table name using the
from statement
next we have the WHERE Clause to filter
out a table based on some conditions so
you can see here where condition 1
condition 2 and so on
then we have the group by Clause that
takes various column names so you can
write Group by column one column two and
so on
next we have the having Clause to filter
out tables based on groups finally we
have the order by Clause to filter out
the result in ascending or descending
order now talking about the various data
types in SQL
so we have exact numeric which has
integer smallint bit and decimal then we
have approximate numeric which are float
and real
then we have some date and time data
types such as date time timestamp and
others
then we have string data type which
includes car this war car and text
finally we have binary data types
and binary data types have binary VAR
binary and image now let's see some of
the various operators that are present
in SQL
so first we have our basic arithmetic
operators so you have addition the
subtraction multiplication division and
modulus
then we have some logical operators like
all and any or between exists and so on
finally we have some comparison
operators such as equal to not equal to
this greater than less than greater than
equal to or less than equal to not less
than or not greater than now let me take
you to my MySQL workbench well we will
learn to write some of the import and
SQL commands use different statements
functions data types and operators that
we just learned let me now go ahead and
open my my SQL workbench so in the
search bar I'll search for
MySQL workbench you can see I'm using
the 8.0 version
I'll click on it and
here it says welcome to mySQL workbench
and Below under connections you can see
I have already created a connection
which says local instance then you have
the root the local host and the port
number let me click on it
you can see the service the username is
root and I'll enter my password
and hit ok now this will open the SQL
editor so this is how the MySQL
workbench looks like here we learn some
of the basic SQL commands so first let
me show you the databases that are
already present
so the command is so databases
you can hit tab to autocomplete I'll use
a semicolon
I'll select this and here you on the top
you can see the execute button so if I
run this
below you can see the output it says
show databases seven rows returned which
means
currently there are seven databases you
can see the names
all right now
let's see I want to see the tables that
are present inside this database called
world
so I'll use the command use
World which is the database name
now let me run it so currently I'm using
the world database so to display the
tables that are present in the world
database I can use the show command and
write show tables
and I'll hit Ctrl enter this time to run
it all right so you can see the tables
that are present inside this
World database so we have three tables
in total City Country and Country
language
now if you are to see the rows that are
present in one of the tables you can use
the select command so I'll write select
star which basically means I want to
display all the columns so star here
means to display all the columns
then I'll write my
from
the table name that is City
so this command is going to display me
all the rows that are present inside the
city table
so if I hit Ctrl enter
all right you can see the message here
it says
1000 rows were returned which means
there were total thousand records
present inside the city table
so here you can see there's an ID column
A neem column this country code district
and population
all right
similarly you can check the structure of
the table by using the describe command
so I'll write describe
and then
I'll give the
table name that is City now let's just
run it
there you go the field shows the column
name so we have ID name country code
district population
type here shows the data type of each of
the columns so district is character 20
ID is an integer population is also
integer
null says yes or no which means if no
then there are no null values if it's
yes which means there are null values in
your table
key here represents whether you have any
primary key or foreign key
and these are some extra information now
let's learn how to create a table in
MySQL so I'll use the create table
command for this and before that
let me create a database
and I'll name it as SQL intro so the
command is create
database
and I'll give my database name that is
SQL underscore intro
let me keep a semicolon and hit Ctrl
enter
so you can see I have created a new
database now
if I run this command that is show
databases
you can see this
newly created database that is SQL intro
if I scroll down
there you go you can see the name here
SQL intro
okay now within this database we'll
create a table called employee details
now this will have the details of some
employees
so let me first show you how to create a
table
that will be present inside the SQL
intro database
so use the command create
table
and then
I'll give my table name that is going to
be employee underscore details
next
the syntax is
to give the column names so my first
column would be the name column which is
basically the employee name
followed by
the data type for this column since name
is a text column so I'll use War car
and I'll give a value of 25. so it can
hold only 25 characters
okay next I also want the age of the
employee now age is always an integer so
I'll give int
okay
then
we can have the gender of the employee
so gender can be represented as F or m f
for female and M for male so I'm using
the car data type or character data type
and I'll keep the value as 1.
then let's have the
date of join or doj and this is going to
be of data type date
all right
next
we'll have the city name that is the
city to which the employee belongs to
so again this is going to be War car 15.
finally we'll have a salary column
and salary will keep it as float since
salary can be in
decimal numbers as well now I'll give a
semicolon all right so let me just
quickly run through it so first
I wrote my create command then the table
which is also a keyword
followed by
the table name which is employee details
here and then we keep the column names
such as name each this gender
need to join City and salary
for each of the columns we also give the
data type
all right so let me just run it
okay so here you can see we have
successfully created our first table
now you can use the describe command to
see the structure of the table
I'll describe EMP underscore details
if I run this
there you go
so under field you can see the column
names then you have the data types
null represents if the table can accept
null values or not and these are
basically empty
and we haven't set any default
constraint
all right
moving ahead
now let's learn to add data to our table
using the insert command so on a notepad
I have already
written my insert statement let me just
copy it and then I'll explain it one by
one all right
so if you see this
so we have used an insert into statement
or a command followed by
the table name that is EMP details then
this is the syntax using values I have
passed in all the records so first we
have Jimmy which is the name of the
employee then we have 35 it basically
represents the age then m means the
gender or the sex
then we have the date of join
next we have the city to which the
employee belongs to and finally we have
the salary of the employee so this
particular information represents one
record or a tuple
similarly the next employee we have is
Shane you can see the age and other
information then we have Mary this
Dwayne Sarah and Ami all right so let me
go ahead and run this
so this will help you insert
the values in the table that you have
created
you can see we have successfully
inserted six records
now
to display the records let me
use the select statement so I'm using
select star from EMP underscore details
if I run this
you can see my table here and the values
it has so we have the name column the
each column the state of join City
salary
and these are the values that you can
see here
moving ahead now let's say you want to
see the Unique city names present in the
table
so in this case you can use the distinct
keyword along with the column name in
the select statement so let me show you
how you can print the distinct
city names that are present in our table
now if you notice this table clearly
we have Chicago
Boston Austin
this New York and this Seattle repeated
again so I only want to print the unique
values
so for that I can write my select
statement as select
distinct
then I'll give my column name which is
City from
my table name that is EMP details
if I run this
you can see
my query has returned five rows and
these are the values so we have Chicago
Seattle which was repeated twice is just
been shown once then we have Boston
Austin and New York if getting your
learning started is half the battle what
if you could do that for free visit
scale up by simply learn click on the
link in the description to know more
now let's see how you can use inbuilt
aggregate functions in SQL
so suppose we want to count the number
of employees in the table so in that
case you can use the count function in
the select statement so let me show you
how to do that
so I'll write
select
I'll use my function name that is count
now since I want to know the
total number of employees I am going to
use their name
inside the brackets from
employee underscore details
now if I run this
this will return the total number of
employees that are present in the table
so we have six employees in total
now if you see here in the result it
says count name now this column is
actually not readable at all so what SQL
provides is something called as an alias
name so you can give an alias to the
resultant output so here I can write
select count of name
and use an alias as as
I can give an alias as
count underscore name
and run this statement again
there you go you can see here in the
resultant
output we have the column name as count
name which was our Alias name now
suppose you want to get the total sum of
salaries you can use another aggregate
function called sum so I'll write my
select statement and this time instead
of count I am going to write sum and
since I want to find the sum of salaries
so inside the bracket I'll give my
salary column from
my table name that is employee details
if I run this
this will result the total sum of
salaries so basically it adds up
all the salaries that were present in
the salary column now let's say you want
to find the average salary so instead of
sum you can write the average function
which is ABG so this will give you the
average salary
from the column salary so you can see it
here this is average salary now if you
want you can give an alias name to this
as well now you can select specific
columns from the table by using the
column names in the select statement
so initially we were selecting all the
columns for example like you saw here
the star represents that we want to see
all the columns from the employee
details table
now suppose you want to
see only specific columns you can
mention those column names in the select
statement
so let's say I want to select just the
name age
and the city column
from my table that is employee details
so this will result
in displaying only the name agent City
column from the table if I run it there
you go it has given only three columns
to me
now SQL has a where Clause to filter
rows based on a particular condition
so if you want to filter your table
based on specific conditions you can use
where Clause now where Clause comes
after you give your table name
so suppose you want to find the
employees with age greater than 30 in
this case you can use a where Clause so
let me show you how to do it
I'll write select
star from
my table name that is
employee details
and after this I'll use my where Clause
so I'll write where
each
greater than
30.
if I run this
it will give me the output where the age
is only greater than 30 so it excluded
everything that is less than 30. so we
have four employees whose age is greater
than 30 here
now suppose you want to find only female
employees from the table you can also
use a where Clause here
so I'll write select
let's say I want only the name the
gender which is sex here
comma City
from my table that is employee details
where
I'll give my column name that is 6 is
equal to since I want only the female
employees I'll give
f
and run this statement
okay you can see here our employee table
has three female employees so suppose
you want to find the details of the
employees who belong to Chicago or
Austin in this case you can use the or
operator
now the or operator in SQL displays a
record if any of the condition separated
by or is true
so let me show you what I mean
so since I want the employees who are
from Chicago and Austin
I can use an or operator so I'll write
select star from
EMP details which is my table name
then I'll give my where Clause where
City
equal to
I'll give my
city name as Chicago
and then I'm going to use the or
operator or
City equal to
I'll write Austin
I'll give a semicolon and let me run it
there you go
so in the output you can see all the
employees
who belong to the city Chicago and
Austin
now that is another way to write the
same SQL query
so you can use an in operator to specify
multiple conditions
so
let me just copy this
and instead of using the or operator
this time I am going to use the in
operator
so I'll delete this
after the where Clause I'm going to
write where City
and use the in operator
inside bracket
I'll give my city names as Chicago
and I want Austin so I'll give a comma
and write my next city name that is
Austin
so this query is exactly the same that
we wrote on top
let me run this
you will get the same output there you
go
so we have Jimmy and Dwayne who are from
Chicago and Austin respectively
now SQL provides the between operator
that selects values within a given range
the values can be numbers text or dates
so suppose you want to find the
employees whose date of join was between
1st of Jan 2000 and 31st of December
2010.
so let me show you how to do it
I'll write select star from
EMP details where
my date of join that is doj
between
I'll give my two date values that is
first of
Jan 2000
and
I'll give my
second value
the date value that is
31st of December 2010.
so every employee who has joined between
these two dates will be displayed in the
output
if I run it
we have two employees who had joined
between 2000 and 2010 so we have Jimmy
and Mary here who had joined in 2005 and
2009 respectively
all right
now in where Clause you can use the and
operator to specify multiple conditions
now the and operator displays a record
if all the conditions separated by and
are true
so let me show you an example I'll write
select
star from
employee details table
where
I want the age to be greater than 30
and I want
sex to be male
all right so here you can see I have
specified two conditions so both the
conditions are true only then it will
result in an output
if I run it you can see there are two
employees who are male
under each is greater than 30. now let's
talk about the group by statement in SQL
so the group by statement groups rows
that have the same values into summary
rows like for example you want to find
the average salary of customers in each
department
now the group by statement is often used
with aggregate functions such as count
sum and average to group the result set
into one or more columns
let's say we want to find the total
salary of employees based on the gender
so in this case you can use the group by
clause
so I'll write select
let's say sex comma
I want to find the total sum of salary
as I'll give an alias name let's see
total salary
from
my table name that is employee details
next I am going to group it by sex
okay
let me run it there you go so we have
two genders male and female and here you
can see the total salary so what this
SQL statement did was first it grouped
all the employees based on the gender
and then it found the total salary
now SQL provides the order by keyword to
sort the result set in ascending or
descending order
now the order by keyword sorts the
records in ascending order by default to
sort the records in descending order you
can use the desc keyword
so let's say I want to sort my employee
details table
in terms of salary so I'll write select
star from
EMP underscore details
and I'll use my order by clause on the
salary column
so this will sort
all the records
in ascending order of their salary which
is by default you can see
the salary column is sorted in ascending
order
now suppose you want to sort the salary
column
and display it in descending order you
can use this keyword that is desc
let me run it
you can see the output now this time the
salary is sorted in descending order and
you have the other values as well now
let me show you some basic operations
that you can do using the select
statement
so suppose I write select
and do an addition operation let's say
10
plus 20
and I'll give an alias name as addition
if I run this
it will give me the sum of
10 and 20 that is 30.
similarly
you can use
the subtraction of reader
and you can change the Alias name as
let's say subtract
let's run it
you get minus 10. now there are some
basic inbuilt functions there are a lot
of inbuilt functions in SQL but here
I'll show you a few
suppose you want to find the length of a
text or a string you can use the length
function
so I'll write select and then use the
length function I'll hit tab to auto
complete let's say I want to find the
length of country India
and I'll give an alias as total length
if I run it
you see here it returns 5 because there
are five letters
in India
there is another function called repeat
so let me show you how repeat works
so I'll write select
repeat
let's say I want to repeat the symbol
that is at the rate
I'll put it in single course because it
is a text character
and I want to repeat this character for
10 times
close the bracket
and let's run it
you can see here in the output it has
printed at the rate 10 times you can
count it
all right
now let's say you want to convert a text
or a string to uppercase or lowercase
you can do that as well
so I'll write select and use the
function called upper
let's say I want to convert
my string that is India to uppercase I
am not giving in any Alias name
if I run this
see my input was capital I and
everything else was in small letter
in the output you can see it is
converted
my input to all caps
similarly you can change this
let's say you want to print something in
lower case you can use the lower
function
let's say
this time everything is in
upper case if I run it
it converts India to lowercase
now let's explore a few date and time
functions let's say you want to find the
current date there is a function called
Cur which stands for current
and this is the function I'm talking
about which is current date
if I run this you will get the current
date
that is 28th of Jan 2021
and let's say you want to extract the
day from a date value
so you can use the day function let's
say I'll use day and I want to find the
day from my current date
if I run this
you get 28 which is today's date
now similarly you can also
display the current date and time so for
that you can use a function that is
called now
so this will return the current date and
time
you can see this is the date value and
then we have the current time
all right
and this brings us to the end of our
demo session so let me just scroll
through whatever we have learned so
first I showed you how you can see the
databases present in MySQL then we used
one of the databases and checked the
tables in it then we created another
database called SQL intro for our demo
purpose we use that database and then
we created this table called employee
details with column names like name
integer the sex date of joints City and
salary
I showed you the structure of the
database let me run this again so you
get an idea you can see this was the
structure of our table
then we went ahead and inserted a few
records so we inserted records for six
employees so you have
the employee name the age the gender the
date of join the city to which the
employee belongs to and the salary of
the employee
then we saw how you can use the select
statement and display all the columns
present in the table
we learned how you can
display the Unique city names
we learned how to use
different aggregate functions like count
average and sum
then we learned how you could display
specific columns from the table
we learned how to use where clause
then we used an or operator we learned
about in operator
the between operator
then we used an and operator to select
multiple
conditions
finally we learned about group by order
by and some basic SQL operations
we are going to learn two important SQL
statements or Clauses that are widely
used that is grouped by and having
first we'll understand the basics of
group by and having and then jump into
MySQL workbench to implement these
statements so let's begin first
what is Group by in SQL so the group by
statement or Clause groups records into
summary rows and returns one record for
each group it groups the rows with the
same group by item expressions and
computes aggregate functions for the
resulting group
a group by Clause is a part of Select
expression
in each group no two rows have the same
value for the grouping column or columns
now below
you can see the syntax of group by so
first we have the select statement and
Then followed by the column names that
you want to select
from we have the table name followed by
the where condition and next we have the
group by clause and here we include the
column names finally we have the order
by and the column names
now here is an example of the group by
Clause so we want to find the average
salary of employees for each department
so here you can see we have the
employees table it has the employee ID
the employee name the age of the
employee we have the gender the date on
which the employer joined the company
then we have the department to which
each of these employees belong to we
have the city to which the employees
belong to and then we have the salary in
dollars
so actually we'll be using this employee
stable on MySQL workbench as well
so if you were to find the average
salary of employees in each department
so this is how your SQL query with Group
by Clause would look like so we have
selected department and then we are
using an aggregate function that is AVG
which is average and we have chosen the
salary column and here we have given an
alias name which is average underscore
salary which appears in the output you
can see here
from employees and we have grouped it by
department so here in the output you can
see we have the department names and the
average salary of the employees in each
department
now let me take you to my MySQL
workbench where we will Implement group
buy and solve specific problems if
getting your learning started is half
the battle what if you could do that for
free visit scale up by simply learn
click on the link in the description to
know more
okay so I am on my MySQL workbench so
let me make my connection first
I'll enter the password
so this will open MySQL editor
so first of all
let me
check the databases that I have
so I'll use my query that is show
databases
let's run it
okay you can see we have a list of
databases here I am going to use my SQL
underscore into database so I'll write
use
SQL underscore intro
so this will take us inside this
database I'll run it all right
now you can check the
tables that are present in SQL
underscore into database
if I write show tables you can see the
list of tables that are already present
in this database to do a demo and
understand Group by as well as having
let me first create an employee table
so I'll write create table
employees
next
I'll give my column name as employee
underscore ID which is
the ID for each employee
I'll give my data type as integer and
I'll assign
employee ID as my primary key
next I'll give employee underscore name
and my data type would be bar car
I'll
give the size as 25
my third column would be the age column
age would obviously be an integer
then I have
my gender column
I'll use character data type and assign
a value of 1 or size of 1.
next we have the date of join
and the data type will be date
we have the
Department column as well this is going
to be of
worker and 20 will be the size
next
we have the city column
which is actually the city to which the
employee belongs to
and finally we have the
salary column which will have the
salary for all the employees okay
now let me select and run this
you can see here we have successfully
created our table
now to check
if our table was created or not you can
use the describe command
I'll write describe employees
you can see the structure of the table
so far
all right now it's time for us to insert
a few records into this employee stable
so I'll write insert
into
employees
and I'll
copy paste the records which have
already
written on a notepad so let me show you
so this is my EMP notepad and you can
see I have already
put the information for all the
employees so let me just copy this
and
we'll paste it here
all right let me go to the top and
verify if
all the records are fine
all right
so let's run our insert query
okay so you can see here we have
inserted 20 rows of information
and
now let's check
the table information or the records
that are present in our employees table
I'll write select star from employees if
I run it you can see here
I have my employee ID the employee name
age gender
we have the city salary and in total we
have
incident 20 records
now
let me run a few SQL commands to check
how the structure of our table is
let's say I want to see the distant
cities that are present in our table so
I'll write select distinct City from
employees
if I run this
you see here there are total eight
different cities present in our
employees table so we have Chicago the
Seattle Boston we have New York
Miami and Detroit as well
now let's see
you want to know the
total number of departments that are
present so you can use distinct
Department
if I run this
all right you can see we have seven rows
returned and here are the department
names so we have sales marketing product
Tech I.T finance and HR
all right
now let me show you
another SQL command
now this is to use an aggregate function
so I want to find the average age of all
the employees from the table
so I can write select
AVG which is the aggregate function for
average
inside that I have passed my
each column from employees if I run this
so the average age of all the employees
in our table is 33.35
now
say you want to find the average age of
employees in each department
so for this you need to use the group by
clause
I'll give a comment here I want to find
the
average age
in each department
so
I'll write select
Department
comma
I'll write average of age
from
employees
Group by
Department
now if I run this
you can see here
we have our
seven departments
on the left and on the right you can see
the average age of employees in each of
these departments now you can see here
in the output it says AVG of age which
is not readable so I can give an alias
name as
average age
all right
I can bring this down
and if you want you can round the values
also
so you can round the decimal places so
I'll use a round function before the
average function
and the round function takes two
parameters one is the variable and
the decimal place you want to round it
to
so if I run this there you go you can
see here we have the average each of all
the employees in each of these
departments
all right
now suppose you want to find the total
salary of all the employees for each
department so
you can write select
Department
comma
now I want the total salary so I'll use
the sum function
and I'll
pass my column as salary
from
employees
Group by
Department
let's run this query
you can see here
in the output we have the different
departments and on the right you can see
the total salary of all the employees in
each of these departments now here also
you can give an alias name as
total underscore salary
let's run it again
and you can see the output here
all right now moving ahead
you can also use the order by Clause
along with the group by Clause let's see
you want to find the total number of
employees in each City and group it in
the order of employee ID so
to do this I can use my select query
I'll write select
count of let's say employee ID
and I want to know the city as well
from
employees
Group by
City
and next you can use the order by clause
I'll write order by
count of
employee ID
and I'll write desc which stands for
descending
if I run this query
you can see here on the left you have
the account of employees and on the
right you can see the
city names so in Chicago we had the
highest number of employees working that
was four then we had Seattle Houston
Boston Austin
and the remaining also had two employees
so in this case we have ordered our
result based on the count of employee ID
in descending order so we have the
highest number appearing at the top and
then followed by the lowest okay
now let's explore another example
suppose we want to find the number of
employees that joined the company each
year we can use the year function on the
date of joining column then we can count
the employee IDs and group the result by
each year
so let me show you how to do it
so I'll write select
I am going to extract here from
the date of join column I'll give an
alias as year
next
I'll
count the
employee ID
from my table name that is employees
and
I am going to group it by
year
date of join
if I give a semicolon
all right
so let's run this
grid you see here in the result we have
the year that we have extracted from the
data join column and on the right you
can see the
total number of employees that joined
the company each year so we have in 2005
there was one employee similarly we have
in 2009 there were two employees
if I scroll down you have information of
other years as well
now if you want you can order this as
well based on year or count
okay
now you can also use the group by to
join two or more tables together
so to show you this operation let me
first create a sales table
so I'll write create
table
sales
and the sales table will have columns
such as the product ID which is going to
be of integer type then we have the
selling price of the product
now this will be a a float value
then we have the quantity sold for each
of the
products so I'll write
quantity
quantity will of integer type
next we have the state in which the item
was sold
and state I'll put it as worker and give
the sizes 20.
let's run this so that we'll create our
sales table all right
so we have successfully created our
sales table
next we need to insert a few values to
our sales table so I have already
written the records in a notepad let me
show you
okay so here you can see I have my sales
text file let me just copy these
information
I'll just paste it on
the query editor
okay
now let me go ahead and
run this
insert command all right so you can see
here we have successfully inserted nine
rows of information so let me just
run it through what we have inserted
so the first
column is the product ID column then we
have the selling price at which this
product was sold then we have the
quantity that was sold and in which
state it was sold so we have California
Texas Alaska
then we have
another product ID which is one two
three
and these are the states in which the
products were sold
so let me just
confirm with the
select statement I'll write select star
from
sales
I run this you can see we have
successfully created our table
okay
now suppose you want to find the revenue
for both the product IDs one to one and
let's say one two three since we have
just two product IDs here
so for that you can use the select query
so I'll write select
product ID
next I want to calculate the revenue so
revenue is nothing but selling price
multiplied by the quantity so I'll use
the sum function to find the total
revenue
and inside the sum function I'll use my
selling price column
multiplied by
quantity column
I'll give this
an alias name as Revenue
from
my table name that is sales
finally I'll group it by
product ID
let's run it
there you go so here you can see we have
the two product IDs one two one and one
two three and here you can see the
revenue that was generated from these
two products
all right
now let's see
we have to find the total profit that
was made from both the products one to
one and one two three so for that I'll
create another table now this table will
have the cost price of
both the products so let me create the
table first
I'll write create table
let's say the table name is C product
which stands for the cost price of the
products
I'll
Give My First Column as product ID
this will be an integer
and I'll have my second column as cost
price
cost price will have floating type
values
let's run this so we have successfully
created our product cost table
now let me insert a few values into the
C product table so I'll write insert
into
C underscore
product
I'll give
my values
for one to one
let's see the
cost price was 200 and
70 dollars
for each
and next we have my product is one two
three and let's say the cost price for
product one two three was
250 dollars
let's insert these two values okay next
we'll join our sales table and the
product cost table so this will give us
the profit that was generated for each
of the products
so I'll write select
C Dot
product underscore ID
comma
I'll write sum
s dot cell underscore price now here C
and S are Alias names
so if I subtract my
cost price from the selling price that
will return the profit that was
generated
I'll multiply this with s dot
quantity
close the bracket
I'll give an alias name as
profit
from
seals as s
so here s stands for the sales table
I'm going to use inner join
C underscore
product table
as
the Alias name should be C where
s dot
product underscore ID is equal to C Dot
product underscore ID we are using
product underscore ID because
this column is the common column to both
the tables
and finally
I am going to
group it by
C dot product underscore ID
all right
so let me tell you what I have done here
so I am selecting the product ID
next I am calculating the profit by
subtracting the cost price from the
selling price and I have multiplied the
quantity column
I'm using an inner join to connect my
sales and the
product cost table
and I am joining on the column that is
product ID and I have grouped it by C
dot product ID let's run this there you
go so here you can see for product ID
one to one we made a profit of
eleven hundred dollars
and for product ID one two three we made
a profit of eight hundred and forty
dollars so now that we have learned
Group by in detail let's learn about the
having clause in SQL the having clause
in SQL operates on grouped records and
returns rows where aggregate function
results matched with given conditions
only
so now having and where Clause are kind
of similar but where Clause can't be
used with an aggregate function
so here you can see the syntax of having
Clause you have the select statement
followed by the column names from the
table name then we have the WHERE
conditions next we have the group by
finally we have having and at last we
have order by column names so you can
see here we have a question at hand
we want to find the cities where there
are more than two employees
so you can see the employee table that
we had used in our
Group by Clause as well so if you were
to find the cities where there are more
than two employees so this is how your
SQL query should look like so we have
selected
the employee ID and we are finding out
the count using the count function
next we have selected the city column
from employees we have grouped it by
City And then we have user having clause
so we have given our condition having
count of employee ID should be greater
than 2. so if you see the output we have
the different city names and these were
the cities where the
count of employees was greater than 2.
all right so let's go to our MySQL
workbench and Implement how
having works so suppose
you want to find those departments where
the average salary is greater than 75
000 you can use the having clause for
this so let me first run my table which
is employees
if I run this you can see we had
inserted 20 rows of information and
the last column we had was salary so the
question we have is we want to find
those departments where the average
salary is greater than 75 000 dollars
so let me show you how to do it
so I'll write
select
Department comma
I'll use the aggregate function that is
average
salary
I'll give an alias name as
AVG
underscore salary
from
employees
next we'll use the
Group by clause and I want to group it
by each department
and then I am going to write my having
Clause so in having Clause I'll use my
condition that is having
average of salary
greater than
75 000 dollars
let's run it
and see the output
there you go so here you can see there
were total three departments in the
company that is sales Finance in HR
where the average salary is greater than
75 000 dollars
okay
next let's say you want to find the
cities where the total salary is greater
than two hundred thousand dollars
so this will again be a simple
SQL query so I'll write select City
comma
I want to find the total salary so I'll
use the sum function
and I'll pass my column as salary as
I'll give a
Alias name as total from
employees
Group by
City
and then I am going to use my having
clause
I'll pass in my condition as having
sum of salary
greater than
two hundred thousand dollars
all right
so let's run this query
there you go
so
so the different cities are Chicago
Seattle and Houston where the total
salary was greater than two hundred
thousand dollars now suppose you want to
find the Departments that have more than
two employees so let's see how to do it
I'll write select
Department comma
this time since I want to find the
number of employees I am going to use
the count function I'll write count Star
as
employee underscore count or EMP
underscore count which is my Alias name
from
employees
next I'll group it by
Department
having
I'll give my condition
count star greater than 2.
let's run this
okay
so you have departments such as sales
product Tech and ID where
there are more than two employees
okay now you can also use a where Clause
along with the having clause in an SQL
statement
so suppose I want to find the cities
that have more than two employees apart
from Houston
so
I can write my query as select
City comma
count star
as
EMP count
from
employees
where
I'll give my condition shitty
not equal to
Houston I'll put it in double quotes
since I don't want to see
the information regarding Houston
I'll group it by
City
having
count
of employees greater than 2.
so if I run this query
you see we have information for Chicago
and Seattle only
and we have excluded the information for
Houston
now you may also use aggregate functions
in the having Clause that does not
appear in the select clause
so if I want to find the total number of
employees for each department that have
an average salary greater than 75 000 I
can write it something like this
so select
Department
comma
count
star
as
EMP count
from
employees
Group by
Department
and in the having clause
I am going to provide the column name
that is not present in the select
expression so I'll write having
average salary
greater than 75 000.
this is another way to use the having
Clause let's run this
all right you can see we have department
sales finance and HR and you can see the
employee count where the average salary
was greater than 75 000.
okay
so let me run you from the beginning
what we did in our demo so first we
created a table called employee then we
inserted 20 records to this table
next we explore a few SQL commands like
distinct then we used average and
finally we started with our
Group by clause
followed by
looking at how group I can be used along
with another table and we joined two
tables that was sales and product cost
table to find out the profit
then you learned how to use the having
clause
so we explored several different
questions and learned how to use
having an SQL we will learn about joints
in SQL joints are really important when
you have to deal with data that is
present on multiple tables
I'll help you understand the basics of
joins and make you learn the different
types of joints with Hands-On
demonstrations on MySQL workbench so
let's get started with what are joins in
SQL
SQL join statement or command is often
used to fetch data present in multiple
tables SQL joints are used to combine
rows of data from two or more tables
based on a common field or column
between them now consider this example
where we have two tables an order stable
and a customer stable
now the order table has information
about the order ID which is unique here
we have the order date
that is when the order was placed then
we have the shipped date this has
information about the date on which the
order was shipped then we have the
product name which basically is the
names of different products we have the
status of delivery whether the product
was delivered or not or whether it was
canceled then we have the quantity which
means the number of products that were
ordered and finally we have the price of
each product
similarly
we have another table called customers
and this customer table has information
about the order ID
which is the foreign key here
then we have the customer ID which is
the primary key for this table we also
have the phone number customer name and
address of the customers
now suppose you want to find the phone
numbers of customers who have ordered a
laptop
now to solve this problem
we need to join both the tables the
reason being the phone numbers are
present in the customers table as you
can see here
and laptop which is the product name is
present in the orders table which you
can see it here so using a join
statement you can find the phone numbers
of customers who have ordered a laptop
now let's see another problem where you
need to find the customer names who have
ordered a product in the last 30 days in
this case we want the customer name
present in the customers table and the
last 30 days order information which you
can get from the order date column that
is present in the order table
okay
now let's discuss the different types of
joints one by one so first we have an
inner join
so the SQL inner join statement returns
all the rows from multiple tables as
long as the conditions are met
from the diagram above you can see that
there are two tables A and B A is the
left table and B is the right table
the orange portion represents the output
of an inner join
which means an inner join Returns the
common records from both the tables
now you can see the syntax here so we
have the select command and then
we give the list of columns from table a
which you can see here is the left table
followed by the inner join keyword and
then the name of the table
that is B on a common key column from
both the tables A and B now let me take
you to the MySQL workbench and show you
how inner join Works in reality
so here I'll type MySQL
you can see I have got my SQL workbench
8.0 version installed I'll click on it
so it'll take some time to open
okay
I'll click on this local instance
and here I'll give my password
okay
if getting your learning started is half
the battle what if you could do that for
free visit scale up by simply learn
click on the link in the description to
know more
so this is how an SQL editor on MySQL
workbench looks like
so first of all
let me go ahead and create a new
database
so I'll write create
database this is going to be my command
followed by the name of the database
that is going to be SQL underscore joins
if I give a semicolon and hit Ctrl enter
this will create a new database you can
see here one row affected
now
you can check whether the database was
created or not using show databases
command
if I run it
here you can see I have
SQL joints database
created
now I'll use this database so I'll write
use SQL underscore joins
okay now to understand inner join
consider that there is a college
and in every College you have different
teams for different sports such as
Cricket football basketball and others
so let's create two tables cricket and
football
so I'll write
create
table
and my table name is going to be cricket
next
I'm going to create two columns
in this table the First Column is going
to be cricket
ID
then
I'm going to give the data type as int
and use the auto increment operator
I'm using Auto increment because my
Cricut ID is going to be my primary key
then I am going to give
the name of the students who are part of
the cricket team
and for this I'll use warca data type
and give the length as 30
I'll give another comma and I'll assign
my Cricut ID as primary key
within brackets I'll give
Cricket underscore ID
Cricket ID is nothing but a unique
identifier for each of the players like
you have roll numbers in college
okay
let me just run it
all right so we have successfully
created our Cricut table
similarly let me just copy this and I'll
paste it here
I'll create
another table called football
this will have the information of all
the students who are part of the
football team
and instead of cricket I am going to
give this as football ID
all right
and
the name column will have the names of
the students
I'll change my primary key to football
ID
all right let me run this okay so now we
have also created our
football table
the next step is to insert a few player
names into both the tables
so I'll write my insert into command
first let's load some data to our Cricut
table
so I'll write cricket and
I'll give my
name column
followed by
values and here I'll give some names
such as
Stuart
give another comma
the next player I'll choose is let's say
Michael
similarly I'll add a few more let's say
we have
Johnson
the fourth player I'll take is let's say
hidden
and finally we have
lots of Fleming
okay
now I'll give a semicolon and run this
okay so let me just check if all the
values were inserted properly for this
I'll use
select star from table that is Cricket
if I run it you can see I have created a
table and have successfully inserted
five rows of information
now similarly
let's insert
a few student names
for our football table so I'll change
this to
football
and obviously there would be students
who will be part of both cricket and
football team so
I'll keep a few
repeated names let's say Stuart
Johnson and let's say hit in our part of
both cricket and football team
then we have let's say
Langer and
let's say we have another player in the
football team that is astral
I'll just run it okay you can see there
are no errors so we have successfully
inserted values to our football team as
well
let me just recheck it
I'll write select star from
football
all right so we have five players in the
football team as well okay
now the question is suppose you want to
find the students that are part of both
the cricket and football team in this
case you can use an inner join
so let me show you how to do it
so I'll write select star from
cricket
as I'm using an alias name as C which
stands for Cricket
then I am going to write inner join
my next table is going to be football
as F which is an alias name for the
football table
then I am going to use the on
command or operator
and then
I'll give the common
key that is name here so C dot name is
equal to F dot name
So based on this name column from both
the table my inner join operation will
be performed so let's just run it
there you go so Stuart Johnson and
Hayden are the only three students who
are part of both the teams
all right
now you can also individually select
each of the columns from both the tables
so let's say I write select C Dot
Cricut underscore ID
comma
C dot name
comma F Dot
football underscore ID
comma F dot name
from
I'll write
Cricket as C
inner join
football as f
on
C dot name
is equal to F dot name
now if I run this you see we get the
same output here as well
all right
now let's explore another example to
learn more about inner joins so we have
a database called classic models let me
first
use classic models
I'll run this
okay
now let me just show the different
tables that are part of classic tables
all right
so here you can see there are tables
like customers there's employees office
there's office details orders payments
products and product lines as well
all right so
let me use
my select statement to show
what are the columns present in the
products table
okay so this product table has
information about different
product names you have the product code
now this product code is unique here
we also have the product vendor
a little description about the product
then we have the quantity in stock
buying price and MSRP
let's see what we have in
product lines
if I run it you see here we have the
product line which is the
primary key for this table then we have
the textual description for each of the
products this is basically some sort of
an advertisement
all right now suppose
you want to find the product code the
product name and the text description
for each of the products you can join
the products and product lines table
so let me show you how to do it write my
select statement and
choose my columns as product code then
we have
product name
and let's say I want the text
description so I'll write this
column name
okay
then I'll use from
my first table that is
products
inner join
product lines
I can use using
the common key column that is product
line
close the bracket I'll give a semicolon
and if I run it there you go so you can
see the different product codes then we
have the different product names and the
textual description for each of the
products so this we did by joining the
products table and the product lines
table
all right
now suppose you want to find the revenue
generated from each product order and
the status of the product to do this
task we need to join three tables that
is orders order details and products so
first let me show you
what are the columns we have in these
three tables we have obviously seen for
the products table now let me show you
for orders and Order details table
so I'll write select star from orders
if I run it you can see it has
information about the order number
the date on which the order was placed
we also have the shipment date we also
have the status column which has
information regarding whether the order
was shipped or canceled
then we have some comments column we
also have the customer number who
ordered this particular product
similarly let's check what we have under
order details
so I'll write select star from
order details if I run it
you can see it has the order number the
product code quantity of each product
you have the price of each product then
we have the order line number okay
so using the product
orders and Order details let's perform
an inner join
so I'll write select
O DOT
order number
comma
O DOT
status
comma
I need the product name which I'll take
from the products table so I'll write P
Dot
product name now here o p are all Alias
name for the tables orders products and
I'll use OD for order details
comma
since we want to find the revenue
we actually need to
find the product of quantity ordered
into
price of each product so I'll use a sum
function and inside the sum function
I'll give
quantity
ordered
multiplied by
the price of each item
I'll use an alias as Revenue
then I'll use my from clause
from orders as o
inner join
order
details as I'll use an alias name as OD
on
I'll write
O DOT
order number
is equal to
OD Dot
order number
I'll use another inner join
and this time we'll join the products
table so I'll write inner join products
as
p on
P Dot
product code
is equal to
OD Dot
product code
and finally I'll use the group by clause
and group it by order number
all right
let me run this
okay there's some mistake here we need
to debug this
it says you have an error in your SQL
syntax check the manual all right okay I
think the name of the tables is actually
orders and not order
all right now let's run it
okay there's still some error
it says
classic models dot product doesn't exist
so again the product name is
I mean the table name is products and
not product so let's run it again all
right there you go so we have the order
number the status
the product name and the revenue
this we got it using
inner join from three different tables
if getting your learning started is half
the battle what if you could do that for
free visit scale up by simply learn
click on the link in the description to
know more
now talking about left joins
the SQL left join statement returns all
the rows from the left table and the
matching rows from the right table so if
you see this diagram you can see we have
all the rows from the left table that is
a and only the matching rows from the
right table that is B so you can see
this
overlapped region
and the syntax
for SQL left join is something like this
so you have the select statement and
then you give the list of columns from
table a which is your left table then
you use the left join keyword
followed by the next table that is table
B on the common key column so you write
a DOT key is equal to B dot key
okay now in our classic models database
we have two tables customers and orders
so if you want to find the customer name
and their order ID you can use these two
tables so first let me show you the
columns that are present in
customers and orders
I think orders we have already seen let
me first show you
what's there in the customers table okay
so you can see we have the customer
number the name of the customer then we
have the contact last name the contact
first name we have the phone number then
there's an address column there are two
address columns actually
we have the city name the state
and we have other
information as well and similarly we
have our orders table
so I'll write select start form
orders so I'll write select star from
orders
if I run this you can see these are the
information available in the
orders table
okay so let's perform a left join
where we want to find the customer name
and their order IDs so I'll write select
C Dot
customer name
or let's say first we'll choose the
customer number comma
then I want the customer name so I'll
write C Dot customer name
then we have the
order number column which is present in
the orders table and let's say I also
want to see the status
then I'll give my left table that is
customers
as C
left join
orders as o
on
C Dot
customer number equal to O DOT customer
number
let's run it
okay again there is some problem
all right so the table name is customers
let's run it
so there's another mistake here this is
customer number so B is missing cool let
me run it all right so here you can see
we have the information regarding the
customer number
then
the respective customer names we have
the order number and the
status of the shipment so if I scroll
down you'll notice one thing there are a
few rows you can see which have null
values this means for customer number
125 and for this particular customer
name there were no orders
and similarly if I scroll down you will
find a few more null values
you can see here there are two null
values here for
customer number 168 and 169 there were
no orders available
all right now to check those customers
who haven't placed any orders
you can use the null operator so what
I'll do is here I'll just continue with
this I'll use a where clause and write
where
order
number is null
now let me run this
okay so here you can see there are
24 customers from the table that don't
have any orders in their names
okay now talking about right joints so
SQL right join statement returns all the
rows from the right table and only
matching rows from the left table so
here you can see we have our left table
as a and the right table as B so the
right join will return all the rows from
the right table and only the matching
rows from the left table
now talking about the syntax so here you
can see we have the select statement
followed by the select statement you
will have the list of columns that you
want to choose
from table a right join table B on the
common key column from both the tables
all right
now to show how right join works I'll be
using two tables that is customers and
employees so let's see
the rows of data that are present in the
customer table first so I'll write
select star from
customers
let's run it so here you have the
customer number the customer name
then we have the phone number the
address of the customers
you also have the country to which the
customer belongs to the postal code
and the credit limit as well similarly
let's see for
the employees table
here I'll change customers to employees
let's run it okay so we have the
employee number the last name the first
name you have the extension the email ID
the job title and also
reports to here means to manager
okay
So based on these two tables we'll find
the customer name
the phone number of the customer and the
email address of the employee
and join both the tables that is
customers and employees
so let me show you
the command so I'll write select
C Dot
customer name comma
then we have C Dot phone I'll give a
space here
next I want
the employee number from the employee
table so I'll write e Dot
employee number comma
e dot email from customers as C
right join
employees
as e
on
e dot my common key column is employee
number here so I'll write e Dot employee
number is equal to
C Dot
we have
sales
Representatives
employee number
and I'm also going to order it by
the employee number column
okay
so you can see I have my customer name
selected from the customers table the
phone number of the customer then we
have the employee number and the email
address so let me run it
okay there's some problem
all right so the table name is customers
actually
let's run it once again
there you go so you can see here
we have
all the values selected from our right
table which is the employees table you
can see rights on employees which means
your employee stable is to the right
and then we have the customer name and
phone numbers of
the customers from the customer table
which is actually your left table so you
have a few
employee numbers such as one zero zero
two there's one zero five six we don't
have any customer name or phone numbers
okay so there's another popular join
which is very widely used in SQL known
as cell joints so self joints are used
to join a table to itself
so in our database we have a table
called employees let me show you the
table first
all right
so here you can see we have the employee
number the last name the first name of
the employee we have the email ID
and here if you see we have a column
called reports two now this you can
think of as the manager column so the
way to read is for example
for employee number 1056
the manager is one zero zero two so if
you check for one zero zero two we have
Dane Murphy
then if I scroll down
let's see for employee number
one one zero two
yeah for employee number 1102 the
manager is one zero five six so here you
can see who is at one zero five six you
have
Mary Patterson
similarly if I scroll down let's see
for employee number 1188
we have
the manager as one one
four three now if I check the table at
one one four three we have Anthony bow
so
so the employee Julie farrelli reports
to Anthony Bowe
all right
now suppose you want to know who is the
reporting manager for each employee so
for that you can use a self join so let
me show you how to join this employees
table
I'll write select
and then I am going to use a function
called concat
within brackets I'll start with my Alias
name that is m dot then I'll write last
name
I am going to concat last name
followed by a comma
then I'll have my first name
I close this bracket and then I am going
to give my
Alias name let's say manager
comma next I am going to concat
the same
last name and first name and this time I
am going to use a separate Alias let's
say e which stands for employee so I'll
write e dot last name comma and within
single quotes
I'll
give my comma and then I'll write e DOT
first name
and close this bracket I'll give an
alias as let's say
employee
from
I'll write
employees
as e
inner join
employees
as m
on
m dot
I'll use my common key column as
employee number so I'll write
m dot
employee number is equal to
e dot here I am going to use the reports
two column
and then
I'll
order it by
let's say manager
okay
now let's run this
there you go so you have your two
columns as manager and employee so for
employee Louis bonder
the manager is zeradbonder
similarly if I scroll down
you have there are multiple employees
reporting to this particular manager
similarly we have our manager as
anthonybo and we have
different employees who are reporting to
this particular manager and so on
all right now moving ahead
now let's see what a full join is so SQL
full outer join statement returns all
the rows when there is a match in either
left or right table now you must
remember that MySQL workbench does not
support full outer join by default but
there's a way to do it so by default
this is how the syntax of full outer
join looks like
now this statement will work on other
SQL databases like Microsoft SQL server
but it won't work on MySQL workbench
I'll show you the right way of using
full auto join on MySQL workbench
so to so full outer join I am going to
first use a left join and then we'll
also use a right join and finally we'll
use a union operator so the union
operator is used to combine the result
set of two or more select statements so
first of all let me write
C Dot
customer name so for this example I'm
using the customer table and the order
table
comma O DOT
order number so I just want to know the
customer name and the order number
related to the customer
from
I have
customers
as
C
left join
I'll write
orders as o on
C Dot
customer number
is equal to
O DOT
customer number
let me just copy this
and after this I am going to use my
union operator
so Union operator is used to merge
results from
two or more
tables
so basically this performs a vertical
join
and next I am going to use my right join
operation so here instead of left join
I'll write write
restore looks fine let me just run it
there you go so we have successfully run
our full outer join operation you can
see we have the different customer names
and the order that each customer had
placed
all right
we will learn Advanced SQL queries in
our previous videos we have learned the
basics of SQL that includes where Group
by having as well as joints in SQL so in
this video we will learn some queries in
SQL we'll also have a look at stored
procedures and learn about triggers in
SQL we'll cover views in SQL and look at
some of the important Windows functions
in SQL now to learn all of these we'll
be using the MySQL workbench on Windows
so let's get started with sub queries in
SQL
so let me head over to my MySQL
workbench
So currently I am on my MySQL workbench
let me connect to the local instance
so I'll give my password
and click on OK
all right so this is my MySQL workbench
query editor so first we are going to
learn sub queries let me give a comment
and write sub queries
all right
so first of all let's understand what a
sub query is so a sub query is a query
within another SQL query that is
embedded within the where Clause from
clause or having clause
so we'll explore a few scenarios where
we can use sub queries so for that I'll
be using my
database that is SQL underscore intro so
I'll write my command use SQL underscore
intro
now this database has a lot of tables
I'll be using the employee stable that
is present inside SQL underscore intro
Let me just expand this and you can see
here we have an employee stable
so let me first show you
the contents within this table I'll
write select star from employees
let me execute it
okay you can see here we have the
employee ID employee name each gender
there's date of joint Department City
and salary and we have information for
20 employees if I scroll down you can
see there are 20 employees present in
our table
so let's say you want to find the
employees whose salary is greater than
the average salary in such a scenario
you can use a sub query so let me show
you how to write a sub query
I'll write the select statement
in the select statement I'll pass
my column names that I want to display
so the column names I want are the
employee name
then I want the department of the
employee and the salary of the employee
from
my table name that is employees
next I'll use a where condition where
my salary should be greater than the
average salary of all the employees so
I'll write salary greater than
after this I am going to write my sub
query
so I'll give select
average of salary
from
my table name that is employees
and I'll close the bracket and give a
semicolon
so what it does is
first it is going to find the average
salary of all the employees that are
present in our table
once you get the average salary number
we'll use this where condition where
salary is greater than the average
salary number
so
the inside sub query let me run it first
if I run this
this gives you the average salary of all
the employees which is 75 350 dollars
now I want to display all the employees
who have salary greater than 75
350 dollars so let's run our sub query
there you go so there are eight
employees in our table who have a salary
greater than the average salary of all
the employees
all right
next
let's see another example
suppose this time you want to find the
employees whose salary is greater than
John's salary
so we have one employee whose name is
John
let me
run the table once again
okay if I scroll down
you see we have an employee as John
you see this our employee ID 116 is John
and his salary is 67
000 I want to display all the employees
whose salary is greater than John's
salary so basically all the employees
who are earning more than 65 000 I want
to print them
so let's see how to do it I'll write
select
I want the employee name comma the
gender of the employee
I also want the department and salary
from my table name that is employees
I'll write where
salary is greater than
I'll start my
opening bracket inside the bracket I am
going to give my inner query that is
Select
salary
from employees
where
the employee name is John
So within single quotations I'll give
John as my employee
and end with the semicolon
so let me first run my inner query
so this will give us the salary that
John has which is sixty seven thousand
dollars now I want the employees who are
earning more than sixty seven thousand
dollars
so let's run our
sub query
okay so you can see
12 rows returned which means there are
12 employees in our table who are
earning more than sixty seven thousand
dollars you see here all these employees
have a salary greater than sixty seven
thousand dollars
okay
now
you can also use sub queries
with two different tables so suppose you
want to display some information that
are present in two different tables you
can use sub queries to do that
so
for this example we'll use
a database that is called classic models
you can see the first database
so let me use this database called
classic models I'll write use classic
models
now this database was actually
downloaded from the internet there's a
very nice website I'll just show you the
website me so this is the website that
is MySQL tutorial.org
you can see here they have very nice
articles blogs from where you can learn
MySQL in detail so we have
downloaded the database that is classic
models from this website you see here
they have a MySQL sample database if you
click on this
it will take you to the link where you
can download the database so they have
this download link which says download
MySQL sample database
and the name of the database is classic
models all right
so we are going to use this classic
models database throughout our demo
session
if I expand the tables
section you can see there are a lot of
tables that are present inside this
classic models database we have Cricket
customers as employees office this
orders order lines and many more
so for our sub query we'll be using two
tables that is order details and
products table first let me show you the
content that is present inside
the products table first
if I run this
you see here it says 110 rows return
which means there are 110
different products that are present in
our table which has the product code the
product name
product line we have the product vendor
description quantity in stock Buy price
MSRP
the other table we are going to use is
order details which has the details of
all the orders
let me show you
the records
or the details tables has okay so there
are thousand records present in this
table you have the order number the
product code quantity ordered price of
each item you have the order line number
as well
okay
now
we want to know the product code the
product name and the MSRP of the
products whose price of each product is
less than hundred dollars for this
scenario we are going to use two
different tables and we are going to
write a sub query
Okay so
if you see here in the order details
table we have a column called price each
I want to display the product code the
product name and the MSRP of the
products which have a price of each
product less than hundred dollars
so the way I'm going to do is
I'll write select
product code comma
product name
now one thing to remember
that this product name is actually
present inside our products table
and product code is present in both the
tables that is products and Order
details here you can see this is the
product code column
comma MSRP which is present inside the
product stable again
from my table that is
products
where
I'll write
product
code
I'm going to use the in operator
next I'll write my inner query that is
Select
product code
from my table
order details
where
my price of each product
is less than 100 dollars
let me run this
okay so you can see there are total 83
products in our table which have
a price less than hundred dollars you
can see the
price here
okay
now we learn another Advanced Concept in
SQL which is known as stored procedures
I'll just give a comment saying
stored procedure
okay
so first let's understand what is the
stored procedure
a stored procedure is an SQL code that
you can save so that the code can be
reused over and over again
so if you want to write a query over and
over again save it as a stored procedure
and then call it to execute it
so in this example I want to create a
stored procedure that will return the
list of players who have scored more
than six goals in a tournament
so I have a database called SQL
underscore IQ
these are a few databases that I've
already created so this database has a
table called players if I expand the
tables option you see we have a table
called players and you can see the
columns clear ID the name of the player
the country to which the player belongs
to and the number of goals each player
has scored in a particular tournament
so I'll write a stored procedure that
will return the list of top players who
have scored more than six goals in a
tournament
so first of all let me Begin by
using my SQL underscore IQ database
will run it
so now we are inside the SQL underscore
IQ database
let me
select
star from players to show the
values that we have in the players table
you can see there are six players in our
table
we have the player ID
the names of the players the country to
which these players belong to and the
goals they have scored
so I'll write a stored procedure
so the stored procedure syntax is
something like this it should start with
a delimiter
okay
in the delimiter I'll write
Amberson ampersand
next I'll write
create
procedure
followed by
the procedure name let's say amount to
name my procedure as top underscore
players
next statement is begin
after begin I'll write my select
statement
I want to select the name of the player
the country
and the goals
each player has scored
from my table that is
players
where
I'll write goals is greater than
6.
we'll give a semicolon
then
I'll end my
procedure with a delimiter that was
double ambison
next
I'll write delimiter
and give a semicolon
now the semicolon suggests
this is a default delimiter
and there should be a space
okay
now let's run our
stored procedure
there you go so you have successfully
created our store procedure now the way
to run a store procedure is
you need to use the
call method and give the procedure name
that is top underscore place in our case
with brackets and a semicolon
let's execute it
okay there is some problem here
so we made a mistake while creating a
procedure
the name of the column is goals are not
goal
let me create that procedure again
okay it says the procedure top
underscore player already exists let's
just
edit the procedure name instead of top
player we'll write it as top players and
similarly we'll edit here as well now
let's create it again
okay now to call my procedure I'll write
call space followed by the procedure
name which is top underscore players
if I run this you can see
we have two players in our table who
have scored more than six goals so we
consider them as the top layers in a
particular tournament
all right
now there are other methods that you can
use while creating a stored procedure
one of the methods is by using an in
parameter
so when you define an in parameter
inside a stored procedure the calling
program has to pass an argument to the
stored procedure
so I'll give a comment
stored procedure using in parameter
all right
so for this example I'll create a
procedure that will fetch or display the
top records of employees based on their
salaries
so if you have a table
in our SQL underscore IQ database which
is called employee details
I am going to use this table you can see
we have the name of the employee the age
sex then we have the date of joint City
and salary
using this table I'll create a procedure
that will fetch or display the top
records of employees based on their
salaries
and we'll use the in parameter so let me
show you how to do it
I'll write
delimiter
this time I am going to use
forward slash
I'll write
create
procedure
followed by the procedure name let's say
for stored procedure
sort by
salary is the name of my procedure and
inside this procedure I'll give my
parameter in
I'll create a variable bar and assign a
data type integer
then I'll write begin
followed by my select statement where
I'll select the name
each
salary
from
my table name that is
EMP details or employee details
I am going to order this by
salary
descending
and
I want to display
limited number of
records so I'm using this
limit keyword and my variable VAR which
I
created here
I'll end my select statement
I'll end my stored procedure with
forward slash
and I'll go back to my default delimiter
that is semicolon
all right
so let me
run this
there should be a space here all right
so let's run this
okay you can see we have successfully
created our
second stored procedure which is sp
underscore sort by salary
now you can also check whether the
stored procedure was created or not here
you have an option to see the stored
procedures let me just refresh this
and you can see we have
three stored procedures that we have
created so far one is sp underscore sort
by salary
the other two were top underscore player
and top underscore players
okay
now let's call our stored procedure I'll
write call
space followed by the stored procedure
name which is sp underscore
sort
by salary
and inside this I'll give my parameter
which was actually VAR and this VAR
we have used in limit
let's say I want to display only the top
three records of the employees who have
the top three highest salaries
okay so let me run it
there you go so Amy Sarah and Jimmy
where the top three employees who have
the highest salary
so you saw how you could use the in
parameter in a stored procedure
we created a variable and that variable
we used in our select statement and we
called our stored procedure and passed
in that
variable
okay
now
instead of a select statement inside a
stored procedure you can also use other
statements let's say update
so I'll create a stored procedure to
update the salary of a particular
employee
so in this procedure instead of Select
statement we'll use the update command
in this example we'll use the in
operator twice
so let me show you how to do it
I'll write my delimiter first which is
going to be forward slash
then I'll write create
procedure
my name of the procedure is going to be
update salary
and inside the update salary name
I'll write in
and then
temp
underscore name which will be a
temporary name variable and the type
I'll assign is worker 20
I'll again use my in parameter I'll
write in
next
my other variable would be new
underscore salary
and the data type would be float
I'll write begin
and write my update
command or update statement I'll write
update
table name that is employee details
set
salary
equal to
new underscore salary
where
name is equal to
my temporary variable that is temp
underscore name
so this is my
update command and I'll
end the delimiter
all right
so let's run this
okay we have successfully created our
stored procedure if I refresh this
you can see I have my stored procedure
update underscore salary
okay
now let's say
first of all I'll
display
my
records that are present inside
employee underscore details table okay
so we have six rows of information let's
say you want to update the salary of
employee Jimmy or let's say
Mary
from seventy thousand to let's say
seventy two thousand
or let's say eighty thousand
so I'll
call my stored procedure that is update
underscore salary
and this time I'm going to pass in two
parameters the first parameter will be
the employee name and next with a comma
I'll give my new salary that I want to
so my employee name let's say is Mary
and the salary I want
to be updated is let's say eighty
thousand dollars
I'll give a semicolon
and I'll run it
you can see it says one reflected now
let's check our table once again
there you go if you see this record
for Midi we have successfully updated
the salary to eighty thousand dollars
moving ahead
we learn to create a stored procedure
using the out parameter so I'll give a
comment
stored procedure using out parameter
okay
so suppose we want to get the count of
total female employees
will create total employees as an output
parameter and the data type would be an
integer
the count of the female employees is
assigned to the output variable which is
total underscore emps using the into
keyword
let me show you how to write a stored
procedure using the out parameter
so first I'll declare my delimiter
to forward slash
I'll write
create
procedure
followed by the procedure name
it is going to be SP underscore
count
employees
and inside this I am going to give my
out parameter and the variable name that
is total underscore
emps which is total employees and the
data type will be integer
next I am going to write begin
followed by my select statement that is
Select I want the
count of total employees
and the output I am going to put into
my new variable that is total underscore
emps
from my table that is EMP underscore
details
where
sex is equal to
F which means female
I'll give a semicolon
next
I'll end it
with the TV limiter and I'm going to
change the delimiter to a default
delimiter that is colon
so let me tell you what I am doing here
I am creating a new stored procedure
that is sp underscore count employees
using this stored procedure I am going
to count the total number of female
employers that are present in our table
EMP underscore details so I've used my
out parameter and I'm creating a new
variable called total underscore emps
the data type is integer here in the
select statement I am counting the names
of the employees and the result I am
storing it in total underscore emps
I have used my wear condition where the
gender of the sex is female
so let's run this
okay so we have created our stored
procedure let's refresh this
okay you can see we have our new stored
procedure SP underscore count employees
now
to call it I'll write call
the name of the procedure that is Count
underscore SP underscore count
employees
within brackets I'll pass in the
parameter as
at the rate
F underscore EMP
will give a semicolon then I'll write
select
at the rate F underscore
EMP as female employees
okay
so as is an alias name
let's run this one by one first I'll
call my procedure and then we'll display
the total number of female employees you
can see in our table we have three
female employees
all right
now with this understanding
let's move on to our next Topic in this
tutorial on Advanced SQL now we are
going to learn about triggers in SQL
so I'll give a
comment here
triggers in SQL
so first let's understand what is a
trigger so a trigger is a special type
of stored procedure that runs
automatically when an event occurs in
the database server but there are mainly
three types of triggers in SQL we have
the data manipulation trigger we have
the data definition trigger and login
triggers
in this example we will learn how to use
a before insert trigger
so we will create a simple students
table that will have the student's rule
number the age the name and the students
marks
so before inserting the records to our
table we'll check if the marks are less
than zero
so in case the marks are less than 0 a
trigger will automatically set the marks
to a random value let's say 50.
so let's go ahead and create our
table that is
students
all right
so I'll write
create
table
student
now this table will have the student
rule number
the data type is integer
it will have the age of the students
again the data type is integer we have
the names of the students so the third
column would be
name
the data type would be variable
or bearing character
size I am giving it as 30 finally we
have the marks as floating type
so let's create this table which is
student
so we have created our table
now
I'll write my
trigger command
so trigger command will start with
delimiter like how our usual stored
procedures have
next
this time I'll write create trigger
then you need to give the
name of the trigger that is Mark
underscore
let's say verify
I am going to use a before insert
trigger so I'll write before insert
on my table name that is student
next I'll write for each row
if
new DOT
marks
is less than 0
then
will set
new DOT
marks equal to 50.
so this is my
condition first we'll check
before inserting if any student has
marks less than 0 we'll assign a value
50 to that student because usually the
marks are not less than 0 in any exam
I'll write end if
semicolon and I'll close the delimiter
so this is my
trigger command I'll run it
it says trigger already exists so in
this case we need to update the
trigger name let's say
I'll write marks underscore verify
underscore
student for St
let's run it again
okay there is an error here because
in our table the column name is Mark and
not marks so here we need to change it
as Mark instead of marks
all right
let's run it
okay so we have created our trigger
now
let me insert
a few
records to the student table
so I'll write insert into student
I'll write
values
and give the values as
501 which is the student roll number the
age is let's say 10
the name is say Ruth
and the marks is let's say 75 point
0
if a comma we'll insert our second
student record
student rule number is 502
age is 12.
the name is let's say Mike
and this time I'm purposely giving a
value of minus 20.5
give another comma
we'll insert the Third
record
for student rule number 503
ages 13
the name is Dave
and
let's say the marks obtained by Dave is
90
.
now we'll insert our final record for
student number
504
these is 10
name I'll enter as Jacobs
and this time again I'm purposely giving
the marks in negative
12 point let's say 5.
close the bracket
and give a semicolon
and I'll run my insert statement okay so
we have inserted four rows of
information to our student table
now
let me run the select query I'll write
select star from student
if I run this you see the difference
there you go
so originally we had inserted
for 502 the marks was minus
20.5 and for 504 for Jacobs the marks
was minus 12.5
our trigger automatically converted the
negative marks to 50 because when we
created our trigger we had set our marks
to 50 in case the marks were less than
zero
so this is how a trigger works
now you can also
drop a trigger or delete a trigger you
can just write drop trigger followed by
the trigger name in this case our
trigger name is
Max underscore big Pi underscore St
I'll just paste this here
and if you run this it will
automatically delete your trigger
give this as a comment okay
now moving on
now we are going to learn about another
crucial Concept in SQL which is very
widely used
this is known as views
so views are actually virtual tables
that do not store any data of their own
but display data stored in other tables
views are created by joining one or more
tables
I'll give a comment as views in SQL
okay
now to learn views I am going to use my
table which is
present inside classic models database
now this database as I mentioned we had
downloaded
we had downloaded it from the internet
so first of all let me write
use
classic models so I'll switch my
database first
all right now we are inside classic
models
so here
let me show you one of the tables which
is called customers so I'll write select
star from customers
okay I missed s here
let's run it again so this is my
customer table which is present inside
classic models database it has the
contact last name the contact first name
the customer name customer number we
have the address State country and other
information
now I'll write a basic view command
using this custom table the way to write
is I'll write create
View
followed by The View name which is cast
underscore details
then you write as
select
I am going to select a few column names
from my original customer table which is
this one so I need the customer name
let's say I need the phone number
and the city so you have this
information here you have the phone
number
and the City
all right
I'll write from my table that is
customers
if I run this
my view that is cast details will be
created
let's run it there's some error here
because the name of the table is
customers and not customer
I'll give an S and I'll run it again
all right so you can see we have created
our view
and
to display the contents that are present
inside our view I can write select star
from followed by The View name that is
cost underscore details
let's run it
there you go so we have the customer
name the phone number and the City of
the different customers that we have in
our table
all right
now let's learn how you can create views
using joins so we'll join two different
tables and create a view
so for that I am going to use my
products table and the products lines
table I'm talking about the products
table and the product lines table
present inside classic models database
so before I start let me display the
records that are present inside the
products table
let's run it so these are the different
products you can see here
now let's see what we have in product
lines table
so we have the product line the text
description and there's some HTML
description and image
so
I'll create a view by joining these two
tables and will fetch specific records
that are present in both the tables
so let me first start by writing create
View
followed by The View name that is
product underscore
description
as I'll write
select
product
name
comma
then I'll write
quantity
in stock
I also want the MSRP
now these three columns are present
inside the products table and next from
the
product line stable I want the text
description
of the products
so I'll write from
product stable
I'll give an alias as p
followed by Inner join my other table
that is
product lines as let's say PL
on
the common column that is product line
so P Dot
product line
is equal to
I'll give a space
PL Dot
product line
okay
so here we have used an inner join to
fetch specific columns from both the
tables
and our view name is product underscore
description let us run it all right so
we have our view ready
now let me
View
or display what is present inside our
product underscore description
View
I'll write select start from
product underscore description
let's run it
there you go so we have the product name
the quantity in stock msrpn textual
descriptions of the different products
in the table
okay
now there are a few other operations
that you can perform let's say you want
to rename a view instead of product
underscore description you want to give
some other name
so I'll just give a comment rename
description
so to rename a description you can use
the
rename statement I'll write rename table
product
underscore description Which is my
old name
I want to change this name to let's say
I'll give vehicle description
since
all our products are related to some of
the other vehicle so I'll write vehicle
description
okay
let us run it
all right so here you can see I have
renewed my
View
so here if I just refresh it and I'll
expand this you can see we have the cash
details view and we have the vehicle
underscore description View
okay
now either you can view all the views
from this panel
or you can use a command let's say
I'll write display views
is the comment
now to show all the views you can use so
full tables
where
table
underscore
type is equal to within single quote
I'll write View
so this is the command that will display
all the views that are present inside a
database
there is some
error here let's debug the error
this should be
okay so instead of table types it should
be table type equal to view
let's run it
you can see the two different views that
we have one is customer details another
is vehicle underscore description
okay
now you can also go ahead and delete a
view
for that you can use the drop command
so I'll write drop
view followed by The View name let's say
I want to delete
customer underscore details or cast
underscore details view I'll write drop
View cast underscore
details
let's run it
you can see
here we don't have the cast underscore
details view anymore
all right
now moving to our final section in this
demo
here we will learn
about Windows functions
the windows functions were Incorporated
in MySQL in the 8.0 version
so Windows function in MySQL are useful
applications in solving analytical
problems so using the employees table
present inside my S12 underscore intro
database
so we will find the total combined
salary of the employees for each
department
so first let me switch my database to
SQL underscore
intro database
I'll run it okay
I'll display my table
that is employee
so here we have 20 employees in our
table
using this table
we are going to find the combined salary
of the employees for each department so
we'll partition our table by department
and print the total salary and this we
are going to do using
some windows functions in MySQL
so I'll write
select
I want the employee name
the age of the employee
and the department of the employee
comma
next I'll write
the sum of salary
over
I want to partition it by
Department
so I'll write Partition by Department
which is Dept
and I'll give an alias as
total salary so that it will create a
new column with the name total salary
from my table that is employees
the output will be a little different
this time
let's execute it and see the result
there you go so here we have created
another column in our result that is
total salary and for each of the
employees and the respective departments
you have the highest salary so in
finance the highest salary of one of the
employees was
hundred and fifty five thousand dollars
similarly if I come down we have the
highest salary from HR if I scroll
further we have the highest salary from
it marketing product sales and the tech
team
all right
now we'll explore
a function which is called row number
now the row number function gives a
sequential integer to every row within
its partition
so let me show you how to
use the row number function I'll write
select
row underscore number function
over
my
column would be
salary so I'll write order by salary
I'll give the
Alias as row num
give a comma
and I want to display the employee name
and the salary of the employee
from my table that is employees
and I'll order by
salary
so let's see how our row number function
will create sequential integers okay you
can see here we have a row num column
and we have successfully given row
numbers to each of the records you can
see it starts from 1 and goes up till
20.
okay
now this row number function can be used
to find duplicate values in a table
to show that first I'll create a table
I'll write create table
let's say I'll give a random name that
is demo
and let's see we have in this table the
student ID which is of type integer and
we have the student
name
which is of type bar car
the size is 20. I'll create the small
table with a few records
let's create this table first
now we are going to insert a few records
to our demo table so I'll write insert
into
demo
values
I'll give 101
the name is
Shane
give a comma
I'll insert the second student name 102
the name is
Bradley
you give a comma
this time
for 1 0 3 we have
two records
let's say the name of the student is
hirath
you give a comma I'll copy this
and we'll paste it again so we have
duplicated one zero three
next we have one zero four
the name of the student let's say is
Nathan
then again let's say for
the fifth student which is Kevin we have
two records
I'll copy this
little paste it here
let me give a semicolon and we'll insert
these records to our table demo
all right
now
let me just
run this table for you I'll write select
star from demo
if you see this we have a few
information that are duplicated in our
table
that is for student id103 and student ID
105.
now I am going to use my
row number function to find the
duplicate
records present in my table I'll write
select student underscore ID comma
student underscore name
I'll give another comma and write
Rue underscore number
over
within brackets
I'll write partition
by
St underscore ID
comma
St underscore name
okay
then I'll write
order by St underscore ID
close the bracket I'll give an alias as
runum
from my table that is demo
let's just run it
you can see here
okay
let me just
delete n from here and do it again
all right now if you see here there is
just one student in the name Shane we
have one student in the name Bradley
but here if you see for here
the second record it says to which means
there are two records for hirath and if
I scroll down there is one record for
Nathan and there are two records for
Kevin which means Kevin is also repeated
okay
now we are going to see another Windows
function that is called rank function
in MySQL
so the rank function assigns a rank to a
particular column
so there are gaps in the sequence of
rank values when two or more rows have
the same rank so first of all let me
create a table
and the name of the table would be a
random name will give it as let's say
demo one
and it will have only one
column let's say variable a of type
integer
we'll create this table first okay
now let's go ahead and insert a few
records to our
table which is demo one so I'll write
value
101
zero two
let's say 1 0 3 is repeated
I'm doing this purposely so that in the
output you can
clearly distinguish what the rank
function does
we have one zero four
one zero five
we have one zero six
and let's say 106 is also repeated
finally we have
one zero seven
okay
let me insert these values to my table
that is demo one okay this is done
now
if I write
select
VAR underscore a
and use my rank function I'll write rank
over
then I'll
order by my variable that is VAR
underscore a
as
an alias name let's say test rank
from
my table that is demo one
let me execute this and show you how the
rank function works
now if I run this there you go
so here if you mark
so for variable a101
the test rank is one for one zero two
the test tank is 2 but
for this value which is 1 0 3 the test
rank is repeated because there was a
repetition of one zero three
so we have skipped the rank 4 here for
104 the rank is 5 now for one zero five
the rank is six now
one zero six again since the record was
repeated twice we have skipped the
eighth Rank and
our rank function assigned the same
value which is 7 for 106 and for the
last value 107 the rank is 9.
all right
now moving ahead we'll see
our final Windows function which is
called first value
so first value is another important
function in MySQL so this function
Returns the value of the specified
expression with respect to the first row
in the window frame
all right
so what I am going to do is
I am going to select
the employee name
the age and salary
and I'll write
first underscore
value which is my function and pass in
my employee name
and then I'll write over
order by
my
column that is salary descending
I'll give an alias as highest underscore
salary
from my table that is employees
so let me run this and see how the
first underscore value function works
all right so in our table Joseph was the
employee who had the highest salary
which was 115
000 so
the first value function populated the
same
employee name throughout the table you
can see it here
now you can also use the first
underscore value function over the
partition
so let's say you want to display the
employee name who has the highest salary
in each department so for that you can
use the partition
I'll write select EMP underscore name
comma
I want the department
and the salary
comma
I'll use my function that is first
underscore
value
followed by
the name of the employee inside my first
value parameter
I'll write over
here I am going to use partition
I am going to partition it by
department since I want to know the
employee name who has the highest salary
in each department
and I am going to order by
salary descending
and I'll give my Alias again as highest
salary
from
my table that is employees
so let's run this and see the difference
in the output okay
so as you can see here
we have
the employee who had the highest salary
from each department so for finance Jack
had the highest salary from HR it was
Marcus similarly in it it was William
if I scroll down for marketing it was
John a product it was Alice who had the
highest salary similarly in sales we had
Joseph
and in Tech we had Angela
so this is how you can use the first
underscore value function using
partition
today we are going to discuss how to
work on SQL queries using python
python as you must be aware is a high
level general purpose programming
language that can be used for data
science and Analytics
in this tutorial we will learn how to
work with databases and tables using SQL
with python
to do this demo we'll be using our
Jupiter notebook and the MySQL workbench
you can see it here
so we will write our SQL queries in the
jupyter notebook with python-like syntax
if you don't have MySQL or Jupiter
notebook installed so please go ahead
and install them first
while installing the MySQL workbench you
will be asked to give the username and
password let me show you
so I am on my MySQL workbench so once
you connect it will ask for the username
and the password so I've given my
username as root and password you can
give
while installing it we'll be using the
same user ID or the username and the
password to make our connection
so let's get started with our Hands-On
demonstration part
first and foremost let me go ahead and
import the necessary libraries
I'll give a comment as import libraries
all right
so first I'll import
MySQL dot connector
next
from mysql.connector
I am going to import
my error method or the error module
next I want to import pandas as PD
so let's run this
okay there is some error here
this should be capital E and not small e
all right
you can see I have imported my important
libraries
now
I'm going to create a function
that will help us create a server
connection
so I'll write my user defined function
by using the def keyword
I'll write create underscore
server underscore connection
this is going to be my
function name
and it will take in
three parameters first is the host name
next is the username
and then we have the user password
all right
I'll give a coolant and then in the next
line I am going to Define a variable
which is going to be connection and I'll
assign it to a value called none
now we'll be using exception handling
techniques to connect to our MySQL
server
the try block lets you test a block of
code for errors and the accept block
will handle the errors
so I'll write
try and give a colon
and then
I am going to reassign the connection
variable
to a method which is
MySQL Dot
connector
dot connect
now this
mysqlconnector.connect method sets up a
connection so it establishes a session
with the MySQL server if no arguments
are passed it uses the already
configured or default values so here
we are going to pass in
three parameters the first is the
hostname
I'll write host equal to
hostname which is host underscore name
I'll give a comma
then I'll write
user equal to
user underscore name
next will be my
password
and
I'll assign the value user underscore
password
all right
now
I am going to
use a print statement and write
MySQL
database
connection
successful
after this
I'll give my except block
so I'll use the keyword accept
here
I'll write error as
err
or colon and then I'm going to use the
print statement
here I am going to use some
print formatting techniques using the F
letter
I'll write error colon
and I'll use curly braces
give RR and then I'll close the
double quotes
after this
I am going to
return
my connection
all right
let me give a comment here
we are going to assign our password
so we need to put our
MySQL
terminal password
so this password you assign it while
installing MySQL workbench
I'll write
p w
and I'll give my password which is
simply at the rate one two three four
five
and then
I'm going to
give my database name so I'll give
database name
here
I am going to write DB
equal to this is the database I want to
create which is going to be MySQL
underscore python
let me just scroll this down
okay
now I'll say
connection
equal to
I'll pass in my
user defined function name which is
create
server
connection
and the parameters which are going to be
localhost that is my
host name
my username which is root and then I'll
give PW
which is my password that is exactly
simply at the rate one two three four
five let's just run it now
okay there is an error here we need to
remove this
double quotation
all right
made another mistake here this this
should be root
okay you can see here mySQL database
connection successful
all right
next
we are now going to create a database
that is MySQL underscore python so I'll
give a comment create
MySQL underscore python
database
again to create this database I am going
to create another user defined function
using the def keyword
I'll write
the function name as create database
pass in the parameters as connection
comma query
give a semicolon
and in the next line
I'll write cursor equal to
going to make the connection so I'll let
connection Dot
cursor
and I'll give the parenthesis
so this mysql's cursor of MySQL
connector python is used to execute
statements to communicate with the mySQL
database the MySQL cursor class
initiates objects that can execute
operations such as the MySQL statements
okay
next
I am going to again use my try and
accept block so I'll write
try
give a colon and here I am going to use
cursor Dot
execute
within that I am going to pass in my
query
next I'll use a print statement
and the message I am going to display is
database
created successfully
after this
I am going to write my accept block
I'll write accept
error as err
or give a colon and then I'll use a
print statement I'll write print
I'll use the formatting again
error
colon
and I'll write
within single course I'll give curly
braces
err and then I'll close the double
quotes
next
let's
use the variable
create
underscore
database
underscore query
and
here I am going to write my
SQL query to create the database so I'll
write create
database
and followed by that I'll give my
database name which is going to be MySQL
underscore python
okay
after this
I'll call my function which is create
database
and I'll pass in the parameters the
first one is connection
and next
the query is create underscore database
underscore query let me just copy it
and I'm going to paste it here
all right so what I am doing here is
I am creating a new function
that is to create a new database with
the name
MySQL
underscore python which you can see it
here now this function takes in two
parameters connection and query
I'm using the connection dot cursor
function which is often used to execute
SQL statements using Python language and
then I have created my try and accept
blocks
so this try block statements will try to
create my new database which is MySQL
underscore python in case it fails to
create the new database the excerpt
block will work so here I am writing my
SQL query to create a new database which
is create database
followed by the database name and I am
assigning it to a variable which is
create database query and then I'm
calling my function create database and
passing in the two parameters connection
and the query all right so let's just
run it
all right you can see here it has
created my database successfully
now
you can verify this by checking the
MySQL workbench or the MySQL shell
you can see on the MySQL workbench here
on the left panel under schemas there is
a database called MySQL underscore
python let me just expand it now we
haven't created any table so it's not
showing it now
the next step we are going to connect to
this database
now so let's go ahead and connect to our
database that we have just created I'll
write the comment as connect to
database
now to connect to a database I'm again
going to create a user defined function
using the def keyword I'll write create
underscore
DB which is for database underscore
connection
and the parameters it will take is the
host name
followed by the username
then we have the user password
and finally we have the
database name
I'll give a colon
in the next line I am going to create my
variable
which is connection and then I'll assign
it to a value
none
after this I am going to use my
exception handling techniques so I'll
write my drive block first
I am going to reassign my connection
variable
using the
MySQL connector method so I'll write
MySQL Dot
connector dot connect
so this method
will take in the
parameters
so first
it will take the
hostname
I'll write
host equal to
host underscore name
I'll give a comma next it will take the
username so user equal to user
underscore name
give another comma
next
it will take the user password
I'll use pass WD equal to
user underscore password
we'll give another comma
and this time
it is going to be the database name so
I'll write database equal to DB
underscore name
now
let's use the print statement
and the message we are going to print is
MySQL
database
connection
successful
all right
finally
we'll write my
accept block I'll write accept
error as err
give a colon and then I'll use the print
statement
f
within double quotes I'll write error
colon
within single quotes curly braces I'll
write err
and we'll close the double quotes
finally
this function
will return
the connection value
all right
let's run it and there you go
it has run successfully so we have
connected to our database
now it's time for us to execute SQL
queries
I'll give another comment saying
execute
SQL
queries
all right
now to execute our SQL queries I'll use
another user defined function which is
execute
underscore
query
and I'll pass in the parameters as
connection and
query
we give a colon
I'm going to write
cursor
equal to
connection dot cursor
now this is used to establish a
connection and run SQL statements
next we'll use the
try and accept block so I'll write try
cursor
Dot
execute
this will take in one parameter which is
going to be my query
and then I'll write
connection
Dot commit
which is another method
now let's use the print statement
so I'll write
print
let's say the message would be query
was successful
and then
we'll write our accept block which is
accept
if the try block doesn't work through an
error
using the print statement
within double quotes inside the inside
the curly braces I'll write err
and close the double quotes
all right so let's run it
okay so we have successfully created our
various functions that were needed to
create a database establish a connection
and to execute our queries
all right
now it's time for us to create our first
table inside the MySQL underscore python
database
so to do that I am going to write my
create command in SQL
so first we are going to assign our SQL
command to a python variable using
triple quotes to create a multi-line
string so let me show you how to do that
I'll write my
variable name
which is going to be create
orders table
it is always recommended to use relevant
variable names to make it more readable
and now
I'm going to use triple quotes
so the triple quote
will ensure
I can create my multi-line string
inside the triple code I am going to
write my
create command which is create table
here I am going to create an order
stable first
and
inside the orders table I am going to
create my
column names the First Column would be
the order ID
it is going to be of type integer and
I'll assign this order ID as my primary
key column
we'll give a comma
next
the second column would be
customer
underscore name
the customer name column would be of
type
varying character so I'll write worker
and I'll give a size of 30. and this is
also going to be
not null
moving ahead my fourth column would be
the product name column so I'll write
product underscore name
product name will be of type
varying character the size is let's say
20 and it is also not null
next
I am going to create my
fourth column which is the date on which
the item was ordered or the product was
ordered
so I'll write date ordered
the data type will be date
next
I'll create
a quantity column to keep track of the
number of quantities that were ordered
this is of type integer
my next column would be unit price which
will basically have information about
the price of each unit of product
unit price can be of type float
and finally I'll have the
phone number of the customer
I'll write phone number phone number can
be kept as of type varying character
I have assigned a size of 20
now let's give a semicolon and
will
close the
triple quotes
all right
so this is how the syntax would look
like
next
to run this we are first going to
call our create DB function so let me
give a comment as
connect to the database
I'll write connection
equal to
create underscore DB underscore
connection
my parameters would be
my hostname which is localhost my
username which is root
comma my password
and then my database name which is MySQL
underscore python so I'll write just DB
all right
finally let's execute this query using
the execute underscore
query function that we had created
earlier
this takes in two parameter the first
one is connection
followed by
the variable name which is create
orders underscore table
let us run it
okay there is some error here let's see
what's the error
okay so here we have put four double
quotes this should be triple quotes now
let's run it
okay there is another here let's debug
it
says name cursor not defined
let me just roll it to the above cell if
you see here in our execute underscore
query
function instead of
cursor
I have written cursor so R is missing
let's redone this
and now let's run this again there you
go you can see here mySQL database
connection successful even our query was
also successful
now if you want to recheck if the table
that is orders was created or not you
can check it on the MySQL workbench so
let me show you how to do it so I am on
my MySQL workbench and under MySQL
underscore python database you have
something called Stables let me just
right click and I'll select refresh all
there you go you can see this Arrow just
click on this arrow and here you can see
we have a table called orders so we have
created a table called orders now you
can check the columns as well you have
the order ID you have the order ID the
customer name product name ordered date
quantity unit price and phone number now
it's time for us to insert a few records
to this table which is orders
now to insert records I'll give a
comment as insert
data
I'll start with the
variable name let's say the variable
name is data underscore
orders
I'll give triple quotes
next
I'll write my insert into command so
I'll write insert
into
my table name that is orders followed by
values
and now I'll start entering
my records for each of the rows so first
I'll give 1 0 1 which is the order ID
then I'll give the
customer's name let's say Steve
and the product he had ordered is let's
say laptop
then I'll give my date in which the item
was ordered
let's say it is 2018
I'll choose
zero six as the month and the date is
let's say 12.
we give another comma this time we'll
pass in the quantity which is 2
let's say the price of each laptop was
eight hundred dollars
and
will give a
phone number this is random let's say
six to
9 3
7 3
0
let's say
802.
all right similarly I am going to insert
five more records of different customers
and their items that they have purchased
to the stable orders so here on my
notepad I have my rest of the five
records let me just copy it and we'll
paste it in the
cell here this will save us some time
okay
let me recheck if everything is fine
I'll give a comma here all right so we
have
six customers in our table which have
their customer IDs from one zero one to
one zero six you have Steve Jaws Stacy
Nancy Maria and Danny you have the
different items they have purchased
laptop books trousers t-shirts
headphones and smart TV is the date on
which they had ordered this item the
number of quantities they had ordered
and then we have the unit price and some
random phone numbers
so let's
create the connection now I'll write
connection
equal to
I'll write create underscore DB
underscore connection
then I'm going to give my same
parameters let me just copy it from the
top which is localhost
the hostname
root is my username then we have
password and the database name
and then
I'll use the same query as above which
is execute query
I'll copy this
paste it here and instead of create
order stable variable I'll put as data
underscore orders
so this will store my
insert into command you can see the
variable I have used here is data
underscore orders
now it's time let's just run it
all right
there was some mistake here let's debug
it
again this would be triple quotes and
not
4 now let me rerun it again there you go
you can see here mySQL database
connection successful and my query was
also successful
no
we'll create
another user defined function which will
help us read query and display the
results
so I'll write
my function name as
DF read underscore
query
this will take into parameters
connection and query
then I'll write cursor
equal to
connection dot cursor
I'll put my
result as none
and then I'll use my try and accept
block I'll write try
cursor Dot
execute
this will take in one parameter which is
query and then I'll
give another variable which is result
equal to
cursor dot fetch all now this fetchall
method
will return
all the
results in the table
I'll write return
result
next
we'll use the accept block
so I'll write accept
error as err give a colon and I'll reuse
my print statement
scroll this down
I'll use my formatting f
error
give a colon followed by a space
within single quotes
inside curly braces I'll give err and
close my double quotes
let's run it all right so now we are all
set
now we are going to use our select
Clause having whereby
then we'll see how to use Auto by Clause
some inbuilt functions we'll update some
records delete some records and do a lot
of other stuff
so
let's start with our first query
so our first query is going to be
using the
select statement
all right so suppose
I want to display all the records that
we have inserted into our order table
so the way to do is
I'll assign my query to a variable let's
say q1
I'll give
triple quotes
within triple quotes I'll write select
star from orders
will give a semicolon followed by the
triple quotes
now we'll establish the connection so
let me just go to the top and I'll copy
this line
which is to connect to our database
I'll paste it here
now we'll
create a variable called results that
will store the result of this query
and we are going to assign this variable
to
our function that is read query and this
read query will have
two parameters the connection and the
variable name which is q1 for the query
next to display I am going to use a for
Loop I'll write 4
results
for result
in
results
print
I'll say result
now we are done
let's just run this query
there you go you can see here we have
successfully printed
all the rows in our table which is
orders you can see we have six records
in total
now we are going to explore a few more
queries so let me just copy this and we
are going to edit in the same query
I'll paste it here
next let's say you want to display
individual columns from the table and
not all the columns so let me
let me create the variable Q2
now instead of star I am going to
display only the customer name
and let's see the phone numbers of the
customer so I'll write phone underscore
number
all right the rest all Remains the Same
let me just recheck it and here instead
of
q1 will put Q2
and
let's run this cell all right you can
see here now we have displayed only two
columns the First Column is the customer
name and then we have the respective
phone numbers
okay
now let me just paste that query again
now we are going to see how you can use
an inbuilt function that is
in our table we have the
order date and from the order date we
are only going to display the different
years that are present in the order date
so to do that I am going to use the year
function I'll add this query instead of
q1 I'll make it Q3 and here I am going
to write select
here which is my function name from my
column which is date ordered
from orders and here I'll change this to
Q3
q1 Q2 Q3 are basically query 1 query 2
and query 3 let's run it there you go so
we have successfully extracted the
different years present in the order
date column
now if you want to display the distinct
or the unit dates present in the column
you can
use the distinct keyword in the select
statement so the way to do it is I'll
write select
distinct
give a space
the rest of the query Remains the Same
and here instead of Q3 I'll write Q4
I'll make this as Q4
let's run it
you can see 2018 and 2019 are the unique
year values that are present in the
order date column
okay
now moving ahead
let's write our fifth query and this
time we are going to explore how you can
use the where clause
so I'll change this to Q5
before I write my query
so let's say you want to display all the
orders
that were ordered before
31st of December 2018.
so to filter this we are going to use
the where clause
so I'll write select
star from orders
next I'll write where
my date underscore ordered
is less than
within course I'll give my date value
which is 2018 December
31st
so all the items or the products that
were ordered before 31st of December
2018 will be displayed so let's run it
all right you can see here there are
three orders in our table which have
been ordered before
31st of December
now moving ahead
we want to display
all the orders that were made after 31st
of December
so here
what you can do is I'll just copy the
above query again I'll copy this line
so instead of less than 31st of December
2018 I'll make it as greater than so
every order that was placed after 31st
of December will be displayed
if you run it so you can see here there
are three orders in our table which were
ordered after 31st of December 2018.
now moving ahead
let's write a seventh query
now let's see how the order by Clause
Works in SQL so you can filter your
results based on a particular column or
sort it based on a particular column
so this is going to be my query seven
I'll write it from scratch again let's
see
you want to display all the columns from
the table so I'll write select star from
orders
then I am going to use order by
unit price
I'll give a semicolon
let's run this query and see the output
now if you see the result here
and you mark the unit price column
the result has been ordered in ascending
order of unit price you see here it
starts with the lowest price and then
goes on with the highest price towards
the end now if you want to order it in
descending order you can use the keyword
desc
so this will ensure your top
or the most expensive products appear at
the top and the least expensive products
appear at the bottom
all right
next
let's see how you can create a data
frame
from the given table so as you know
using jupyter notebook and pandas you
can create data frames and work on it
very easily so with this table also we
can create our own data frame
so for that let me create an empty list
first I'll write from
DB equal to I'll assign this as an empty
list
so we are going to return a list of
lists and then create a pandas data
frame
next I'll write my for Loop I'll write
for result in
results
I'll assign result
to
list of results so I am converting the
result into a list
and then I am going to append it to the
empty variable or the empty list which
is from underscore DB Dot
append
I'll append the result to
my empty list
next
we need to pass in the
columns now that will be part of our
data frame so I'll write
columns equal to this column I'll pass
it
Within a list so I'll give my first
column as order ID then we have the
customer name
next I have my
product name
then I have the date on which it was
ordered
give a comma then we'll have the
quantity column
let me write it in the next line
next we have the unit price column
and finally we have the
phone number column so I'll write within
double quotes
phone number
and this we are going to assign it to a
data frame so I'll be using PD Dot
data frame which is my function to
convert a list into a data frame
my variable I am going to pass is from
underscore DB
and I'll write
my next argument is columns equal to
my variable name that is columns
finally let's display
the data frame which is DF all right
so here I am creating a empty list first
and then
I am creating a
for Loop and I am appending the results
to my empty list here you can see I have
created my column list
and using pd.d to frame I'm converting
the list into a data frame
if I run this
this is append and not appends
all right you can see we have our
data frame ready this is the index
column it starts from 0 onwards and then
we have the different
column names
okay
now let's see how to use the update
command
now suppose
you want to change the unit price of one
of the orders
you can use the update command so the
way to do it I'll first
create my variable let's say update
and I'll give three
quotes or triple quotes
then I'll use my update command which is
update followed by the table name that
is orders next I'll write set
let's say unit underscore price
if you see this let's say I want to set
the unit price of trousers from fifty
dollars to let's say forty five dollars
I want to update this particular record
so I'm going to write set unit price
column
equal to
45 dollars where
the order ID equal to
one zero three
so this query will update the
third row in our table which is order ID
one zero three
so it will update from 50 to 45 dollars
I'll close the triple quotes
and now
I'll use the
connection
queries again
let me just paste it here
all right
I'll delete
these three lines of code and instead of
that I'll put execute underscore
query
and this will take into parameters as
always which is going to be connection
followed by the variable name that is
update
let's run it you see here it says mySQL
database connection successful query was
successful
now you can recheck that
to do it let me just go to the top and
will
just copy our first query which is q1
I'll copy this
and I'll paste it here
let me just rename this now
this will be
Q8
and I'll change this as well
I'll write select start from orders
where
my order ID equal to 103.
let's see the unit price of one zero
three now you can see here instead of 50
now we have updated it to 45 dollars
all right
now the last command we are going to say
is how you can delete a record from the
table
I'll write delete command as my comment
now to delete a query
I'll first
keep my variable name which is delete
underscore order
and I'll pass in within
triple quotes
next I'll write my delete query which is
delete from my table name that is orders
then I'll give my where Clause where
let's say I want to delete my order ID
105.
let me just go to the top and explain
you again
so if you see this we want to delete the
order id105 which was for customer name
Maria and shared ordered headphones we
want to completely remove this
particular record
so
I have my delete query ready
now let me just
create my connection and display the
results so I'll go to the top and I'll
copy this connection command which also
has the execute query command
and I'll paste it here
and I'm going to make a change here
instead of update we'll write delete
underscore order
everything looks good let's just run it
you can see our query was successful
and now
if you want to print it let me just show
you
I'll just copy this
will paste it here
I'll make this as q9
I want to verify if my order id105 was
deleted or not
instead of this statement I'll write
select star from orders
and here I'll change this to q9
if I run this
you can see it here you can Mark order
id105 was deleted and it no more appears
in this table
all right so this brings us to the end
of the demonstration on SQL with python
let me just
scroll you through what we did so first
we imported the important libraries
MySQL connector then we imported the
error function then we imported pandas
using PD
we learned how to create a server
connection to mySQL database we created
a new database that is MySQL underscore
python and now we connected to the
database
we created a function to execute our
queries we saw how you can write a
create table command
then we inserted a few records to our
order stable
we created a read underscore query
command to read the queries and display
the results
then we started exploring our
different SQL commands one by one we saw
how to use select query then we selected
a few individual columns from our table
followed by using a
inbuilt function which was here then we
saw how to use the distinct keyword
after that we used our where Clause to
filter our table based on specific
conditions
we saw how to order your results based
on a particular column
then we saw how you could convert the
table into a data frame using
PD dot dataframe function
finally we learned how to use the update
command and the delete command and this
was all for data analytics bootcamp hope
you guys found it informative and
helpful if you like this session then
like share and subscribe if you have any
questions then you can drop them in the
comment section below thanks for
watching and stay tuned for more from
Simply learn
foreign
hi there if you like this video
subscribe to the simply learned YouTube
channel and click here to watch similar
videos turn it up and get certified
click here